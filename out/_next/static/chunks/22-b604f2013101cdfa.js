(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{46601:function(){},86260:function(f,e,a){"use strict";a.d(e,{Hv:function(){return n},O0:function(){return l},RI:function(){return p},YW:function(){return r},_W:function(){return d},hs:function(){return b},i3:function(){return s},iC:function(){return t},jn:function(){return o},um:function(){return i}});let t="Distributed Crypto",n="Distributed Crypto is a decentralized data marketplace that allows anyone to buy and sell data sets with just a wallet.",b={id:314159,name:"Filecoin Calibration",symbol:"tFIL",blockTimeSeconds:30,rpc:"https://calibration.node.glif.io/",explorerUrl:"https://calibration.filscan.io/"},i="distributed crypto_listings_314159_440",r="distributed crypto_offers_314159_441",c={id:1,address:"0x3CCAFaC2Cd44664bBb22F1fe9FBaEbcfcFFB2898",name:"Oil price data set",image:"https://i.ibb.co/6YfmGCS/oilprices.png",description:"The data contains Weekly crude oil prices from 5/1987 to 9/2023",keywords:["oil","price","energy"],purchases:0,createdBy:"0xf4982D4aC99d25d89Cc8993a88Dc643832B1515b",createdAt:Date.now(),currency:b.symbol,verified:!1,price:.5,size:"10000000"},s=[["2023-05-01"],["2023-06-01",2],["2023-07-01",3],["2023-08-01",4],["2023-09-01",5],["2023-9-04",4],["2023-9-06",3],["2023-12-01",2],["2024-01-01",1],["2024-02-01",2]].map(f=>[f[0],f[1]/100]),o=()=>({...c,id:Math.round(1e8*Math.random()),createdAt:Date.now(),price:Math.round(10*Math.random())/10}),d="https://saturn.ms/ipfs",l="0xf4982D4aC99d25d89Cc8993a88Dc643832B1515b",p=[{name:"VideoGamePerformance",description:"A dataset containing performance metrics and user behavior data from various video games.",example:"Includes player scores, game completion times, and in-game purchases."},{name:"SocialMediaInteractions",description:"A dataset capturing interactions, comments, likes, and shares on a popular social media platform.",example:"Tracks user engagement with posts, hashtags, and user-generated content."},{name:"AstronomicalObservations",description:"A scientific archive with astronomical observations, star catalogs, and celestial object data.",example:"Includes telescope images, spectral data, and orbital parameters of celestial bodies."},{name:"HealthcareClinicalTrials",description:"A dataset containing records of clinical trials, drug effectiveness studies, and patient outcomes.",example:"Includes patient profiles, treatment regimens, and trial results."},{name:"VideoStreamingLogs",description:"A dataset of logs from a video streaming platform, including user sessions, video requests, and quality metrics.",example:"Tracks buffering events, video resolutions, and playback duration."},{name:"SocialNetworkFriendships",description:"A dataset representing friendships, connections, and interactions within a social network.",example:"Includes friend lists, mutual connections, and messaging history."},{name:"GenomicSequences",description:"A scientific archive of genomic sequences, DNA data, and genetic variations.",example:"Includes DNA base pairs, gene annotations, and genome assembly information."},{name:"VideoSurveillanceFootage",description:"A dataset comprising video footage from surveillance cameras in public areas.",example:"Includes timestamps, camera locations, and object detection results."},{name:"SocialMediaInfluencerProfiles",description:"A dataset of social media influencer profiles, follower counts, and engagement statistics.",example:"Tracks influencers' content categories, sponsored posts, and audience demographics."},{name:"EnvironmentalSensorReadings",description:"A scientific archive with environmental sensor readings, weather data, and pollution measurements.",example:"Includes temperature, humidity, air quality, and precipitation readings."}],u=p.map(f=>o(f)),m={};u.forEach(f=>m[f.id]=f)},66978:function(f,e,a){"use strict";a.d(e,{PT:function(){return c},BN:function(){return r},sd:function(){return o},w1:function(){return s}});var t=a(28410);let n={abi:[{inputs:[{internalType:"string",name:"_cid",type:"string"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"address",name:"_adminAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"_price",type:"uint256"}],name:"PurchaseEvent",type:"event"},{inputs:[],name:"active",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_newPrice",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMetadata",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"hasAccess",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"purchaseAccess",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"payable",type:"function"},{inputs:[],name:"toggleActive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalPurchases",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],bytecode:"0x608060405234801562000010575f80fd5b506040516200120638038062001206833981810160405281019062000036919062000317565b335f806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508260029081620000869190620005bd565b5081600181905550600160035f6101000a81548160ff02191690831515021790555080600360016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505f600481905550505050620006a1565b5f604051905090565b5f80fd5b5f80fd5b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6200015a8262000112565b810181811067ffffffffffffffff821117156200017c576200017b62000122565b5b80604052505050565b5f62000190620000f9565b90506200019e82826200014f565b919050565b5f67ffffffffffffffff821115620001c057620001bf62000122565b5b620001cb8262000112565b9050602081019050919050565b5f5b83811015620001f7578082015181840152602081019050620001da565b5f8484015250505050565b5f620002186200021284620001a3565b62000185565b9050828152602081018484840111156200023757620002366200010e565b5b62000244848285620001d8565b509392505050565b5f82601f8301126200026357620002626200010a565b5b81516200027584826020860162000202565b91505092915050565b5f819050919050565b62000292816200027e565b81146200029d575f80fd5b50565b5f81519050620002b08162000287565b92915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f620002e182620002b6565b9050919050565b620002f381620002d5565b8114620002fe575f80fd5b50565b5f815190506200031181620002e8565b92915050565b5f805f6060848603121562000331576200033062000102565b5b5f84015167ffffffffffffffff81111562000351576200035062000106565b5b6200035f868287016200024c565b93505060206200037286828701620002a0565b9250506040620003858682870162000301565b9150509250925092565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680620003de57607f821691505b602082108103620003f457620003f362000399565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302620004587fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200041b565b6200046486836200041b565b95508019841693508086168417925050509392505050565b5f819050919050565b5f620004a56200049f62000499846200027e565b6200047c565b6200027e565b9050919050565b5f819050919050565b620004c08362000485565b620004d8620004cf82620004ac565b84845462000427565b825550505050565b5f90565b620004ee620004e0565b620004fb818484620004b5565b505050565b5b818110156200052257620005165f82620004e4565b60018101905062000501565b5050565b601f82111562000571576200053b81620003fa565b62000546846200040c565b8101602085101562000556578190505b6200056e62000565856200040c565b83018262000500565b50505b505050565b5f82821c905092915050565b5f620005935f198460080262000576565b1980831691505092915050565b5f620005ad838362000582565b9150826002028217905092915050565b620005c8826200038f565b67ffffffffffffffff811115620005e457620005e362000122565b5b620005f08254620003c6565b620005fd82828562000526565b5f60209050601f83116001811462000633575f84156200061e578287015190505b6200062a8582620005a0565b86555062000699565b601f1984166200064386620003fa565b5f5b828110156200066c5784890151825560018201915060208501945060208101905062000645565b868310156200068c578489015162000688601f89168262000582565b8355505b6001600288020188555050505b505050505050565b610b5780620006af5f395ff3fe608060405260043610610085575f3560e01c806395a078e81161005857806395a078e81461012057806399e288d81461015c578063a035b1fe1461017a578063a2b40d19146101a4578063d5f39488146101cc57610085565b806302fb0c5e1461008957806329c68dc1146100b35780635962a941146100c95780637a5b4f59146100f3575b5f80fd5b348015610094575f80fd5b5061009d6101f6565b6040516100aa9190610704565b60405180910390f35b3480156100be575f80fd5b506100c7610208565b005b3480156100d4575f80fd5b506100dd610288565b6040516100ea9190610735565b60405180910390f35b3480156100fe575f80fd5b5061010761028e565b60405161011794939291906107d8565b60405180910390f35b34801561012b575f80fd5b5061014660048036038101906101419190610880565b6103a2565b6040516101539190610704565b60405180910390f35b6101646103bf565b60405161017191906108ab565b60405180910390f35b348015610185575f80fd5b5061018e610661565b60405161019b9190610735565b60405180910390f35b3480156101af575f80fd5b506101ca60048036038101906101c591906108f5565b610667565b005b3480156101d7575f80fd5b506101e06106c7565b6040516101ed919061092f565b60405180910390f35b60035f9054906101000a900460ff1681565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461025e575f80fd5b60035f9054906101000a900460ff161560035f6101000a81548160ff021916908315150217905550565b60045481565b60605f805f60055f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff166102f55760405180602001604052805f81525061037f565b6002805461030290610975565b80601f016020809104026020016040519081016040528092919081815260200182805461032e90610975565b80156103795780601f1061035057610100808354040283529160200191610379565b820191905f5260205f20905b81548152906001019060200180831161035c57829003601f168201915b50505050505b60015460035f9054906101000a900460ff16600454935093509350935090919293565b6005602052805f5260405f205f915054906101000a900460ff1681565b606060035f9054906101000a900460ff1661040f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040690610a15565b60405180910390fd5b5f60015414158015610468575060055f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16155b1561057e5760015434146104b1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104a890610aa3565b60405180910390fd5b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc3490811502906040515f60405180830381858888f19350505050158015610513573d5f803e3d5ffd5b503373ffffffffffffffffffffffffffffffffffffffff167faaabb43b14d633be07bf0db4108608ef34d01ff540a6d923a90e14a1455dafdf60015460405161055c9190610735565b60405180910390a2600160045f8282546105769190610aee565b925050819055505b600160055f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff021916908315150217905550600280546105e090610975565b80601f016020809104026020016040519081016040528092919081815260200182805461060c90610975565b80156106575780601f1061062e57610100808354040283529160200191610657565b820191905f5260205f20905b81548152906001019060200180831161063a57829003601f168201915b5050505050905090565b60015481565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146106bd575f80fd5b8060018190555050565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b5f8115159050919050565b6106fe816106ea565b82525050565b5f6020820190506107175f8301846106f5565b92915050565b5f819050919050565b61072f8161071d565b82525050565b5f6020820190506107485f830184610726565b92915050565b5f81519050919050565b5f82825260208201905092915050565b5f5b8381101561078557808201518184015260208101905061076a565b5f8484015250505050565b5f601f19601f8301169050919050565b5f6107aa8261074e565b6107b48185610758565b93506107c4818560208601610768565b6107cd81610790565b840191505092915050565b5f6080820190508181035f8301526107f081876107a0565b90506107ff6020830186610726565b61080c60408301856106f5565b6108196060830184610726565b95945050505050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61084f82610826565b9050919050565b61085f81610845565b8114610869575f80fd5b50565b5f8135905061087a81610856565b92915050565b5f6020828403121561089557610894610822565b5b5f6108a28482850161086c565b91505092915050565b5f6020820190508181035f8301526108c381846107a0565b905092915050565b6108d48161071d565b81146108de575f80fd5b50565b5f813590506108ef816108cb565b92915050565b5f6020828403121561090a57610909610822565b5b5f610917848285016108e1565b91505092915050565b61092981610845565b82525050565b5f6020820190506109425f830184610920565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061098c57607f821691505b60208210810361099f5761099e610948565b5b50919050565b7f436f6e747261637420776173206d61726b656420696e616374697665206279205f8201527f63726561746f7200000000000000000000000000000000000000000000000000602082015250565b5f6109ff602783610758565b9150610a0a826109a5565b604082019050919050565b5f6020820190508181035f830152610a2c816109f3565b9050919050565b7f496e636f72726563742070726963652c20706c656173652063616c6c20636f6e5f8201527f74726163742077697468206e6f6e7a65726f2076616c75650000000000000000602082015250565b5f610a8d603883610758565b9150610a9882610a33565b604082019050919050565b5f6020820190508181035f830152610aba81610a81565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610af88261071d565b9150610b038361071d565b9250828201905080821115610b1b57610b1a610ac1565b5b9291505056fea2646970667358221220013cc3828b6aa616ddc863aa2612e567bd53898fcb352fb5ce77a712daf93f3b64736f6c63430008150033"},b={abi:[{inputs:[{internalType:"address",name:"",type:"address"}],name:"getPolicy",outputs:[{components:[{internalType:"bool",name:"allowInsert",type:"bool"},{internalType:"bool",name:"allowUpdate",type:"bool"},{internalType:"bool",name:"allowDelete",type:"bool"},{internalType:"string",name:"whereClause",type:"string"},{internalType:"string",name:"withCheck",type:"string"},{internalType:"string[]",name:"updatableColumns",type:"string[]"}],internalType:"struct TablelandPolicy",name:"",type:"tuple"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"getPolicy",outputs:[{components:[{internalType:"bool",name:"allowInsert",type:"bool"},{internalType:"bool",name:"allowUpdate",type:"bool"},{internalType:"bool",name:"allowDelete",type:"bool"},{internalType:"string",name:"whereClause",type:"string"},{internalType:"string",name:"withCheck",type:"string"},{internalType:"string[]",name:"updatableColumns",type:"string[]"}],internalType:"struct TablelandPolicy",name:"",type:"tuple"}],stateMutability:"payable",type:"function"}],bytecode:"0x608060405234801561000f575f80fd5b506104ef8061001d5f395ff3fe608060405260043610610028575f3560e01c80633791dc6a1461002c57806366df322e1461005c575b5f80fd5b610046600480360381019061004191906101dd565b61008c565b60405161005391906103fb565b60405180910390f35b6100766004803603810190610071919061044e565b610098565b60405161008391906103fb565b60405180910390f35b610094610146565b5f80fd5b6100a0610146565b6040518060c001604052806001151581526020016001151581526020015f1515815260200160405180602001604052805f815250815260200160405180602001604052805f81525081526020015f67ffffffffffffffff8111156101075761010661048c565b5b60405190808252806020026020018201604052801561013a57816020015b60608152602001906001900390816101255790505b50815250905092915050565b6040518060c001604052805f151581526020015f151581526020015f151581526020016060815260200160608152602001606081525090565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6101ac82610183565b9050919050565b6101bc816101a2565b81146101c6575f80fd5b50565b5f813590506101d7816101b3565b92915050565b5f602082840312156101f2576101f161017f565b5b5f6101ff848285016101c9565b91505092915050565b5f8115159050919050565b61021c81610208565b82525050565b5f81519050919050565b5f82825260208201905092915050565b5f5b8381101561025957808201518184015260208101905061023e565b5f8484015250505050565b5f601f19601f8301169050919050565b5f61027e82610222565b610288818561022c565b935061029881856020860161023c565b6102a181610264565b840191505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f6102e08383610274565b905092915050565b5f602082019050919050565b5f6102fe826102ac565b61030881856102b6565b93508360208202850161031a856102c6565b805f5b85811015610355578484038952815161033685826102d5565b9450610341836102e8565b925060208a0199505060018101905061031d565b50829750879550505050505092915050565b5f60c083015f83015161037c5f860182610213565b50602083015161038f6020860182610213565b5060408301516103a26040860182610213565b50606083015184820360608601526103ba8282610274565b915050608083015184820360808601526103d48282610274565b91505060a083015184820360a08601526103ee82826102f4565b9150508091505092915050565b5f6020820190508181035f8301526104138184610367565b905092915050565b5f819050919050565b61042d8161041b565b8114610437575f80fd5b50565b5f8135905061044881610424565b92915050565b5f80604083850312156104645761046361017f565b5b5f610471858286016101c9565b92505060206104828582860161043a565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffdfea26469706673582212202edf4cb4927bcde63aa730f6a5853a5d8fcb5fc5b13d0cd8807547daa0c8737864736f6c63430008150033"};var i=a(86260);async function r(f){let e=new t.lV(b.abi,b.bytecode,f),a=await e.deploy();return console.log("Deploying policy contract..."),await a.deployed(),console.log("deployed policy contract...",a.address),a}async function c(f,e,a){let b=new t.lV(n.abi,n.bytecode,f),r=await b.deploy(e,a,i.O0);return console.log("Deploying contract...",e,a),await r.deployed(),console.log("deployed contract...",r.address),r}async function s(f,e,a){let b=new t.CH(e,n.abi,f),i=await b.purchaseAccess({value:a});await i.wait(),console.log("Purchased contract...",i);let r=await b.purchaseAccess.call();return{cid:r}}let o=async(f,e)=>{let a=new t.CH(e,n.abi,f),b=await a.getMetadata.call();return b}},23199:function(f,e,a){"use strict";a.d(e,{Cm:function(){return u},Fq:function(){return c},I0:function(){return d},LR:function(){return o},X8:function(){return p},Y9:function(){return s},dI:function(){return l},eq:function(){return m}});var t=a(62364),n=a(73760),b=a(86260),i=a(66978);let r=new t.vo({autoWait:!0}),c=async f=>{let e,a,n;if(!f){alert("Please connect wallet");return}if(b.um&&b.YW)e=b.um,a=b.YW;else{let f=b.iC.toLowerCase(),{meta:t}=await r.prepare("CREATE TABLE ".concat("".concat(f,"_listings")," (id integer primary key, verified integer, name text, created_by text, \n            created_at integer, image text, description text, purchases integer, price integer, address text);")).run(),{meta:n}=await r.prepare("CREATE TABLE ".concat("".concat(f,"_offers")," (id integer primary key, amount integer, created_by text, created_at integer, listing_id integer, address text);")).run();e=t.txn.name,a=n.txn.name}let c=new t.vo({signer:f,autoWait:!1}),s=new t.Bz(c.config),o=await (0,i.BN)(f);return n=await s.setController({controller:o.address,tableName:a}),await n.wait(),console.log("set controller",n),n=await s.setController({controller:o.address,tableName:e}),await n.wait(),console.log("set controller",n),console.log("setup",e,a),{listingTable:e,offerTable:a}},s=async(f,e)=>{let{results:a}=await r.prepare("SELECT * FROM ".concat(b.um," limit ").concat(e," offset ").concat(f,";")).all();return a},o=async f=>{let{results:e}=await r.prepare("SELECT * FROM ".concat(b.um," where address='").concat(encodeURIComponent(f),"'")).all();return e},d=async(f,e)=>{let a=new t.vo({signer:f}),{meta:n}=await a.prepare("update ".concat(b.um," set purchases=purchases+1 where address=?;")).bind(e).run();return await n.txn.wait()},l=async(f,e)=>{let a=new t.vo({signer:f}),{meta:n}=await a.prepare("update ".concat(b.um," set verified=1 where address=?;")).bind(e).run();return await n.txn.wait()},p=async(f,e)=>{let a=n.fi(e.price.toString()).toString();console.log("create",e,a);let i=new t.vo({signer:f}),{meta:r}=await i.prepare("insert into ".concat(b.um," (name, verified, created_by, created_at, image, description, purchases, price, address) values (?, 0, ?, ?, ?, ?, ?, ?, ?);")).bind(e.name,e.createdBy,e.createdAt,e.image,e.description,e.purchases,a,e.address).run();return console.log("created",r),await r.txn.wait()},u=async(f,e)=>{let a=new t.vo({signer:f}),i=n.fi(e.amount.toString()).toString(),{meta:r}=await a.prepare("insert into ".concat(b.YW," (amount, created_by, created_at, listing_id, address) values (?, ?, ?, ?, ?);")).bind(i,e.createdBy,e.createdAt,e.listingId,e.address).run();return await r.txn.wait()},m=async f=>{let{results:e}=await r.prepare("SELECT * FROM ".concat(b.YW," where address=?;")).bind(f).all();return e}}}]);