(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{93697:function(e,t,r){"use strict";let n,i,o,s,a,l;r.d(t,{ig:function(){return yS},Ag:function(){return eG}});let u="0x0000",c="Unknown",h="request",f="response",d="message",p=e=>crypto.getRandomValues(new Uint8Array(e)),g=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return (o=t)=>{let s="";for(;;){let t=r(i),a=i;for(;a--;)if((s+=e[t[a]&n]||"").length===o)return s}}},m=(e,t=21)=>g(e,t,p);function y(){let e=m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890");return e()}var v,A,b,E,w,N,I,_,k,P,T,x,R,S,C,O,B,F,D,U,L,M,G,q,j,z,H,K,Q,V,J,Y,X,W,Z,$,ee,et,er,en,ei,eo,es,ea,el,eu,ec,eh,ef,ed,ep,eg,em,ey,ev,eA,eb,eE,ew,eN,eI,e_,ek,eP,eT,ex,eR,eS,eC,eO,eB,eF,eD,eU,eL,eM,eG,eq,ej,ez,eH,eK,eQ,eV,eJ,eY,eX,eW,eZ,e$,e0,e1,e2=r(62601);class e6{constructor({source:e,target:t,methodClass:r}){this.allowOrigins="*",this.destroyed=!1,this.sequenceId=y(),this.callbackFunctions={},this.responseSequenceIds={},this.targetOrigin=t,this.sourceOrigin=e,this.methodClass=r,this.sourceOrigin.addEventListener(d,this._onmessage.bind(this))}async sendRequest(e){if(!this.destroyed)return new Promise((t,r)=>{this.targetOrigin.postMessage({sequenceId:this.sequenceId,type:h,method:e.method,params:e.params,postMessageTo:e.postMessageTo},this.allowOrigins),this.callbackFunctions[this.sequenceId]=e=>{e.code===u?t(e.result):r(e.error)},this.sequenceId=y()})}sendResponse(e){this.destroyed||(this.targetOrigin.postMessage({sequenceId:e.sequenceId,type:f,result:e.result},e.origin),this.responseSequenceIds[e.sequenceId]=!0)}async _onmessage(e){if(!this.destroyed){if(e.data.type===f){let t=e.data;if(!this.responseSequenceIds[t.sequenceId]){if(this.handleRequestMessage)this.handleRequestMessage(e);else{let e=this.callbackFunctions[t.sequenceId];void 0!==e&&"function"==typeof e&&e(t.result)}}}else if(e.data.type===h){let t,r;let n=e.data;if(this.callbackFunctions[n.sequenceId])return;if(this.handleResponseMessage){this.handleResponseMessage(e);return}if("Extension"===n.postMessageTo||"Browser"===n.postMessageTo&&e2.env.ENV&&"Browser"!==e2.env.ENV)return;if(this.methodClass){if(this.methodClass[n.method]){r=!0;try{let e=await this.methodClass[n.method](n.params);t={code:u,result:e}}catch(e){console.log(e),t={code:e?.code||c,error:e?.msg||e?.message}}}}else t={code:c,error:"Please pass in the methodClass, in order to call methods in the class"};(!this.methodClass||r)&&this.sendResponse({sequenceId:n.sequenceId,type:f,result:t,origin:e.origin})}}}onRequestMessage(e){this.handleResponseMessage=e}onResponseMessage(e){this.handleRequestMessage=e}destroy(){this.destroyed=!0,this.sourceOrigin.removeEventListener(d,this._onmessage.bind(this))}}r(62601);var e3=r(28729);let e5=!1,e4=!1,e8={debug:1,default:2,info:2,warning:3,error:4,off:5},e9=2,e7=null,te=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(E=ef||(ef={})).DEBUG="DEBUG",E.INFO="INFO",E.WARNING="WARNING",E.ERROR="ERROR",E.OFF="OFF",(w=ed||(ed={})).UNKNOWN_ERROR="UNKNOWN_ERROR",w.NOT_IMPLEMENTED="NOT_IMPLEMENTED",w.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",w.NETWORK_ERROR="NETWORK_ERROR",w.SERVER_ERROR="SERVER_ERROR",w.TIMEOUT="TIMEOUT",w.BUFFER_OVERRUN="BUFFER_OVERRUN",w.NUMERIC_FAULT="NUMERIC_FAULT",w.MISSING_NEW="MISSING_NEW",w.INVALID_ARGUMENT="INVALID_ARGUMENT",w.MISSING_ARGUMENT="MISSING_ARGUMENT",w.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",w.CALL_EXCEPTION="CALL_EXCEPTION",w.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",w.NONCE_EXPIRED="NONCE_EXPIRED",w.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",w.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",w.TRANSACTION_REPLACED="TRANSACTION_REPLACED",w.ACTION_REJECTED="ACTION_REJECTED";let tt="0123456789abcdef";class tr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==e8[r]&&this.throwArgumentError("invalid log level name","logLevel",e),e9>e8[r]||console.log.apply(console,t)}debug(...e){this._log(tr.levels.DEBUG,e)}info(...e){this._log(tr.levels.INFO,e)}warn(...e){this._log(tr.levels.WARNING,e)}makeError(e,t,r){if(e4)return this.makeError("censored error",t,{});t||(t=tr.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=tt[t[e]>>4]+tt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case ed.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ed.CALL_EXCEPTION:case ed.INSUFFICIENT_FUNDS:case ed.MISSING_NEW:case ed.NONCE_EXPIRED:case ed.REPLACEMENT_UNDERPRICED:case ed.TRANSACTION_REPLACED:case ed.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,tr.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),te&&this.throwError("platform missing String.prototype.normalize",tr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:te})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,tr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,tr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,tr.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,tr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",tr.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",tr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",tr.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return e7||(e7=new tr("logger/5.7.0")),e7}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",tr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),e5){if(!e)return;this.globalLogger().throwError("error censorship permanent",tr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}e4=!!e,e5=!!t}static setLogLevel(e){let t=e8[e.toLowerCase()];if(null==t){tr.globalLogger().warn("invalid log level - "+e);return}e9=t}static from(e){return new tr(e)}}tr.errors=ed,tr.levels=ef;let tn=new tr("properties/5.7.0");function ti(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function to(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function ts(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}l((i=i.apply(t,r||[])).next())})}function ta(e){let t={};for(let r in e)t[r]=e[r];return t}let tl={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function tu(e){return function(e){if(function e(t){if(null==t||tl[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return tn.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>tu(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&ti(t,r,tu(n))}return t}return tn.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}(e)}class tc{constructor(e){for(let t in e)this[t]=tu(e[t])}}let th="providers/5.6.8";var tf=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let td=new tr("abstract-signer/5.7.0"),tp=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],tg=[tr.errors.INSUFFICIENT_FUNDS,tr.errors.NONCE_EXPIRED,tr.errors.REPLACEMENT_UNDERPRICED];class tm{constructor(){td.checkAbstract(new.target,tm),ti(this,"_isSigner",!0)}getBalance(e){return tf(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return tf(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return tf(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield ts(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return tf(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield ts(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return tf(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return tf(this,void 0,void 0,function*(){this._checkProvider("getChainId");let e=yield this.provider.getNetwork();return e.chainId})}getGasPrice(){return tf(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return tf(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return tf(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===tp.indexOf(t)&&td.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=ta(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&td.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return tf(this,void 0,void 0,function*(){let t=yield ts(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>tf(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&td.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?td.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&td.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(r&&td.throwError("network does not support EIP-1559",tr.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):td.throwError("failed to get consistent fee data",tr.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(tg.indexOf(e.code)>=0)throw e;return td.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",tr.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&td.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield ts(t)})}_checkProvider(e){this.provider||td.throwError("missing provider",tr.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}var ty=r(56662),tv=r.n(ty);let tA=new tr("bytes/5.7.0");function tb(e){return!!e.toHexString}function tE(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return tE(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function tw(e){return tT(e)&&!(e.length%2)||tI(e)}function tN(e){return"number"==typeof e&&e==e&&e%1==0}function tI(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!tN(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!tN(r)||r<0||r>=256)return!1}return!0}function t_(e,t){if(t||(t={}),"number"==typeof e){tA.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),tE(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),tb(e)&&(e=e.toHexString()),tT(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":tA.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return tE(new Uint8Array(n))}return tI(e)?tE(new Uint8Array(e)):tA.throwArgumentError("invalid arrayify value","value",e)}function tk(e){let t=e.map(e=>t_(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),tE(n)}function tP(e){let t=t_(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function tT(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let tx="0123456789abcdef";function tR(e,t){if(t||(t={}),"number"==typeof e){tA.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=tx[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),tb(e))return e.toHexString();if(tT(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":tA.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(tI(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=tx[(240&n)>>4]+tx[15&n]}return t}return tA.throwArgumentError("invalid hexlify value","value",e)}function tS(e){if("string"!=typeof e)e=tR(e);else if(!tT(e)||e.length%2)return null;return(e.length-2)/2}function tC(e,t,r){return("string"!=typeof e?e=tR(e):(!tT(e)||e.length%2)&&tA.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function tO(e){let t="0x";return e.forEach(e=>{t+=tR(e).substring(2)}),t}function tB(e){let t=function(e){"string"!=typeof e&&(e=tR(e)),tT(e)||tA.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(tR(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function tF(e,t){for("string"!=typeof e?e=tR(e):tT(e)||tA.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&tA.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function tD(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(tw(e)){let r=t_(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=tR(r.slice(0,32)),t.s=tR(r.slice(32,64))):65===r.length?(t.r=tR(r.slice(0,32)),t.s=tR(r.slice(32,64)),t.v=r[64]):tA.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:tA.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=tR(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let r=function(e,t){(e=t_(e)).length>t&&tA.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),tE(r)}(t_(t._vs),32);t._vs=tR(r);let n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&tA.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;let i=tR(r);null==t.s?t.s=i:t.s!==i&&tA.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?tA.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&tA.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&tT(t.r)?t.r=tF(t.r,32):tA.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&tT(t.s)?t.s=tF(t.s,32):tA.throwArgumentError("signature missing or invalid s","signature",e);let r=t_(t.s);r[0]>=128&&tA.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);let n=tR(r);t._vs&&(tT(t._vs)||tA.throwArgumentError("signature invalid _vs","signature",e),t._vs=tF(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&tA.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var tU=tv().BN;let tL=new tr("bignumber/5.7.0"),tM={},tG=!1;class tq{constructor(e,t){e!==tM&&tL.throwError("cannot call constructor directly; use BigNumber.from",tr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return tz(tH(this).fromTwos(e))}toTwos(e){return tz(tH(this).toTwos(e))}abs(){return"-"===this._hex[0]?tq.from(this._hex.substring(1)):this}add(e){return tz(tH(this).add(tH(e)))}sub(e){return tz(tH(this).sub(tH(e)))}div(e){let t=tq.from(e);return t.isZero()&&tK("division-by-zero","div"),tz(tH(this).div(tH(e)))}mul(e){return tz(tH(this).mul(tH(e)))}mod(e){let t=tH(e);return t.isNeg()&&tK("division-by-zero","mod"),tz(tH(this).umod(t))}pow(e){let t=tH(e);return t.isNeg()&&tK("negative-power","pow"),tz(tH(this).pow(t))}and(e){let t=tH(e);return(this.isNegative()||t.isNeg())&&tK("unbound-bitwise-result","and"),tz(tH(this).and(t))}or(e){let t=tH(e);return(this.isNegative()||t.isNeg())&&tK("unbound-bitwise-result","or"),tz(tH(this).or(t))}xor(e){let t=tH(e);return(this.isNegative()||t.isNeg())&&tK("unbound-bitwise-result","xor"),tz(tH(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&tK("negative-width","mask"),tz(tH(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&tK("negative-width","shl"),tz(tH(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&tK("negative-width","shr"),tz(tH(this).shrn(e))}eq(e){return tH(this).eq(tH(e))}lt(e){return tH(this).lt(tH(e))}lte(e){return tH(this).lte(tH(e))}gt(e){return tH(this).gt(tH(e))}gte(e){return tH(this).gte(tH(e))}isNegative(){return"-"===this._hex[0]}isZero(){return tH(this).isZero()}toNumber(){try{return tH(this).toNumber()}catch(e){tK("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return tL.throwError("this platform does not support BigInt",tr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?tG||(tG=!0,tL.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?tL.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",tr.errors.UNEXPECTED_ARGUMENT,{}):tL.throwError("BigNumber.toString does not accept parameters",tr.errors.UNEXPECTED_ARGUMENT,{})),tH(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof tq)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new tq(tM,tj(e)):e.match(/^-?[0-9]+$/)?new tq(tM,tj(new tU(e))):tL.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&tK("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&tK("overflow","BigNumber.from",e),tq.from(String(e));if("bigint"==typeof e)return tq.from(e.toString());if(tI(e))return tq.from(tR(e));if(e){if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return tq.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(tT(t)||"-"===t[0]&&tT(t.substring(1))))return tq.from(t)}}return tL.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function tj(e){if("string"!=typeof e)return tj(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&tL.throwArgumentError("invalid hex","value",e),"0x00"===(e=tj(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function tz(e){return tq.from(tj(e))}function tH(e){let t=tq.from(e).toHexString();return"-"===t[0]?new tU("-"+t.substring(3),16):new tU(t.substring(2),16)}function tK(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),tL.throwError(e,tr.errors.NUMERIC_FAULT,n)}var tQ=r(26398),tV=r.n(tQ);function tJ(e){return"0x"+tV().keccak_256(t_(e))}let tY=new tr("rlp/5.7.0");function tX(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function tW(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function tZ(e){return tR(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=tX(r.length);return n.unshift(247+n.length),n.concat(r)}tw(t)||tY.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call(t_(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=tX(r.length);return n.unshift(183+n.length),n.concat(r)}(e))}function t$(e,t,r,n){let i=[];for(;r<t+1+n;){let o=t0(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&tY.throwError("child data too short",tr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function t0(e,t){if(0===e.length&&tY.throwError("data too short",tr.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&tY.throwError("data short segment too short",tr.errors.BUFFER_OVERRUN,{});let n=tW(e,t+1,r);return t+1+r+n>e.length&&tY.throwError("data long segment too short",tr.errors.BUFFER_OVERRUN,{}),t$(e,t,t+1+r,r+n)}if(e[t]>=192){let r=e[t]-192;return t+1+r>e.length&&tY.throwError("data array too short",tr.errors.BUFFER_OVERRUN,{}),t$(e,t,t+1,r)}if(e[t]>=184){let r=e[t]-183;t+1+r>e.length&&tY.throwError("data array too short",tr.errors.BUFFER_OVERRUN,{});let n=tW(e,t+1,r);t+1+r+n>e.length&&tY.throwError("data array too short",tr.errors.BUFFER_OVERRUN,{});let i=tR(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}if(e[t]>=128){let r=e[t]-128;t+1+r>e.length&&tY.throwError("data too short",tr.errors.BUFFER_OVERRUN,{});let n=tR(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:tR(e[t])}}function t1(e){let t=t_(e),r=t0(t,0);return r.consumed!==t.length&&tY.throwArgumentError("invalid rlp data","data",e),r.result}let t2=new tr("address/5.7.0");function t6(e){tT(e,20)||t2.throwArgumentError("invalid address","address",e),e=e.toLowerCase();let t=e.substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=t_(tJ(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let t3={};for(let e=0;e<10;e++)t3[String(e)]=String(e);for(let e=0;e<26;e++)t3[String.fromCharCode(65+e)]=String(10+e);let t5=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);function t4(e){let t=null;if("string"!=typeof e&&t2.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=t6(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&t2.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){var r;for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>t3[e]).join("");for(;t.length>=t5;){let e=t.substring(0,t5);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&t2.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new tU(r,36).toString(16);t.length<40;)t="0"+t;t=t6("0x"+t)}else t2.throwArgumentError("invalid address","address",e);return t}let t8="hash/5.7.0",t9=new tr("strings/5.7.0");function t7(e,t,r,n,i){if(e===eg.BAD_PREFIX||e===eg.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===eg.OVERRUN?r.length-t-1:0}(N=ep||(ep={})).current="",N.NFC="NFC",N.NFD="NFD",N.NFKC="NFKC",N.NFKD="NFKD",(I=eg||(eg={})).UNEXPECTED_CONTINUE="unexpected continuation byte",I.BAD_PREFIX="bad codepoint prefix",I.OVERRUN="string overrun",I.MISSING_CONTINUE="missing continuation byte",I.OUT_OF_RANGE="out of UTF-8 range",I.UTF16_SURROGATE="UTF-16 surrogate",I.OVERLONG="overlong representation";let re=Object.freeze({error:function(e,t,r,n,i){return t9.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:t7,replace:function(e,t,r,n,i){return e===eg.OVERLONG?(n.push(i),0):(n.push(65533),t7(e,t,r,n,i))}});function rt(e,t){null==t&&(t=re.error),e=t_(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if((224&i)==192)o=1,s=127;else if((240&i)==224)o=2,s=2047;else if((248&i)==240)o=3,s=65535;else{(192&i)==128?n+=t(eg.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(eg.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(eg.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=e[n];if((192&i)!=128){n+=t(eg.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}if(null!==a){if(a>1114111){n+=t(eg.OUT_OF_RANGE,n-1-o,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(eg.UTF16_SURROGATE,n-1-o,e,r,a);continue}if(a<=s){n+=t(eg.OVERLONG,n-1-o,e,r,a);continue}r.push(a)}}return r}function rr(e,t=ep.current){t!=ep.current&&(t9.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return t_(r)}function rn(e,t){return rt(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}let ri=new tr(t8),ro=new Uint8Array(32);ro.fill(0);let rs=tq.from(-1),ra=tq.from(0),rl=tq.from(1),ru=tq.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rc=tF(rl.toHexString(),32),rh=tF(ra.toHexString(),32),rf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},rd=["name","version","chainId","verifyingContract","salt"];function rp(e){return function(t){return"string"!=typeof t&&ri.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let rg={name:rp("name"),version:rp("version"),chainId:function(e){try{return tq.from(e).toString()}catch(e){}return ri.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return t4(e).toLowerCase()}catch(e){}return ri.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=t_(e);if(32!==t.length)throw Error("bad length");return tR(t)}catch(e){}return ri.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function rm(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&ri.throwArgumentError("invalid numeric width","type",e);let i=ru.mask(r?n-1:n),o=r?i.add(rl).mul(rs):ra;return function(t){let r=tq.from(t);return(r.lt(o)||r.gt(i))&&ri.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),tF(r.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&ri.throwArgumentError("invalid bytes width","type",e),function(t){let n=t_(t);return n.length!==r&&ri.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){let t=t_(e),r=t.length%32;return r?tO([t,ro.slice(r)]):tR(t)}(t)}}}switch(e){case"address":return function(e){return tF(t4(e),32)};case"bool":return function(e){return e?rc:rh};case"bytes":return function(e){return tJ(e)};case"string":return function(e){return tJ(rr(e))}}return null}function ry(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class rv{constructor(e){ti(this,"types",Object.freeze(tu(e))),ti(this,"_encoderCache",{}),ti(this,"_types",{});let t={},r={},n={};for(let i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){let n={};e[i].forEach(o=>{n[o.name]&&ri.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,"types",e),n[o.name]=!0;let s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&ri.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);let a=rm(s);a||(r[s]||ri.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)})}let i=Object.keys(r).filter(e=>0===r[e].length);for(let o in 0===i.length?ri.throwArgumentError("missing primary type","types",e):i.length>1&&ri.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),ti(this,"primaryType",i[0]),!function i(o,s){s[o]&&ri.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),s[o]=!0,Object.keys(t[o]).forEach(e=>{r[e]&&(i(e,s),Object.keys(s).forEach(t=>{n[t][e]=!0}))}),delete s[o]}(this.primaryType,{}),n){let t=Object.keys(n[o]);t.sort(),this._types[o]=ry(o,e[o])+t.map(t=>ry(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=rm(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&ri.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(tJ)),tJ(tO(i))}}let r=this.types[e];if(r){let t=tJ(rr(this._types[e]));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?tJ(n):n});return n.unshift(t),tO(n)}}return ri.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||ri.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return tJ(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){{let n=rm(e);if(n)return r(e,t)}let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&ri.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):ri.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new rv(e)}static getPrimaryType(e){return rv.from(e).primaryType}static hashStruct(e,t,r){return rv.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=rf[r];n||ri.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>rd.indexOf(e.name)-rd.indexOf(t.name)),rv.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return tO(["0x1901",rv.hashDomain(e),rv.from(t).hash(r)])}static hash(e,t,r){return tJ(rv.encode(e,t,r))}static resolveNames(e,t,r,n){var i,o,s,a;return i=this,o=void 0,s=void 0,a=function*(){e=ta(e);let i={};e.verifyingContract&&!tT(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=rv.from(t);for(let e in o.visit(r,(e,t)=>("address"!==e||tT(t,20)||(i[t]="0x"),t)),i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:r=o.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t)}},new(s||(s=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}l((a=a.apply(i,o||[])).next())})}static getPayload(e,t,r){rv.hashDomain(e);let n={},i=[];rd.forEach(t=>{let r=e[t];null!=r&&(n[t]=rg[t](r),i.push({name:t,type:rf[t]}))});let o=rv.from(t),s=ta(t);return s.EIP712Domain?ri.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return tR(t_(t));if(e.match(/^u?int/))return tq.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&ri.throwArgumentError("invalid string","value",t),t}return ri.throwArgumentError("unsupported type","type",e)})}}}let rA=tq.from(0);var rb=r(55336),rE=r.n(rb);function rw(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?r.path:t)}},r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var rN=rI;function rI(e,t){if(!e)throw Error(t||"Assertion failed")}rI.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var r_=rw(function(e,t){function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}),rk=rw(function(e,t){t.assert=rN,t.toArray=r_.toArray,t.zero2=r_.zero2,t.toHex=r_.toHex,t.encode=r_.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,l=e.andln(3)+n&3,u=t.andln(3)+i&3;3===l&&(l=-1),3===u&&(u=-1),s=(1&l)==0?0:(3==(o=e.andln(7)+n&7)||5===o)&&2===u?-l:l,r[0].push(s),a=(1&u)==0?0:(3==(o=t.andln(7)+i&7)||5===o)&&2===l?-u:u,r[1].push(a),2*n===s+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(tv())(e,"hex","le")}}),rP=rk.getNAF,rT=rk.getJSF,rx=rk.assert;function rR(e,t){this.type=e,this.p=new(tv())(t.p,16),this.red=t.prime?tv().red(t.prime):tv().mont(this.p),this.zero=new(tv())(0).toRed(this.red),this.one=new(tv())(1).toRed(this.red),this.two=new(tv())(2).toRed(this.red),this.n=t.n&&new(tv())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function rS(e,t){this.curve=e,this.type=t,this.precomputed=null}rR.prototype.point=function(){throw Error("Not implemented")},rR.prototype.validate=function(){throw Error("Not implemented")},rR.prototype._fixedNafMul=function(e,t){rx(e.precomputed);var r,n,i=e._getDoubles(),o=rP(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[];for(r=0;r<o.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+o[l];a.push(n)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=s;h>0;h--){for(r=0;r<a.length;r++)(n=a[r])===h?c=c.mixedAdd(i.points[r]):n===-h&&(c=c.mixedAdd(i.points[r].neg()));u=u.add(c)}return u.toP()},rR.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=rP(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];rx(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},rR.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=t[o])._getNAFPoints(e);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1!==l[d]||1!==l[p]){c[d]=rP(r[d],l[d],this._bitLength),c[p]=rP(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h);continue}var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=rT(r[d],r[p]);for(s=0,h=Math.max(y[0].length,h),c[d]=Array(h),c[p]=Array(h);s<h;s++){var v=0|y[0][s],A=0|y[1][s];c[d][s]=m[(v+1)*3+(A+1)],c[p][s]=0,u[d]=g}}var b=this.jpoint(null,null,null),E=this._wnafT4;for(o=h;o>=0;o--){for(var w=0;o>=0;){var N=!0;for(s=0;s<n;s++)E[s]=0|c[s][o],0!==E[s]&&(N=!1);if(!N)break;w++,o--}if(o>=0&&w++,b=b.dblp(w),o<0)break;for(s=0;s<n;s++){var I=E[s];0!==I&&(I>0?a=u[s][I-1>>1]:I<0&&(a=u[s][-I-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?b:b.toP()},rR.BasePoint=rS,rS.prototype.eq=function(){throw Error("Not implemented")},rS.prototype.validate=function(){return this.curve.validate(this)},rR.prototype.decodePoint=function(e,t){e=rk.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?rx(e[e.length-1]%2==0):7===e[0]&&rx(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},rS.prototype.encodeCompressed=function(e){return this.encode(e,!0)},rS.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},rS.prototype.encode=function(e,t){return rk.encode(this._encode(t),e)},rS.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},rS.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},rS.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},rS.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},rS.prototype._getBeta=function(){return null},rS.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var rC=rw(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),rO=rk.assert;function rB(e){rR.call(this,"short",e),this.a=new(tv())(e.a,16).toRed(this.red),this.b=new(tv())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function rF(e,t,r,n){rR.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(tv())(t,16),this.y=new(tv())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function rD(e,t,r,n){rR.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(tv())(0)):(this.x=new(tv())(t,16),this.y=new(tv())(r,16),this.z=new(tv())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}rC(rB,rR),rB.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new(tv())(e.beta,16).toRed(this.red);else{var t,r,n,i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new(tv())(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],rO(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new(tv())(e.a,16),b:new(tv())(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},rB.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:tv().mont(e),r=new(tv())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(tv())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},rB.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),d=new(tv())(1),p=new(tv())(0),g=new(tv())(0),m=new(tv())(1),y=0;0!==h.cmpn(0);){var v=f.div(h);l=f.sub(v.mul(h)),u=g.sub(v.mul(d));var A=m.sub(v.mul(p));if(!n&&0>l.cmp(c))t=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++y)break;a=l,f=h,h=l,g=d,d=u,m=p,p=A}o=l.neg(),s=u;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},rB.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:l.add(u).neg()}},rB.prototype.pointFromX=function(e,t){(e=new(tv())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},rB.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},rB.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},rC(rF,rR.BasePoint),rB.prototype.point=function(e,t,r){return new rF(this,e,t,r)},rB.prototype.pointFromJSON=function(e,t){return rF.fromJSON(this,e,t)},rF.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},rF.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},rF.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},rF.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},rF.prototype.isInfinity=function(){return this.inf},rF.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},rF.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},rF.prototype.getX=function(){return this.x.fromRed()},rF.prototype.getY=function(){return this.y.fromRed()},rF.prototype.mul=function(e){return(e=new(tv())(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},rF.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},rF.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},rF.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},rF.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},rF.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},rC(rD,rR.BasePoint),rB.prototype.jpoint=function(e,t,r){return new rD(this,e,t,r)},rD.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},rD.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},rD.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,d,p)},rD.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},rD.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var v=u.redMul(a);t+1<e&&(l=l.redMul(f)),o=g,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},rD.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},rD.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=l,t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},rD.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},rD.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),l=t.redAdd(t),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},rD.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},rD.prototype.mul=function(e,t){return e=new(tv())(e,t),this.curve._wnafMul(this,e)},rD.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},rD.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},rD.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},rD.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var rU=rw(function(e,t){t.base=rR,t.short=rB,t.mont=null,t.edwards=null}),rL=rw(function(e,t){var r,n=rk.assert;function i(e){"short"===e.type?this.curve=new rU.short(e):"edwards"===e.type?this.curve=new rU.edwards(e):this.curve=new rU.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new i(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=i,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:rE().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:rE().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:rE().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:rE().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:rE().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rE().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rE().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:rE().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function rM(e){if(!(this instanceof rM))return new rM(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r_.toArray(e.entropy,e.entropyEnc||"hex"),r=r_.toArray(e.nonce,e.nonceEnc||"hex"),n=r_.toArray(e.pers,e.persEnc||"hex");rN(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}rM.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},rM.prototype._hmac=function(){return new(rE()).hmac(this.hash,this.K)},rM.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},rM.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=r_.toArray(e,t),r=r_.toArray(r,n),rN(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},rM.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=r_.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,r_.encode(o,t)};var rG=rk.assert;function rq(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}rq.fromPublic=function(e,t,r){return t instanceof rq?t:new rq(e,{pub:t,pubEnc:r})},rq.fromPrivate=function(e,t,r){return t instanceof rq?t:new rq(e,{priv:t,privEnc:r})},rq.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},rq.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},rq.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},rq.prototype._importPrivate=function(e,t){this.priv=new(tv())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},rq.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?rG(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&rG(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},rq.prototype.derive=function(e){return e.validate()||rG(e.validate(),"public point not validated"),e.mul(this.priv).getX()},rq.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},rq.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},rq.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rj=rk.assert;function rz(e,t){if(e instanceof rz)return e;this._importDER(e,t)||(rj(e.r&&e.s,"Signature without r or s"),this.r=new(tv())(e.r,16),this.s=new(tv())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function rH(){this.place=0}function rK(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function rQ(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function rV(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}rz.prototype._importDER=function(e,t){e=rk.toArray(e,t);var r=new rH;if(48!==e[r.place++])return!1;var n=rK(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var i=rK(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=rK(e,r);if(!1===s||e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(tv())(o),this.s=new(tv())(a),this.recoveryParam=null,!0},rz.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rQ(t),r=rQ(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];rV(n,t.length),(n=n.concat(t)).push(2),rV(n,r.length);var i=n.concat(r),o=[48];return rV(o,i.length),o=o.concat(i),rk.encode(o,e)};var rJ=function(){throw Error("unsupported")},rY=rk.assert;function rX(e){if(!(this instanceof rX))return new rX(e);"string"==typeof e&&(rY(Object.prototype.hasOwnProperty.call(rL,e),"Unknown curve "+e),e=rL[e]),e instanceof rL.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}rX.prototype.keyPair=function(e){return new rq(this,e)},rX.prototype.keyFromPrivate=function(e,t){return rq.fromPrivate(this,e,t)},rX.prototype.keyFromPublic=function(e,t){return rq.fromPublic(this,e,t)},rX.prototype.genKeyPair=function(e){e||(e={});for(var t=new rM({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rJ(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(tv())(2));;){var i=new(tv())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},rX.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},rX.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(tv())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new rM({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new(tv())(1)),u=0;;u++){var c=n.k?n.k(u):new(tv())(a.generate(this.n.byteLength()));if(!(0>=(c=this._truncateToN(c,!0)).cmpn(1)||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new rz({r:d,s:p,recoveryParam:g})}}}}}},rX.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(tv())(e,16)),r=this.keyFromPublic(r,n);var i,o=(t=new rz(t,"hex")).r,s=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(i=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&i.eqXToP(o):!(i=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===i.getX().umod(this.n).cmp(o)},rX.prototype.recoverPubKey=function(e,t,r,n){rY((3&r)===r,"The recovery param is more than two bits"),t=new rz(t,n);var i=this.n,o=new(tv())(e),s=t.r,a=t.s,l=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=t.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},rX.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new rz(t,n)).recoveryParam)return t.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(r))return o}throw Error("Unable to find valid recovery factor")};var rW=rw(function(e,t){t.version="6.5.4",t.utils=rk,t.rand=function(){throw Error("unsupported")},t.curve=rU,t.curves=rL,t.ec=rX,t.eddsa=null}).ec;let rZ=new tr("signing-key/5.7.0"),r$=null;function r0(){return r$||(r$=new rW("secp256k1")),r$}class r1{constructor(e){ti(this,"curve","secp256k1"),ti(this,"privateKey",tR(e)),32!==tS(this.privateKey)&&rZ.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=r0().keyFromPrivate(t_(this.privateKey));ti(this,"publicKey","0x"+t.getPublic(!1,"hex")),ti(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ti(this,"_isSigningKey",!0)}_addPoint(e){let t=r0().keyFromPublic(t_(this.publicKey)),r=r0().keyFromPublic(t_(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=r0().keyFromPrivate(t_(this.privateKey)),r=t_(e);32!==r.length&&rZ.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return tD({recoveryParam:n.recoveryParam,r:tF("0x"+n.r.toString(16),32),s:tF("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=r0().keyFromPrivate(t_(this.privateKey)),r=r0().keyFromPublic(t_(r2(e)));return tF("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function r2(e,t){let r=t_(e);if(32===r.length){let e=new r1(r);return t?"0x"+r0().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?tR(r):"0x"+r0().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+r0().keyFromPublic(r).getPublic(!0,"hex"):tR(r):rZ.throwArgumentError("invalid public or private key","key","[REDACTED]")}let r6=new tr("transactions/5.7.0");function r3(e){return"0x"===e?null:t4(e)}function r5(e){return"0x"===e?rA:tq.from(e)}function r4(e,t){return function(e){let t=r2(e);return t4(tC(tJ(tC(t,1)),12))}(function(e,t){let r=tD(t),n={r:t_(r.r),s:t_(r.s)};return"0x"+r0().recoverPubKey(t_(e),n,r.recoveryParam).encode("hex",!1)}(t_(e),t))}function r8(e,t){let r=tP(tq.from(e).toHexString());return r.length>32&&r6.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function r9(e,t){return{address:t4(e),storageKeys:(t||[]).map((t,r)=>(32!==tS(t)&&r6.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function r7(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&r6.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),r9(e[0],e[1])):r9(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return r9(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function ne(e){return r7(e).map(e=>[e.address,e.storageKeys])}function nt(e,t){if(null!=e.gasPrice){let t=tq.from(e.gasPrice),r=tq.from(e.maxFeePerGas||0);t.eq(r)||r6.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[r8(e.chainId||0,"chainId"),r8(e.nonce||0,"nonce"),r8(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),r8(e.maxFeePerGas||0,"maxFeePerGas"),r8(e.gasLimit||0,"gasLimit"),null!=e.to?t4(e.to):"0x",r8(e.value||0,"value"),e.data||"0x",ne(e.accessList||[])];if(t){let e=tD(t);r.push(r8(e.recoveryParam,"recoveryParam")),r.push(tP(e.r)),r.push(tP(e.s))}return tO(["0x02",tZ(r)])}function nr(e,t){let r=[r8(e.chainId||0,"chainId"),r8(e.nonce||0,"nonce"),r8(e.gasPrice||0,"gasPrice"),r8(e.gasLimit||0,"gasLimit"),null!=e.to?t4(e.to):"0x",r8(e.value||0,"value"),e.data||"0x",ne(e.accessList||[])];if(t){let e=tD(t);r.push(r8(e.recoveryParam,"recoveryParam")),r.push(tP(e.r)),r.push(tP(e.s))}return tO(["0x01",tZ(r)])}function nn(e,t,r){try{let r=r5(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){r6.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=tF(t[1],32),e.s=tF(t[2],32);try{let t=tJ(r(e));e.from=r4(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function ni(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t_(t)}function no(e){e=t_(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}(_=em||(em={}))[_.legacy=0]="legacy",_[_.eip2930=1]="eip2930",_[_.eip1559=2]="eip1559";let ns=new tr("web/5.7.1");function na(e){return new Promise(t=>{setTimeout(t,e)})}function nl(e,t){if(null==e)return null;if("string"==typeof e)return e;if(tw(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return rn(e)}catch(e){}return tR(e)}return e}function nu(e,t,r){let n=null;if(null!=t){n=rr(t);let r="string"==typeof e?{url:e}:ta(e);if(r.headers){let e=0!==Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length;e||(r.headers=ta(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return function(e,t,r){let n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;ns.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);let i="object"==typeof e?e.throttleCallback:null,o="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;ns.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);let s="object"==typeof e&&!!e.errorPassThrough,a={},l=null,u={method:"GET"},c=!1,h=12e4;if("string"==typeof e)l=e;else if("object"==typeof e){if((null==e||null==e.url)&&ns.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"==typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(let t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&ns.throwError("basic authentication requires a secure https url",tr.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});let t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+no(rr(t))}}null!=e.skipFetchSetup&&(u.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(u.fetchOptions=ta(e.fetchOptions))}let f=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=l?l.match(f):null;if(d)try{var p;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?ni(d[3]):(p=d[3],rr(p.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){ns.throwError("processing response error",tr.errors.SERVER_ERROR,{body:nl(d[1],d[2]),error:e,requestBody:null,requestMethod:"GET",url:l})}t&&(u.method="POST",u.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));let g={};Object.keys(a).forEach(e=>{let t=a[e];g[t.key]=t.value}),u.headers=g;let m=function(){let e=null,t=new Promise(function(t,r){h&&(e=setTimeout(()=>{null!=e&&(e=null,r(ns.makeError("timeout",tr.errors.TIMEOUT,{requestBody:nl(u.body,g["content-type"]),requestMethod:u.method,timeout:h,url:l})))},h))});return{promise:t,cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){var e,t,a,h;return e=this,t=void 0,a=void 0,h=function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield function(e,t){var r,n,i,o;return r=this,n=void 0,i=void 0,o=function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}let n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((e,t)=>{o[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{o[e.toLowerCase()]=n.headers.get(e)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:t_(new Uint8Array(i))}},new(i||(i=Promise))(function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}l((o=o.apply(r,n||[])).next())})}(l,u),e<n){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===u.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,l)),r){let r=0,n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield na(r);continue}}}}catch(e){null==(t=e.response)&&(m.cancel(),ns.throwError("missing response",tr.errors.SERVER_ERROR,{requestBody:nl(u.body,g["content-type"]),requestMethod:u.method,serverError:e,url:l}))}let a=t.body;if(c&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(m.cancel(),ns.throwError("bad response",tr.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:nl(a,t.headers?t.headers["content-type"]:null),requestBody:nl(u.body,g["content-type"]),requestMethod:u.method,url:l})),r)try{let e=yield r(a,t);return m.cancel(),e}catch(r){if(r.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,l)),t){let t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield na(t);continue}}m.cancel(),ns.throwError("processing response error",tr.errors.SERVER_ERROR,{body:nl(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:nl(u.body,g["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),a}return ns.throwError("failed response",tr.errors.SERVER_ERROR,{requestBody:nl(u.body,g["content-type"]),requestMethod:u.method,url:l})},new(a||(a=Promise))(function(r,n){function i(e){try{s(h.next(e))}catch(e){n(e)}}function o(e){try{s(h.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}s((h=h.apply(e,t||[])).next())})}();return Promise.race([m.promise,y])}(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(rn(e))}catch(t){ns.throwError("invalid JSON",tr.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function nc(e,t){return t||(t={}),null==(t=ta(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,o=!1,s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(Error("timeout"))},t.timeout));let a=t.retryLimit,l=0;!function i(){return e().then(function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(++l>a){s()&&n(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){s()&&n(e)})}()})}let nh=new tr("abstract-provider/5.7.0");class nf extends tc{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class nd{constructor(){nh.checkAbstract(new.target,nd),ti(this,"_isProvider",!0)}getFeeData(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function*(){let{block:e,gasPrice:t}=yield ts({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=tq.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}},new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}class np{constructor(e){ti(this,"alphabet",e),ti(this,"base",e.length),ti(this,"_alphabetMap",{}),ti(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=t_(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return t_(new Uint8Array(t.reverse()))}}new np("abcdefghijklmnopqrstuvwxyz234567");let ng=new np("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function nm(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function ny(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function nv(e,t){let r=ny(e(),e),n=e(),i=ny(n,e),o=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<o[e];t++)r.push(i[e]+t);return t?r.map(e=>t[e]):r}function nA(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,o=0;i<e;i++){var n;r[i]=o+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}let nb=(v=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let e=1;e<n;e++)o.push(i+=r());let s=r(),a=t;t+=s;let l=0,u=0;function c(){return 0==l&&(u=u<<8|e[t++],l=8),u>>--l&1}let h=0;for(let e=0;e<31;e++)h=h<<1|c();let f=[],d=0,p=2147483648;for(;;){let e=Math.floor(((h-d+1)*i-1)/p),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<o[n]?r=n:t=n}if(0==t)break;f.push(t);let s=d+Math.floor(p*o[t]/i),a=d+Math.floor(p*o[t+1]/i)-1;for(;((s^a)&1073741824)==0;)h=h<<1&2147483647|c(),s=s<<1&2147483647,a=a<<1&2147483647|1;for(;s&~a&536870912;)h=1073741824&h|h<<1&1073741823|c(),s=s<<1^1073741824,a=(1073741824^a)<<1|1073741825;d=s,p=1+a-s}let g=n-4;return f.map(t=>{switch(t-g){case 3:return g+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return g+256+(e[a++]<<8|e[a++]);case 1:return g+e[a++];default:return t-1}})}(ni("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")),s=0,()=>v[s++]),nE=new Set(nv(nb)),nw=new Set(nv(nb)),nN=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return nm(nA(i.length,1+e,t).map((e,t)=>{let o=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[o+t*r,s.map(e=>e+i)]})}))}(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(nA(1+e(),1+r,e).map(e=>[e[0],e.slice(1)]))}return function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}(nm(t))}(nb),nI=(n=nv(nb).sort((e,t)=>e-t),function e(){let t=[];for(;;){let r=nv(nb,n);if(0==r.length)break;t.push({set:new Set(r),node:e()})}t.sort((e,t)=>t.set.size-e.set.size);let r=nb();return{branches:t,valid:r%3,fe0f:!!(1&(r=r/3|0)),save:1==(r>>=1),check:2==r}}());function n_(e){return function(e,t=ep.current){return rt(rr(e,t))}(e)}function nk(e){return e.filter(e=>65039!=e)}function nP(e){for(let t of e.split(".")){let e=n_(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let nT=new tr(t8),nx=new Uint8Array(32);function nR(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function nS(e){let t=rr(nP(function(e,t){let r=n_(e).reverse(),n=[];for(;r.length;){let e=function(e,t){var r;let n,i;let o=nI,s=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(!(o=null===(r=o.branches.find(e=>e.set.has(l)))||void 0===r?void 0:r.node))break;if(o.save)i=l;else if(o.check&&l===i)break;s.push(l),o.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}(r);if(e){n.push(...t(e));continue}let i=r.pop();if(nE.has(i)){n.push(i);continue}if(nw.has(i))continue;let o=nN[i];if(o){n.push(...o);continue}throw Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return nP(String.fromCodePoint(...n).normalize("NFC"))}(e,nk))),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++){let i=t[e];46===i&&(r.push(nR(t.slice(n,e))),n=e+1)}if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(nR(t.slice(n))),r}function nC(e){"string"!=typeof e&&nT.throwArgumentError("invalid ENS name; not a string","name",e);let t=nx,r=nS(e);for(;r.length;)t=tJ(tk([t,tJ(r.pop())]));return tR(t)}nx.fill(0);let nO=new tr("networks/5.7.1");function nB(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let i=new t.AnkrProvider(e,r.ankr);i.network&&-1===["ropsten"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return nB(e)},t}function nF(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return nF(e,t)},r}let nD={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:nB("homestead")},nU={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:nB("ropsten")},nL={chainId:63,name:"classicMordor",_defaultProvider:nF("https://www.ethercluster.com/mordor","classicMordor")},nM={unspecified:{chainId:0,name:"unspecified"},homestead:nD,mainnet:nD,morden:{chainId:2,name:"morden"},ropsten:nU,testnet:nU,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:nB("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:nB("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:nB("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:nB("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:nF("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:nL,classicTestnet:nL,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:nF("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:nB("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:nB("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function nG(e){return"0x"+rE().sha256().update(t_(e)).digest("hex")}new tr("sha2/5.7.0");var nq=r(76942),nj=r.n(nq);let nz=new tr(th);class nH{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:o,type:l,accessList:nH.allowNull(this.accessList.bind(this),null),blockHash:nH.allowNull(o,null),blockNumber:nH.allowNull(a,null),transactionIndex:nH.allowNull(a,null),confirmations:nH.allowNull(a,null),from:t,gasPrice:nH.allowNull(r),maxPriorityFeePerGas:nH.allowNull(r),maxFeePerGas:nH.allowNull(r),gasLimit:r,to:nH.allowNull(t,null),value:r,nonce:a,data:i,r:nH.allowNull(this.uint256),s:nH.allowNull(this.uint256),v:nH.allowNull(a),creates:nH.allowNull(t,null),raw:nH.allowNull(i)},e.transactionRequest={from:nH.allowNull(t),nonce:nH.allowNull(a),gasLimit:nH.allowNull(r),gasPrice:nH.allowNull(r),maxPriorityFeePerGas:nH.allowNull(r),maxFeePerGas:nH.allowNull(r),to:nH.allowNull(t),value:nH.allowNull(r),data:nH.allowNull(e=>this.data(e,!0)),type:nH.allowNull(a),accessList:nH.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:t,topics:nH.arrayOf(o),data:i,logIndex:a,blockHash:o},e.receipt={to:nH.allowNull(this.address,null),from:nH.allowNull(this.address,null),contractAddress:nH.allowNull(t,null),transactionIndex:a,root:nH.allowNull(s),gasUsed:r,logsBloom:nH.allowNull(i),blockHash:o,transactionHash:o,logs:nH.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:nH.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:nH.allowNull(r),status:nH.allowNull(a),type:l},e.block={hash:nH.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:nH.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:nH.allowNull(t),extraData:i,transactions:nH.allowNull(nH.arrayOf(o)),baseFeePerGas:nH.allowNull(r)},e.blockWithTransactions=ta(e.block),e.blockWithTransactions.transactions=nH.allowNull(nH.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:nH.allowNull(n,void 0),toBlock:nH.allowNull(n,void 0),blockHash:nH.allowNull(o,void 0),address:nH.allowNull(t,void 0),topics:nH.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:nH.allowNull(a),blockHash:nH.allowNull(o),transactionIndex:a,removed:nH.allowNull(this.boolean.bind(this)),address:t,data:nH.allowFalsish(i,"0x"),topics:nH.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return r7(e||[])}number(e){return"0x"===e?0:tq.from(e).toNumber()}type(e){return"0x"===e||null==e?0:tq.from(e).toNumber()}bigNumber(e){return tq.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),tT(e))?e.toLowerCase():nz.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return t4(e)}callAddress(e){if(!tT(e,32))return null;let t=t4(tC(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){return function(e){let t=null;try{t=t4(e.from)}catch(t){t2.throwArgumentError("missing from address","transaction",e)}let r=tP(t_(tq.from(e.nonce).toHexString()));return t4(tC(tJ(tZ([t,r])),12))}(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||tT(e))return tB(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==tS(r)?nz.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=tq.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!tT(e))throw Error("invalid uint256");return tF(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=nH.check(t,e);return n._difficulty=null==r?null:tq.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return nH.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&tq.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=nH.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;tT(r)&&(r=tq.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),tT(r)&&(r=tq.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return function(e){let t=t_(e);if(t[0]>127)return function(e){let t=t1(e);9!==t.length&&6!==t.length&&r6.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:r5(t[0]).toNumber(),gasPrice:r5(t[1]),gasLimit:r5(t[2]),to:r3(t[3]),value:r5(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=tq.from(t[6]).toNumber()}catch(e){return r}if(r.r=tF(t[7],32),r.s=tF(t[8],32),tq.from(r.r).isZero()&&tq.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(tR(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);let o=tJ(tZ(i));try{r.from=r4(o,{r:tR(r.r),s:tR(r.s),recoveryParam:n})}catch(e){}r.hash=tJ(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){let t=t1(e.slice(1));8!==t.length&&11!==t.length&&r6.throwArgumentError("invalid component count for transaction type: 1","payload",tR(e));let r={type:1,chainId:r5(t[0]).toNumber(),nonce:r5(t[1]).toNumber(),gasPrice:r5(t[2]),gasLimit:r5(t[3]),to:r3(t[4]),value:r5(t[5]),data:t[6],accessList:r7(t[7])};return 8===t.length||(r.hash=tJ(e),nn(r,t.slice(8),nr)),r}(t);case 2:return function(e){let t=t1(e.slice(1));9!==t.length&&12!==t.length&&r6.throwArgumentError("invalid component count for transaction type: 2","payload",tR(e));let r=r5(t[2]),n=r5(t[3]),i={type:2,chainId:r5(t[0]).toNumber(),nonce:r5(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:r5(t[4]),to:r3(t[5]),value:r5(t[6]),data:t[7],accessList:r7(t[8])};return 9===t.length||(i.hash=tJ(e),nn(i,t.slice(9),nt)),i}(t)}return r6.throwError(`unsupported transaction type: ${t[0]}`,tr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}(e)}receiptLog(e){return nH.check(this.formats.receiptLog,e)}receipt(e){let t=nH.check(this.formats.receipt,e);if(null!=t.root){if(t.root.length<=4){let e=tq.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&nz.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):nz.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&nz.throwArgumentError("invalid root hash","value.root",t.root)}return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return nH.check(this.formats.filter,e)}filterLog(e){return nH.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}var nK=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let nQ=new tr(th);function nV(e){return null==e?"null":(32!==tS(e)&&nQ.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function nJ(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return nV(e);{let t={};e.forEach(e=>{t[nV(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function nY(e){if("string"==typeof e){if(32===tS(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+nJ(e);else if(nf.isForkEvent(e))throw nQ.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+nJ(e.topics||[]);throw Error("invalid event - "+e)}function nX(){return new Date().getTime()}function nW(e){return new Promise(t=>{setTimeout(t,e)})}let nZ=["block","network","pending","poll"];class n${constructor(e,t,r){ti(this,"tag",e),ti(this,"listener",t),ti(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||nZ.indexOf(this.tag)>=0}}let n0={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function n1(e){return tF(tq.from(e).toHexString(),32)}function n2(e){return ng.encode(tk([e,tC(nG(nG(e)),0,4)]))}let n6=RegExp("^(ipfs)://(.*)$","i"),n3=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),n6,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function n5(e,t){try{return rn(n4(e,t))}catch(e){}return null}function n4(e,t){if("0x"===e)return null;let r=tq.from(tC(e,t,t+32)).toNumber(),n=tq.from(tC(e,r,r+32)).toNumber();return tC(e,r+32,r+32+n)}function n8(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):nQ.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function n9(e){let t=t_(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function n7(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){let i=t_(e[n]);t[n]=n9(r),t.push(n9(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return tO(t)}class ie{constructor(e,t,r,n){ti(this,"provider",e),ti(this,"name",r),ti(this,"address",e.formatter.address(t)),ti(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>tq.from(e).eq(1)).catch(e=>{if(e.code===tr.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return nK(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:tO([e,nC(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=tO(["0x9061b923",n7([tR(tk(nS(this.name).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00",r.data])]));try{let e=yield this.provider.call(r);return t_(e).length%32==4&&nQ.throwError("resolver threw error",tr.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=n4(e,0)),e}catch(e){if(e.code===tr.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return nK(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?n4(r,0):null})}_getAddress(e,t){let r=n0[String(e)];if(null==r&&nQ.throwError(`unsupported coin type: ${e}`,tr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=t_(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return n2(tk([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return n2(tk([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=n[1],t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){let e=nj().toWords(n.slice(2));return e.unshift(t),nj().encode(r.prefix,e)}}return null}getAddress(e){return nK(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===tr.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",n1(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&nQ.throwError("invalid or unsupported coin data",tr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return nK(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<n3.length;r++){let n=t.match(n3[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:n8(t)};case"erc721":case"erc1155":{let r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;let a=yield this.provider.formatter.address(s[0]),l=tF(tq.from(s[1]).toHexString(),32);if("erc721"===i){let t=this.provider.formatter.callAddress((yield this.provider.call({to:a,data:tO(["0x6352211e",l])})));if(o!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){let t=tq.from((yield this.provider.call({to:a,data:tO(["0x00fdd58e",tF(o,32),l])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let u={to:this.provider.formatter.address(s[0]),data:tO([r,l])},c=n5((yield this.provider.call(u)),0);if(null==c)return null;e.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=n8(c)),e.push({type:"metadata-url",content:c});let h=yield nu(c);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{let t=f.match(n6);if(null==t)return null;e.push({type:"url-ipfs",content:f}),f=n8(f)}return e.push({type:"url",content:f}),{linkage:e,url:f}}}}}catch(e){}return null})}getContentHash(){return nK(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+ng.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+ng.encode("0x"+r[1])}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];let i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){let e={"=":"","+":"-","/":"_"},t=no("0x"+i[1]).replace(/[=+\/]/g,t=>e[t]);return"sia://"+t}return nQ.throwError("invalid or unsupported content hash data",tr.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return nK(this,void 0,void 0,function*(){let t=rr(e);(t=tk([n1(64),n1(t.length),t])).length%32!=0&&(t=tk([t,tF("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",tR(t));return null==r||"0x"===r?null:rn(r)})}}let it=null,ir=1;class ii extends nd{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ti(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{let t=to(new.target,"getNetwork")(e);t?(ti(this,"_network",t),this.emit("network",t,null)):nQ.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return nK(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||nQ.throwError("no network detected",tr.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:ti(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return nc(()=>this._ready().then(e=>e,e=>{if(e.code!==tr.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==it&&(it=new nH),it}static getNetwork(e){return function(e){if(null==e)return null;if("number"==typeof e){for(let t in nM){let r=nM[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=nM[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=nM[e.name];if(!t)return"number"!=typeof e.chainId&&nO.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&nO.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var n;r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return nK(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let e=0;e<r.length;e++){let t=r[e],s=t.replace("{sender}",n).replace("{data}",i),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield nu({url:s,errorPassThrough:!0},a,(e,t)=>(e.status=t.statusCode,e));if(l.data)return l.data;let u=l.message||"unknown error";if(l.status>=400&&l.status<500)return nQ.throwError(`response not found during CCIP fetch: ${u}`,tr.errors.SERVER_ERROR,{url:t,errorMessage:u});o.push(u)}return nQ.throwError(`error encountered during CCIP fetch: ${o.map(e=>JSON.stringify(e)).join(", ")}`,tr.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return nK(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(nX()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=nX(),r=ts({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;let i=nX();return(e=tq.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return nK(this,void 0,void 0,function*(){let e=ir++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)nQ.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",nQ.makeError("network block skew detected",tr.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,n=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0;let n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);let i=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(i)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return nK(this,void 0,void 0,function*(){return nQ.throwError("provider does not support network detection",tr.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return nK(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield nW(0),this._network;let r=nQ.makeError("underlying network changed",tr.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=nX();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=nX(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return nK(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return nK(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,o)=>{let s=[],a=!1,l=function(){return!!a||(a=!0,s.forEach(e=>{e()}),!1)},u=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,u),s.push(()=>{this.removeListener(e,u)}),n){let r=n.startBlock,i=null,u=s=>nK(this,void 0,void 0,function*(){a||(yield nW(1e3),this.getTransactionCount(n.from).then(c=>nK(this,void 0,void 0,function*(){if(!a){if(c<=n.nonce)r=s;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3)<n.startBlock&&(i=n.startBlock);i<=s;){if(a)return;let r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){let s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;let r=yield this.waitForTransaction(s.hash,t);if(l())return;let i="replaced";s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),o(nQ.makeError("transaction was replaced",tr.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}));return}}i++}}a||this.once("block",u)}}),e=>{a||this.once("block",u)}))});if(a)return;this.once("block",u),s.push(()=>{this.removeListener("block",u)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{l()||o(nQ.makeError("timeout exceeded",tr.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),s.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return nK(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return tq.from(e)}catch(t){return nQ.throwError("bad result from backend",tr.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ts({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return tq.from(n)}catch(e){return nQ.throwError("bad result from backend",tr.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}})}getTransactionCount(e,t){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ts({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return tq.from(n).toNumber()}catch(e){return nQ.throwError("bad result from backend",tr.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}})}getCode(e,t){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ts({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return tR(n)}catch(e){return nQ.throwError("bad result from backend",tr.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}})}getStorageAt(e,t,r){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield ts({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>tB(e))}),i=yield this.perform("getStorageAt",n);try{return tR(i)}catch(e){return nQ.throwError("bad result from backend",tr.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==tS(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&nQ.throwError("Transaction hash mismatch from Provider.sendTransaction.",tr.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,n)=>nK(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&nQ.throwError("transaction failed",tr.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)}),e}sendTransaction(e){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>tR(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return nK(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?tq.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?tR(e):null))}),this.formatter.transactionRequest((yield ts(r)))})}_getFilter(e){return nK(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield ts(t)))})}_call(e,t,r){return nK(this,void 0,void 0,function*(){r>=10&&nQ.throwError("CCIP read exceeded maximum redirections",tr.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&tS(i)%32==4)try{let o=tC(i,4),s=tC(o,0,32);tq.from(s).eq(n)||nQ.throwError("CCIP Read sender did not match",tr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let a=[],l=tq.from(tC(o,32,64)).toNumber(),u=tq.from(tC(o,l,l+32)).toNumber(),c=tC(o,l+32);for(let t=0;t<u;t++){let r=n5(c,32*t);null==r&&nQ.throwError("CCIP Read contained corrupt URL string",tr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(r)}let h=n4(o,64);tq.from(tC(o,100,128)).isZero()||nQ.throwError("CCIP Read callback selector included junk",tr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let f=tC(o,96,100),d=n4(o,128),p=yield this.ccipReadFetch(e,h,a);null==p&&nQ.throwError("CCIP Read disabled or provided no URLs",tr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let g={to:n,data:tO([f,n7([p,d])])};return this._call(g,t,r+1)}catch(e){if(e.code===tr.errors.SERVER_ERROR)throw e}try{return tR(i)}catch(r){return nQ.throwError("bad result from backend",tr.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}})}call(e,t){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ts({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield ts({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return tq.from(r)}catch(e){return nQ.throwError("bad result from backend",tr.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return nK(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&nQ.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&nQ.throwError("ENS name not configured",tr.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return nK(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,n={includeTransactions:!!t};if(tT(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),tT(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){nQ.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return nc(()=>nK(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return nK(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return nc(()=>nK(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return nK(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return nc(()=>nK(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}),{oncePoll:this})})}getLogs(e){return nK(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield ts({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),nH.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return nK(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return nK(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&nQ.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return nK(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new ie(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return nK(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||nQ.throwError("network does not support ENS",tr.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+nC(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return nK(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(tT(e))throw t}"string"!=typeof e&&nQ.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return nK(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=n5((yield this.call({to:r,data:"0x691f3431"+nC(t).substring(2)})),0),i=yield this.resolveName(n);return i!=e?null:n})}getAvatar(e){return nK(this,void 0,void 0,function*(){let t=null;if(tT(e)){let r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(n,"getAvatar");if(!i)return null;t=new ie(this,i,n);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==tr.errors.CALL_EXCEPTION)throw e}try{let e=n5((yield this.call({to:i,data:"0x691f3431"+nC(n).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==tr.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return nQ.throwError(e+" not implemented",tr.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new n$(nY(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=nY(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=nY(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=nY(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=nY(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=nY(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var io=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let is=new tr(th),ia=["call","estimateGas"];function il(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=tT(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let n=il(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return il(JSON.parse(e),t)}catch(e){}return null}function iu(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let e=il(t,!0);if(e)return e.data;is.throwError("missing revert data in call exception; Transaction reverted without a reason string",tr.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=il(t.body,!1);null==r&&(r=il(t,!1)),r&&is.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",tr.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===tr.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),(i=(i||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&is.throwError("insufficient funds for intrinsic transaction cost",tr.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&is.throwError("nonce has already been used",tr.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&is.throwError("replacement fee too low",tr.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&is.throwError("legacy pre-eip-155 transactions not supported",tr.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),ia.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&is.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",tr.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function ic(e){return new Promise(function(t){setTimeout(t,e)})}function ih(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function id(e){return e?e.toLowerCase():e}let ip={};class ig extends tm{constructor(e,t,r){if(super(),e!==ip)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ti(this,"provider",t),null==r&&(r=0),"string"==typeof r?(ti(this,"_address",this.provider.formatter.address(r)),ti(this,"_index",null)):"number"==typeof r?(ti(this,"_index",r),ti(this,"_address",null)):is.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return is.throwError("cannot alter JSON-RPC Signer connection",tr.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new im(ip,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&is.throwError("unknown account #"+this._index,tr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=ta(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=ta(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>io(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&is.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),ts({tx:ts(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&is.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>iu("sendTransaction",e,n))})}signTransaction(e){return is.throwError("signing transactions is unsupported",tr.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return io(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield nc(()=>io(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return io(this,void 0,void 0,function*(){let t="string"==typeof e?rr(e):e,r=yield this.getAddress();return yield this.provider.send("personal_sign",[tR(t),r.toLowerCase()])})}_legacySignMessage(e){return io(this,void 0,void 0,function*(){let t="string"==typeof e?rr(e):e,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),tR(t)])})}_signTypedData(e,t,r){return io(this,void 0,void 0,function*(){let n=yield rv.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(rv.getPayload(n.domain,t,n.value))])})}unlock(e){return io(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class im extends ig{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let iy={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class iv extends ii{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=to(this.constructor,"defaultUrl")()),"string"==typeof e?ti(this,"connection",Object.freeze({url:e})):ti(this,"connection",Object.freeze(ta(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return io(this,void 0,void 0,function*(){yield ic(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=to(this.constructor,"getNetwork");try{return t(tq.from(e).toNumber())}catch(t){return is.throwError("could not detect network",tr.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return is.throwError("could not detect network",tr.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ig(ip,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:tu(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=nu(this.connection,JSON.stringify(r),ih).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[id(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[id(t.address),t.blockTag]];case"getCode":return["eth_getCode",[id(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[id(t.address),tF(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{let e=to(this.constructor,"hexlifyTransaction");return["eth_call",[e(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{let e=to(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[e(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=id(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return io(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&tq.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=ta(t)).transaction=ta(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&is.throwError(e+" not implemented",tr.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return iu(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return ic(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){n()},0),null}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=ta(iy);if(t)for(let e in t)t[e]&&(r[e]=!0);e&&"object"==typeof e||tn.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(t=>{r[t]||tn.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)});let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=tB(tq.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(n[t]=tR(e[t]))}),e.accessList&&(n.accessList=r7(e.accessList)),n}}let iA=new tr(th),ib=1;function iE(e,t){let r="Web3LegacyFetcher";return function(e,n){let i={method:e,params:n,id:ib++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:tu(i),provider:this}),t(i,(t,o)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){let e=Error(o.error.message);return e.code=o.error.code,e.data=o.error.data,n(e)}e(o.result)})})}}class iw extends iv{constructor(e,t){null==e&&iA.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"==typeof e?(r="unknown:",n=e):(((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),i=e,e.request)?(""===r&&(r="eip-1193:"),n=function(t,r){null==r&&(r=[]);let n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:tu(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})}):e.sendAsync?n=iE(e,e.sendAsync.bind(e)):e.send?n=iE(e,e.send.bind(e)):iA.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),ti(this,"jsonRpcFetchFunc",n),ti(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}let iN=!1,iI=!1,i_={debug:1,default:2,info:2,warning:3,error:4,off:5},ik=2,iP=null,iT=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(k=ey||(ey={})).DEBUG="DEBUG",k.INFO="INFO",k.WARNING="WARNING",k.ERROR="ERROR",k.OFF="OFF",(P=ev||(ev={})).UNKNOWN_ERROR="UNKNOWN_ERROR",P.NOT_IMPLEMENTED="NOT_IMPLEMENTED",P.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",P.NETWORK_ERROR="NETWORK_ERROR",P.SERVER_ERROR="SERVER_ERROR",P.TIMEOUT="TIMEOUT",P.BUFFER_OVERRUN="BUFFER_OVERRUN",P.NUMERIC_FAULT="NUMERIC_FAULT",P.MISSING_NEW="MISSING_NEW",P.INVALID_ARGUMENT="INVALID_ARGUMENT",P.MISSING_ARGUMENT="MISSING_ARGUMENT",P.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",P.CALL_EXCEPTION="CALL_EXCEPTION",P.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",P.NONCE_EXPIRED="NONCE_EXPIRED",P.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",P.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",P.TRANSACTION_REPLACED="TRANSACTION_REPLACED",P.ACTION_REJECTED="ACTION_REJECTED";let ix="0123456789abcdef";class iR{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==i_[r]&&this.throwArgumentError("invalid log level name","logLevel",e),ik>i_[r]||console.log.apply(console,t)}debug(...e){this._log(iR.levels.DEBUG,e)}info(...e){this._log(iR.levels.INFO,e)}warn(...e){this._log(iR.levels.WARNING,e)}makeError(e,t,r){if(iI)return this.makeError("censored error",t,{});t||(t=iR.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=ix[t[e]>>4]+ix[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case ev.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ev.CALL_EXCEPTION:case ev.INSUFFICIENT_FUNDS:case ev.MISSING_NEW:case ev.NONCE_EXPIRED:case ev.REPLACEMENT_UNDERPRICED:case ev.TRANSACTION_REPLACED:case ev.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,iR.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),iT&&this.throwError("platform missing String.prototype.normalize",iR.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:iT})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,iR.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,iR.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,iR.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,iR.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",iR.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",iR.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",iR.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return iP||(iP=new iR("logger/5.7.0")),iP}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",iR.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),iN){if(!e)return;this.globalLogger().throwError("error censorship permanent",iR.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}iI=!!e,iN=!!t}static setLogLevel(e){let t=i_[e.toLowerCase()];if(null==t){iR.globalLogger().warn("invalid log level - "+e);return}ik=t}static from(e){return new iR(e)}}iR.errors=ev,iR.levels=ey;let iS=new iR("bytes/5.7.0");function iC(e){return!!e.toHexString}function iO(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return iO(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function iB(e){return"number"==typeof e&&e==e&&e%1==0}function iF(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!iB(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!iB(r)||r<0||r>=256)return!1}return!0}function iD(e,t){if(t||(t={}),"number"==typeof e){iS.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),iO(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),iC(e)&&(e=e.toHexString()),iL(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":iS.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return iO(new Uint8Array(n))}return iF(e)?iO(new Uint8Array(e)):iS.throwArgumentError("invalid arrayify value","value",e)}function iU(e){let t=e.map(e=>iD(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),iO(n)}function iL(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let iM="0123456789abcdef";function iG(e,t){if(t||(t={}),"number"==typeof e){iS.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=iM[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),iC(e))return e.toHexString();if(iL(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":iS.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(iF(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=iM[(240&n)>>4]+iM[15&n]}return t}return iS.throwArgumentError("invalid hexlify value","value",e)}function iq(e,t,r){return("string"!=typeof e?e=iG(e):(!iL(e)||e.length%2)&&iS.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function ij(e,t){for("string"!=typeof e?e=iG(e):iL(e)||iS.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&iS.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var iz=tv().BN;let iH=new iR("bignumber/5.7.0"),iK={},iQ=!1;class iV{constructor(e,t){e!==iK&&iH.throwError("cannot call constructor directly; use BigNumber.from",iR.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return iY(iX(this).fromTwos(e))}toTwos(e){return iY(iX(this).toTwos(e))}abs(){return"-"===this._hex[0]?iV.from(this._hex.substring(1)):this}add(e){return iY(iX(this).add(iX(e)))}sub(e){return iY(iX(this).sub(iX(e)))}div(e){let t=iV.from(e);return t.isZero()&&iW("division-by-zero","div"),iY(iX(this).div(iX(e)))}mul(e){return iY(iX(this).mul(iX(e)))}mod(e){let t=iX(e);return t.isNeg()&&iW("division-by-zero","mod"),iY(iX(this).umod(t))}pow(e){let t=iX(e);return t.isNeg()&&iW("negative-power","pow"),iY(iX(this).pow(t))}and(e){let t=iX(e);return(this.isNegative()||t.isNeg())&&iW("unbound-bitwise-result","and"),iY(iX(this).and(t))}or(e){let t=iX(e);return(this.isNegative()||t.isNeg())&&iW("unbound-bitwise-result","or"),iY(iX(this).or(t))}xor(e){let t=iX(e);return(this.isNegative()||t.isNeg())&&iW("unbound-bitwise-result","xor"),iY(iX(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&iW("negative-width","mask"),iY(iX(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&iW("negative-width","shl"),iY(iX(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&iW("negative-width","shr"),iY(iX(this).shrn(e))}eq(e){return iX(this).eq(iX(e))}lt(e){return iX(this).lt(iX(e))}lte(e){return iX(this).lte(iX(e))}gt(e){return iX(this).gt(iX(e))}gte(e){return iX(this).gte(iX(e))}isNegative(){return"-"===this._hex[0]}isZero(){return iX(this).isZero()}toNumber(){try{return iX(this).toNumber()}catch(e){iW("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return iH.throwError("this platform does not support BigInt",iR.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?iQ||(iQ=!0,iH.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?iH.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",iR.errors.UNEXPECTED_ARGUMENT,{}):iH.throwError("BigNumber.toString does not accept parameters",iR.errors.UNEXPECTED_ARGUMENT,{})),iX(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof iV)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new iV(iK,iJ(e)):e.match(/^-?[0-9]+$/)?new iV(iK,iJ(new iz(e))):iH.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&iW("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&iW("overflow","BigNumber.from",e),iV.from(String(e));if("bigint"==typeof e)return iV.from(e.toString());if(iF(e))return iV.from(iG(e));if(e){if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return iV.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(iL(t)||"-"===t[0]&&iL(t.substring(1))))return iV.from(t)}}return iH.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function iJ(e){if("string"!=typeof e)return iJ(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&iH.throwArgumentError("invalid hex","value",e),"0x00"===(e=iJ(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function iY(e){return iV.from(iJ(e))}function iX(e){let t=iV.from(e).toHexString();return"-"===t[0]?new iz("-"+t.substring(3),16):new iz(t.substring(2),16)}function iW(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),iH.throwError(e,iR.errors.NUMERIC_FAULT,n)}let iZ=new iR("properties/5.7.0");function i$(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function i0(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function i1(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}l((i=i.apply(t,r||[])).next())})}function i2(e){let t={};for(let r in e)t[r]=e[r];return t}let i6={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function i3(e){return function(e){if(function e(t){if(null==t||i6[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return iZ.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>i3(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&i$(t,r,i3(n))}return t}return iZ.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}(e)}class i5{constructor(e){for(let t in e)this[t]=i3(e[t])}}let i4="abi/5.7.0",i8=new iR(i4);class i9{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){i8.throwArgumentError(e,this.localName,t)}}class i7{constructor(e){i$(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){var e;let t;return e=this._data,t="0x",e.forEach(e=>{t+=iG(e).substring(2)}),t}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(iU(e._data))}writeBytes(e){let t=iD(e),r=t.length%this.wordSize;return r&&(t=iU([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=iD(iV.from(e));return t.length>this.wordSize&&i8.throwError("value out-of-bounds",iR.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=iU([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class oe{constructor(e,t,r,n){i$(this,"_data",iD(e)),i$(this,"wordSize",t||32),i$(this,"_coerceFunc",r),i$(this,"allowLoose",n),this._offset=0}get data(){return iG(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):oe.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:i8.throwError("data out-of-bounds",iR.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new oe(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return iV.from(this.readBytes(this.wordSize))}}function ot(e){return"0x"+tV().keccak_256(iD(e))}let or=new iR("rlp/5.7.0");function on(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}let oi=new iR("address/5.7.0");function oo(e){iL(e,20)||oi.throwArgumentError("invalid address","address",e),e=e.toLowerCase();let t=e.substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=iD(ot(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let os={};for(let e=0;e<10;e++)os[String(e)]=String(e);for(let e=0;e<26;e++)os[String.fromCharCode(65+e)]=String(10+e);let oa=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);function ol(e){let t=null;if("string"!=typeof e&&oi.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=oo(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&oi.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){var r;for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>os[e]).join("");for(;t.length>=oa;){let e=t.substring(0,oa);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&oi.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new iz(r,36).toString(16);t.length<40;)t="0"+t;t=oo("0x"+t)}else oi.throwArgumentError("invalid address","address",e);return t}let ou=new iR("strings/5.7.0");function oc(e,t,r,n,i){if(e===eb.BAD_PREFIX||e===eb.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===eb.OVERRUN?r.length-t-1:0}(T=eA||(eA={})).current="",T.NFC="NFC",T.NFD="NFD",T.NFKC="NFKC",T.NFKD="NFKD",(x=eb||(eb={})).UNEXPECTED_CONTINUE="unexpected continuation byte",x.BAD_PREFIX="bad codepoint prefix",x.OVERRUN="string overrun",x.MISSING_CONTINUE="missing continuation byte",x.OUT_OF_RANGE="out of UTF-8 range",x.UTF16_SURROGATE="UTF-16 surrogate",x.OVERLONG="overlong representation";let oh=Object.freeze({error:function(e,t,r,n,i){return ou.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:oc,replace:function(e,t,r,n,i){return e===eb.OVERLONG?(n.push(i),0):(n.push(65533),oc(e,t,r,n,i))}});function of(e,t=eA.current){t!=eA.current&&(ou.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return iD(r)}class od extends i9{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=ol(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return ol(ij(e.readValue().toHexString(),20))}}class op extends i9{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let og=new iR(i4);function om(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return n||og.throwError("cannot encode object for signature with missing names",iR.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&og.throwError("cannot encode object for signature with duplicate names",iR.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else og.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&og.throwArgumentError("types/value length mismatch","tuple",r);let i=new i7(e.wordSize),o=new i7(e.wordSize),s=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=i.writeUpdatableValue();s.push(e=>{n(e+t)})}else e.encode(i,r)}),s.forEach(e=>{e(i.length)}),e.appendWriter(i)+e.appendWriter(o)}function oy(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{i=t.decode(o)}catch(e){if(e.code===iR.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===iR.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)});let i=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n]||("length"===n&&(n="_length"),null!=r[n]))return;let o=r[t];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class ov extends i9{constructor(e,t,r){let n=e.type+"["+(t>=0?t:"")+"]",i=-1===t||e.dynamic;super("array",n,r,i),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),og.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return om(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&og.throwError("insufficient data length",iR.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new op(this.coder));return e.coerce(this.name,oy(e,r))}}class oA extends i9{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class ob extends i9{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=iD(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class oE extends ob{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,iG(super.decode(e)))}}class ow extends i9{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=iD(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,iG(e.readBytes(this.size)))}}class oN extends i9{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}let oI=iV.from(-1),o_=iV.from(0),ok=iV.from(1),oP=iV.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class oT extends i9{constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=iV.from(t),n=oP.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(ok).mul(oI)))&&this._throwError("value out-of-bounds",t)}else(r.lt(o_)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class ox extends ob{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,of(t))}decode(e){return(function(e,t){null==t&&(t=oh.error),e=iD(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if((224&i)==192)o=1,s=127;else if((240&i)==224)o=2,s=2047;else if((248&i)==240)o=3,s=65535;else{(192&i)==128?n+=t(eb.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(eb.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(eb.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=e[n];if((192&i)!=128){n+=t(eb.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}if(null!==a){if(a>1114111){n+=t(eb.OUT_OF_RANGE,n-1-o,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(eb.UTF16_SURROGATE,n-1-o,e,r,a);continue}if(a<=s){n+=t(eb.OVERLONG,n-1-o,e,r,a);continue}r.push(a)}}return r})(super.decode(e),void 0).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}}class oR extends i9{constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)});let i="tuple("+n.join(",")+")";super("tuple",i,t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return om(e,this.coders,t)}decode(e){return e.coerce(this.name,oy(e,this.coders))}}let oS=new iR(i4),oC={},oO={calldata:!0,memory:!0,storage:!0},oB={calldata:!0,memory:!0};function oF(e,t){if("bytes"===e||"string"===e){if(oO[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&oB[t])return!0;return(oO[t]||"payable"===t)&&oS.throwArgumentError("invalid modifier","name",t),!1}function oD(e,t){for(let r in t)i$(e,r,t[r])}let oU=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),oL=new RegExp(/^(.*)\[([0-9]*)\]$/);class oM{constructor(e,t){e!==oC&&oS.throwError("use fromString",iR.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),oD(this,t);let r=this.type.match(oL);r?oD(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:oM.fromObject({type:r[1],components:this.components}),baseType:"array"}):oD(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=oU.sighash),oU[e]||oS.throwArgumentError("invalid format type","format",e),e===oU.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?t+=this.arrayChildren.format(e)+"["+(this.arrayLength<0?"":String(this.arrayLength))+"]":"tuple"===this.baseType?(e!==oU.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===oU.full?", ":",")+")"):t+=this.type,e!==oU.sighash&&(!0===this.indexed&&(t+=" indexed"),e===oU.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?oM.fromString(e,t):oM.fromObject(e)}static fromObject(e){return oM.isParamType(e)?e:new oM(oC,{name:e.name||null,type:oX(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(oM.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function n(t){oS.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<e.length;r++){let o=e[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=oX(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),oF(s.type,s.name)&&(s.name=""),s.type=oX(s.type);let a=s;(s=s.parent)||n(r),delete a.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),oF(s.type,s.name)&&(s.name=""),s.type=oX(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&""!==s.type&&(s.type=oX(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):oF(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:n(r)}}return s.parent&&oS.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):oF(s.type,s.name)&&(s.name=""),o.type=oX(o.type),o}(e,!!t),oM.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function oG(e,t){return(function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let o=e[i];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1==--n&&oS.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>oM.fromString(e,t))}class oq{constructor(e,t){e!==oC&&oS.throwError("use a static from method",iR.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),oD(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return oq.isFragment(e)?e:"string"==typeof e?oq.fromString(e):oq.fromObject(e)}static fromObject(e){if(oq.isFragment(e))return e;switch(e.type){case"function":return oV.fromObject(e);case"event":return oj.fromObject(e);case"constructor":return oQ.fromObject(e);case"error":return oY.fromObject(e);case"fallback":case"receive":return null}return oS.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?oj.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?oV.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?oQ.fromString(e.trim()):"error"===e.split(" ")[0]?oY.fromString(e.substring(5).trim()):oS.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class oj extends oq{format(e){if(e||(e=oU.sighash),oU[e]||oS.throwArgumentError("invalid format type","format",e),e===oU.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==oU.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===oU.full?", ":",")+") ",e!==oU.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?oj.fromString(e):oj.fromObject(e)}static fromObject(e){if(oj.isEventFragment(e))return e;"event"!==e.type&&oS.throwArgumentError("invalid event object","value",e);let t={name:oZ(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(oM.fromObject):[],type:"event"};return new oj(oC,t)}static fromString(e){let t=e.match(o$);t||oS.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:oS.warn("unknown modifier: "+e)}}),oj.fromObject({name:t[1].trim(),anonymous:r,inputs:oG(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function oz(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&oS.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||oS.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=iV.from(r[1]),r[0]):e}function oH(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function oK(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&oS.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&oS.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||oS.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&oS.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&oS.throwArgumentError("unable to determine stateMutability","value",e),t}class oQ extends oq{format(e){if(e||(e=oU.sighash),oU[e]||oS.throwArgumentError("invalid format type","format",e),e===oU.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===oU.sighash&&oS.throwError("cannot format a constructor for sighash",iR.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===oU.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?oQ.fromString(e):oQ.fromObject(e)}static fromObject(e){if(oQ.isConstructorFragment(e))return e;"constructor"!==e.type&&oS.throwArgumentError("invalid constructor object","value",e);let t=oK(e);t.constant&&oS.throwArgumentError("constructor cannot be constant","value",e);let r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(oM.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?iV.from(e.gas):null};return new oQ(oC,r)}static fromString(e){let t={type:"constructor"},r=(e=oz(e,t)).match(o$);return r&&"constructor"===r[1].trim()||oS.throwArgumentError("invalid constructor string","value",e),t.inputs=oG(r[2].trim(),!1),oH(r[3].trim(),t),oQ.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class oV extends oQ{format(e){if(e||(e=oU.sighash),oU[e]||oS.throwArgumentError("invalid format type","format",e),e===oU.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==oU.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===oU.full?", ":",")+") ",e!==oU.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?oV.fromString(e):oV.fromObject(e)}static fromObject(e){if(oV.isFunctionFragment(e))return e;"function"!==e.type&&oS.throwArgumentError("invalid function object","value",e);let t=oK(e),r={type:e.type,name:oZ(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(oM.fromObject):[],outputs:e.outputs?e.outputs.map(oM.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?iV.from(e.gas):null};return new oV(oC,r)}static fromString(e){let t={type:"function"},r=(e=oz(e,t)).split(" returns ");r.length>2&&oS.throwArgumentError("invalid function string","value",e);let n=r[0].match(o$);if(n||oS.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&oZ(t.name),t.inputs=oG(n[2],!1),oH(n[3].trim(),t),r.length>1){let n=r[1].match(o$);(""!=n[1].trim()||""!=n[3].trim())&&oS.throwArgumentError("unexpected tokens","value",e),t.outputs=oG(n[2],!1)}else t.outputs=[];return oV.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function oJ(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&oS.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class oY extends oq{format(e){if(e||(e=oU.sighash),oU[e]||oS.throwArgumentError("invalid format type","format",e),e===oU.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==oU.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===oU.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?oY.fromString(e):oY.fromObject(e)}static fromObject(e){if(oY.isErrorFragment(e))return e;"error"!==e.type&&oS.throwArgumentError("invalid error object","value",e);let t={type:e.type,name:oZ(e.name),inputs:e.inputs?e.inputs.map(oM.fromObject):[]};return oJ(new oY(oC,t))}static fromString(e){let t={type:"error"},r=e.match(o$);return r||oS.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&oZ(t.name),t.inputs=oG(r[2],!1),oJ(oY.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function oX(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let oW=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function oZ(e){return e&&e.match(oW)||oS.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let o$=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),o0=new iR(i4),o1=new RegExp(/^bytes([0-9]*)$/),o2=new RegExp(/^(u?int)([0-9]*)$/),o6=new class{constructor(e){i$(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new od(e.name);case"bool":return new oA(e.name);case"string":return new ox(e.name);case"bytes":return new oE(e.name);case"array":return new ov(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new oR((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new oN(e.name)}let t=e.type.match(o2);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&o0.throwArgumentError("invalid "+t[1]+" bit length","param",e),new oT(r/8,"int"===t[1],e.name)}if(t=e.type.match(o1)){let r=parseInt(t[1]);return(0===r||r>32)&&o0.throwArgumentError("invalid bytes length","param",e),new ow(r,e.name)}return o0.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new oe(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new i7(this._getWordSize())}getDefaultValue(e){let t=e.map(e=>this._getCoder(oM.from(e))),r=new oR(t,"_");return r.defaultValue()}encode(e,t){e.length!==t.length&&o0.throwError("types/values length mismatch",iR.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=e.map(e=>this._getCoder(oM.from(e))),n=new oR(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){let n=e.map(e=>this._getCoder(oM.from(e))),i=new oR(n,"_");return i.decode(this._getReader(iD(t),r))}},o3=new iR(i4);class o5 extends i5{}class o4 extends i5{}class o8 extends i5{}class o9 extends i5{static isIndexed(e){return!!(e&&e._isIndexed)}}let o7={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function se(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class st{constructor(e){i$(this,"fragments",("string"==typeof e?JSON.parse(e):e).map(e=>oq.from(e)).filter(e=>null!=e)),i$(this,"_abiCoder",i0(new.target,"getAbiCoder")()),i$(this,"functions",{}),i$(this,"errors",{}),i$(this,"events",{}),i$(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){o3.warn("duplicate definition - constructor");return}i$(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();if(t[r]){o3.warn("duplicate definition - "+r);return}t[r]=e}),this.deploy||i$(this,"deploy",oQ.from({payable:!1,type:"constructor"})),i$(this,"_isInterface",!0)}format(e){e||(e=oU.full),e===oU.sighash&&o3.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===oU.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return o6}static getAddress(e){return ol(e)}static getSighash(e){return iq(ot(of(e.format())),0,4)}static getEventTopic(e){return ot(of(e.format()))}getFunction(e){if(iL(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];o3.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?o3.throwArgumentError("no matching function","name",t):r.length>1&&o3.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}let t=this.functions[oV.fromString(e).format()];return t||o3.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(iL(e)){let t=e.toLowerCase();for(let e in this.events)if(t===this.getEventTopic(e))return this.events[e];o3.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?o3.throwArgumentError("no matching event","name",t):r.length>1&&o3.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}let t=this.events[oj.fromString(e).format()];return t||o3.throwArgumentError("no matching event","signature",e),t}getError(e){if(iL(e)){let t=i0(this.constructor,"getSighash");for(let r in this.errors){let n=this.errors[r];if(e===t(n))return this.errors[r]}o3.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?o3.throwArgumentError("no matching error","name",t):r.length>1&&o3.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}let t=this.errors[oV.fromString(e).format()];return t||o3.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return i0(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),i0(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=iD(t);return iG(r.slice(0,4))!==this.getSighash(e)&&o3.throwArgumentError(`data signature does not match error ${e.name}.`,"data",iG(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),iG(iU([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=iD(t);return iG(r.slice(0,4))!==this.getSighash(e)&&o3.throwArgumentError(`data signature does not match function ${e.name}.`,"data",iG(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),iG(iU([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=iD(t),n=null,i="",o=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{let e=iG(r.slice(0,4)),t=o7[e];if(t)o=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.signature,t.reason&&(n=o[0]),"Error"===s?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:"Panic"===s&&(i=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{let t=this.getError(e);o=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.format()}catch(e){}}}return o3.throwError("call revert exception"+i,iR.errors.CALL_EXCEPTION,{method:e.format(),data:iG(t),errorArgs:o,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),iG(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&o3.throwError("too many arguments for "+e.format(),iR.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));let n=(e,t)=>"string"===e.type?ot(of(t)):"bytes"===e.type?ot(iG(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=iV.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),ij(iG(t),32));for(t.forEach((t,i)=>{let o=e.inputs[i];if(!o.indexed){null!=t&&o3.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,t);return}null==t?r.push(null):"array"===o.baseType||"tuple"===o.baseType?o3.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,t):Array.isArray(t)?r.push(t.map(e=>n(o,e))):r.push(n(o,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&o3.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,o)=>{let s=t[o];if(e.indexed){if("string"===e.type)r.push(ot(of(s)));else if("bytes"===e.type)r.push(ot(s));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),i.push(s)}),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);iL(r[0],32)&&r[0].toLowerCase()===t||o3.throwError("fragment/topic mismatch",iR.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(oM.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(n.push(e),o.push(!1)):(i.push(e),o.push(!1))});let s=null!=r?this._abiCoder.decode(n,iU(r)):null,a=this._abiCoder.decode(i,t,!0),l=[],u=0,c=0;e.inputs.forEach((e,t)=>{if(e.indexed){if(null==s)l[t]=new o9({_isIndexed:!0,hash:null});else if(o[t])l[t]=new o9({_isIndexed:!0,hash:s[c++]});else try{l[t]=s[c++]}catch(e){l[t]=e}}else try{l[t]=a[u++]}catch(e){l[t]=e}if(e.name&&null==l[e.name]){let r=l[t];r instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw se(`property ${JSON.stringify(e.name)}`,r)}}):l[e.name]=r}});for(let e=0;e<l.length;e++){let t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:()=>{throw se(`index ${e}`,t)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new o4({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:iV.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new o5({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=iG(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new o8({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}let sr=new iR("abstract-provider/5.7.0");class sn{constructor(){sr.checkAbstract(new.target,sn),i$(this,"_isProvider",!0)}getFeeData(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function*(){let{block:e,gasPrice:t}=yield i1({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=iV.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}},new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}var si=r(14941);let so=new iR("transactions/5.7.0");function ss(e,t){return{address:ol(e),storageKeys:(t||[]).map((t,r)=>(32!==function(e){if("string"!=typeof e)e=iG(e);else if(!iL(e)||e.length%2)return null;return(e.length-2)/2}(t)&&so.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}(R=eE||(eE={}))[R.legacy=0]="legacy",R[R.eip2930=1]="eip2930",R[R.eip1559=2]="eip1559";var sa=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let sl=new iR("contracts/5.6.2");function su(e,t){return sa(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&sl.throwArgumentError("invalid address or ENS name","name",r);try{return ol(r)}catch(e){}e||sl.throwError("a provider or signer is needed to resolve ENS names",iR.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let n=yield e.resolveName(r);return null==n&&sl.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function sc(e,t,r){return sa(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=i2(r.pop())),sl.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=i1({override:su(e.signer,n.from),signer:e.signer.getAddress()}).then(e=>sa(this,void 0,void 0,function*(){return ol(e.signer)!==e.override&&sl.throwError("Contract with a Signer cannot override from",iR.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):n.from=e.signer.getAddress():n.from&&(n.from=su(e.provider,n.from));let i=yield i1({args:function e(t,r,n){return sa(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((n,i)=>e(t,Array.isArray(r)?r[i]:r[n.name],n))):"address"===n.type?yield su(t,r):"tuple"===n.type?yield e(t,r,n.components):"array"===n.baseType?Array.isArray(r)?yield Promise.all(r.map(r=>e(t,r,n.arrayChildren))):Promise.reject(sl.makeError("invalid value for array",iR.errors.INVALID_ARGUMENT,{argument:"value",value:r})):r})}(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:i1(n)||{}}),o=e.interface.encodeFunctionData(t,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=iV.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=iV.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=iV.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=iV.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=iV.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=function(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&so.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),ss(e[0],e[1])):ss(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return ss(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}(a.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3,r=iD(o);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);s.gasLimit=iV.from(t.gas).add(e)}if(a.value){let e=iV.from(a.value);e.isZero()||t.payable||sl.throwError("non-payable method cannot override value",iR.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=e}a.customData&&(s.customData=i2(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;let l=Object.keys(n).filter(e=>null!=n[e]);return l.length&&sl.throwError(`cannot override ${l.map(e=>JSON.stringify(e)).join(",")}`,iR.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s})}function sh(e,t,r){let n=e.signer||e.provider;return function(...i){return sa(this,void 0,void 0,function*(){let o;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){let e=i2(i.pop());null!=e.blockTag&&(o=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(o));let s=yield sc(e,t,i),a=yield n.call(s,o);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===iR.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=s),t}})}}function sf(e,t,r){return t.constant?sh(e,t,r):function(...r){return sa(this,void 0,void 0,function*(){e.signer||sl.throwError("sending a transaction requires a signer",iR.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let n=yield sc(e,t,r),i=yield e.signer.sendTransaction(n);return function(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=i3(r),i=null;try{i=e.interface.parseLog(r)}catch(e){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}(e,i),i})}}function sd(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class sp{constructor(e,t){i$(this,"tag",e),i$(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class sg extends sp{constructor(){super("error",null)}}class sm extends sp{constructor(e,t,r,n){let i={address:e},o=t.getEventTopic(r);n?(o!==n[0]&&sl.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(sd(i),i),i$(this,"address",e),i$(this,"interface",t),i$(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let t=function(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let o=e.slice();o.push(i);try{r(o,n[i])}catch(e){t.push({path:o,error:e})}}};return r([],e),t}(e.args);if(t.length)throw t[0].error;let r=(e.args||[]).slice();return r.push(e),r}}class sy extends sp{constructor(e,t){super("*",{address:e}),i$(this,"address",e),i$(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class sv{constructor(e,t,r){i$(this,"interface",i0(new.target,"getInterface")(t)),null==r?(i$(this,"provider",null),i$(this,"signer",null)):si.E.isSigner(r)?(i$(this,"provider",r.provider||null),i$(this,"signer",r)):sn.isProvider(r)?(i$(this,"provider",r),i$(this,"signer",null)):sl.throwArgumentError("invalid signer or provider","signerOrProvider",r),i$(this,"callStatic",{}),i$(this,"estimateGas",{}),i$(this,"functions",{}),i$(this,"populateTransaction",{}),i$(this,"filters",{});{let e={};Object.keys(this.interface.events).forEach(t=>{let r=this.interface.events[t];i$(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{let r=e[t];1===r.length?i$(this.filters,t,this.filters[r[0]]):sl.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if(i$(this,"_runningEvents",{}),i$(this,"_wrappedEmits",{}),null==e&&sl.throwArgumentError("invalid contract address or ENS name","addressOrName",e),i$(this,"address",e),this.provider)i$(this,"resolvedAddress",su(this.provider,e));else try{i$(this,"resolvedAddress",Promise.resolve(ol(e)))}catch(e){sl.throwError("provider is required to use ENS name as contract address",iR.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});let n={},i={};Object.keys(this.interface.functions).forEach(e=>{let t=this.interface.functions[e];if(i[e]){sl.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}i[e]=!0;{let r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}if(null==this[e]&&i$(this,e,sf(this,t,!0)),null==this.functions[e]&&i$(this.functions,e,sf(this,t,!1)),null==this.callStatic[e]&&i$(this.callStatic,e,sh(this,t,!0)),null==this.populateTransaction[e]){var r;i$(this.populateTransaction,e,(r=this,function(...e){return sc(r,t,e)}))}null==this.estimateGas[e]&&i$(this.estimateGas,e,function(e,t){let r=e.signer||e.provider;return function(...n){return sa(this,void 0,void 0,function*(){r||sl.throwError("estimate require a provider or signer",iR.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield sc(e,t,n);return yield r.estimateGas(i)})}}(this,t))}),Object.keys(n).forEach(e=>{let t=n[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&i$(this,e,this[r])}catch(e){}null==this.functions[e]&&i$(this.functions,e,this.functions[r]),null==this.callStatic[e]&&i$(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&i$(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&i$(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return function(e){let t=null;try{t=ol(e.from)}catch(t){oi.throwArgumentError("missing from address","transaction",e)}let r=function(e){let t=iD(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}(iD(iV.from(e.nonce).toHexString()));return ol(iq(ot(iG(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=on(r.length);return n.unshift(247+n.length),n.concat(r)}iL(t)&&!(t.length%2)||iF(t)||or.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call(iD(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=on(r.length);return n.unshift(183+n.length),n.concat(r)}([t,r]))),12))}(e)}static getInterface(e){return st.isInterface(e)?e:new st(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&sl.throwError("contract not deployed",iR.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||sl.throwError("sending a transactions require a signer",iR.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=i2(e||{});return["from","to"].forEach(function(e){null!=t[e]&&sl.throwError("cannot override "+e,iR.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new si.b(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&i$(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return o9.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new sg);if("event"===e)return this._normalizeRunningEvent(new sp("event",null));if("*"===e)return this._normalizeRunningEvent(new sy(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new sm(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let t=e.topics[0];if("string"!=typeof t)throw Error("invalid topic");let r=this.interface.getEvent(t);return this._normalizeRunningEvent(new sm(this.address,this.interface,r,e.topics))}catch(e){}let t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new sp(sd(t),t))}return this._normalizeRunningEvent(new sy(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let n=i3(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||sl.throwError("events require a provider or a signer with a provider",iR.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{let t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){let n=this._getRunningEvent(e),i=i2(n.filter);return"string"==typeof t&&iL(t,32)?(null!=r&&sl.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let e in this._runningEvents){let t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}let t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class sA extends sv{}let sb=!1,sE=!1,sw={debug:1,default:2,info:2,warning:3,error:4,off:5},sN=2,sI=null,s_=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(S=ew||(ew={})).DEBUG="DEBUG",S.INFO="INFO",S.WARNING="WARNING",S.ERROR="ERROR",S.OFF="OFF",(C=eN||(eN={})).UNKNOWN_ERROR="UNKNOWN_ERROR",C.NOT_IMPLEMENTED="NOT_IMPLEMENTED",C.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",C.NETWORK_ERROR="NETWORK_ERROR",C.SERVER_ERROR="SERVER_ERROR",C.TIMEOUT="TIMEOUT",C.BUFFER_OVERRUN="BUFFER_OVERRUN",C.NUMERIC_FAULT="NUMERIC_FAULT",C.MISSING_NEW="MISSING_NEW",C.INVALID_ARGUMENT="INVALID_ARGUMENT",C.MISSING_ARGUMENT="MISSING_ARGUMENT",C.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",C.CALL_EXCEPTION="CALL_EXCEPTION",C.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",C.NONCE_EXPIRED="NONCE_EXPIRED",C.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",C.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",C.TRANSACTION_REPLACED="TRANSACTION_REPLACED",C.ACTION_REJECTED="ACTION_REJECTED";let sk="0123456789abcdef";class sP{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==sw[r]&&this.throwArgumentError("invalid log level name","logLevel",e),sN>sw[r]||console.log.apply(console,t)}debug(...e){this._log(sP.levels.DEBUG,e)}info(...e){this._log(sP.levels.INFO,e)}warn(...e){this._log(sP.levels.WARNING,e)}makeError(e,t,r){if(sE)return this.makeError("censored error",t,{});t||(t=sP.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=sk[t[e]>>4]+sk[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case eN.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case eN.CALL_EXCEPTION:case eN.INSUFFICIENT_FUNDS:case eN.MISSING_NEW:case eN.NONCE_EXPIRED:case eN.REPLACEMENT_UNDERPRICED:case eN.TRANSACTION_REPLACED:case eN.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,sP.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),s_&&this.throwError("platform missing String.prototype.normalize",sP.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:s_})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,sP.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,sP.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,sP.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,sP.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",sP.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",sP.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",sP.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return sI||(sI=new sP("logger/5.7.0")),sI}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",sP.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),sb){if(!e)return;this.globalLogger().throwError("error censorship permanent",sP.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}sE=!!e,sb=!!t}static setLogLevel(e){let t=sw[e.toLowerCase()];if(null==t){sP.globalLogger().warn("invalid log level - "+e);return}sN=t}static from(e){return new sP(e)}}sP.errors=eN,sP.levels=ew;let sT=new sP("properties/5.7.0");function sx(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function sR(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function sS(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}l((i=i.apply(t,r||[])).next())})}function sC(e){let t={};for(let r in e)t[r]=e[r];return t}let sO={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function sB(e){return function(e){if(function e(t){if(null==t||sO[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return sT.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>sB(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&sx(t,r,sB(n))}return t}return sT.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}(e)}class sF{constructor(e){for(let t in e)this[t]=sB(e[t])}}let sD="providers/5.6.8";var sU=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let sL=new sP("abstract-signer/5.7.0"),sM=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],sG=[sP.errors.INSUFFICIENT_FUNDS,sP.errors.NONCE_EXPIRED,sP.errors.REPLACEMENT_UNDERPRICED];class sq{constructor(){sL.checkAbstract(new.target,sq),sx(this,"_isSigner",!0)}getBalance(e){return sU(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return sU(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return sU(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield sS(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return sU(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield sS(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return sU(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return sU(this,void 0,void 0,function*(){this._checkProvider("getChainId");let e=yield this.provider.getNetwork();return e.chainId})}getGasPrice(){return sU(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return sU(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return sU(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===sM.indexOf(t)&&sL.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=sC(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&sL.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return sU(this,void 0,void 0,function*(){let t=yield sS(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>sU(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&sL.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?sL.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&sL.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(r&&sL.throwError("network does not support EIP-1559",sP.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):sL.throwError("failed to get consistent fee data",sP.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(sG.indexOf(e.code)>=0)throw e;return sL.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",sP.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&sL.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield sS(t)})}_checkProvider(e){this.provider||sL.throwError("missing provider",sP.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}let sj=new sP("bytes/5.7.0");function sz(e){return!!e.toHexString}function sH(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return sH(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function sK(e){return sW(e)&&!(e.length%2)||sV(e)}function sQ(e){return"number"==typeof e&&e==e&&e%1==0}function sV(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!sQ(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!sQ(r)||r<0||r>=256)return!1}return!0}function sJ(e,t){if(t||(t={}),"number"==typeof e){sj.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),sH(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),sz(e)&&(e=e.toHexString()),sW(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":sj.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return sH(new Uint8Array(n))}return sV(e)?sH(new Uint8Array(e)):sj.throwArgumentError("invalid arrayify value","value",e)}function sY(e){let t=e.map(e=>sJ(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),sH(n)}function sX(e){let t=sJ(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function sW(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let sZ="0123456789abcdef";function s$(e,t){if(t||(t={}),"number"==typeof e){sj.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=sZ[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),sz(e))return e.toHexString();if(sW(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":sj.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(sV(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=sZ[(240&n)>>4]+sZ[15&n]}return t}return sj.throwArgumentError("invalid hexlify value","value",e)}function s0(e){if("string"!=typeof e)e=s$(e);else if(!sW(e)||e.length%2)return null;return(e.length-2)/2}function s1(e,t,r){return("string"!=typeof e?e=s$(e):(!sW(e)||e.length%2)&&sj.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function s2(e){let t="0x";return e.forEach(e=>{t+=s$(e).substring(2)}),t}function s6(e){let t=function(e){"string"!=typeof e&&(e=s$(e)),sW(e)||sj.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(s$(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function s3(e,t){for("string"!=typeof e?e=s$(e):sW(e)||sj.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&sj.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function s5(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(sK(e)){let r=sJ(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=s$(r.slice(0,32)),t.s=s$(r.slice(32,64))):65===r.length?(t.r=s$(r.slice(0,32)),t.s=s$(r.slice(32,64)),t.v=r[64]):sj.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:sj.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=s$(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let r=function(e,t){(e=sJ(e)).length>t&&sj.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),sH(r)}(sJ(t._vs),32);t._vs=s$(r);let n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&sj.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;let i=s$(r);null==t.s?t.s=i:t.s!==i&&sj.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?sj.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&sj.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&sW(t.r)?t.r=s3(t.r,32):sj.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&sW(t.s)?t.s=s3(t.s,32):sj.throwArgumentError("signature missing or invalid s","signature",e);let r=sJ(t.s);r[0]>=128&&sj.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);let n=s$(r);t._vs&&(sW(t._vs)||sj.throwArgumentError("signature invalid _vs","signature",e),t._vs=s3(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&sj.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var s4=tv().BN;let s8=new sP("bignumber/5.7.0"),s9={},s7=!1;class ae{constructor(e,t){e!==s9&&s8.throwError("cannot call constructor directly; use BigNumber.from",sP.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ar(an(this).fromTwos(e))}toTwos(e){return ar(an(this).toTwos(e))}abs(){return"-"===this._hex[0]?ae.from(this._hex.substring(1)):this}add(e){return ar(an(this).add(an(e)))}sub(e){return ar(an(this).sub(an(e)))}div(e){let t=ae.from(e);return t.isZero()&&ai("division-by-zero","div"),ar(an(this).div(an(e)))}mul(e){return ar(an(this).mul(an(e)))}mod(e){let t=an(e);return t.isNeg()&&ai("division-by-zero","mod"),ar(an(this).umod(t))}pow(e){let t=an(e);return t.isNeg()&&ai("negative-power","pow"),ar(an(this).pow(t))}and(e){let t=an(e);return(this.isNegative()||t.isNeg())&&ai("unbound-bitwise-result","and"),ar(an(this).and(t))}or(e){let t=an(e);return(this.isNegative()||t.isNeg())&&ai("unbound-bitwise-result","or"),ar(an(this).or(t))}xor(e){let t=an(e);return(this.isNegative()||t.isNeg())&&ai("unbound-bitwise-result","xor"),ar(an(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&ai("negative-width","mask"),ar(an(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ai("negative-width","shl"),ar(an(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ai("negative-width","shr"),ar(an(this).shrn(e))}eq(e){return an(this).eq(an(e))}lt(e){return an(this).lt(an(e))}lte(e){return an(this).lte(an(e))}gt(e){return an(this).gt(an(e))}gte(e){return an(this).gte(an(e))}isNegative(){return"-"===this._hex[0]}isZero(){return an(this).isZero()}toNumber(){try{return an(this).toNumber()}catch(e){ai("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return s8.throwError("this platform does not support BigInt",sP.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?s7||(s7=!0,s8.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?s8.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",sP.errors.UNEXPECTED_ARGUMENT,{}):s8.throwError("BigNumber.toString does not accept parameters",sP.errors.UNEXPECTED_ARGUMENT,{})),an(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ae)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new ae(s9,at(e)):e.match(/^-?[0-9]+$/)?new ae(s9,at(new s4(e))):s8.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&ai("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&ai("overflow","BigNumber.from",e),ae.from(String(e));if("bigint"==typeof e)return ae.from(e.toString());if(sV(e))return ae.from(s$(e));if(e){if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return ae.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(sW(t)||"-"===t[0]&&sW(t.substring(1))))return ae.from(t)}}return s8.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function at(e){if("string"!=typeof e)return at(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&s8.throwArgumentError("invalid hex","value",e),"0x00"===(e=at(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function ar(e){return ae.from(at(e))}function an(e){let t=ae.from(e).toHexString();return"-"===t[0]?new s4("-"+t.substring(3),16):new s4(t.substring(2),16)}function ai(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),s8.throwError(e,sP.errors.NUMERIC_FAULT,n)}function ao(e){return"0x"+tV().keccak_256(sJ(e))}let as=new sP("rlp/5.7.0");function aa(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function al(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function au(e){return s$(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=aa(r.length);return n.unshift(247+n.length),n.concat(r)}sK(t)||as.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call(sJ(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=aa(r.length);return n.unshift(183+n.length),n.concat(r)}(e))}function ac(e,t,r,n){let i=[];for(;r<t+1+n;){let o=ah(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&as.throwError("child data too short",sP.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function ah(e,t){if(0===e.length&&as.throwError("data too short",sP.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&as.throwError("data short segment too short",sP.errors.BUFFER_OVERRUN,{});let n=al(e,t+1,r);return t+1+r+n>e.length&&as.throwError("data long segment too short",sP.errors.BUFFER_OVERRUN,{}),ac(e,t,t+1+r,r+n)}if(e[t]>=192){let r=e[t]-192;return t+1+r>e.length&&as.throwError("data array too short",sP.errors.BUFFER_OVERRUN,{}),ac(e,t,t+1,r)}if(e[t]>=184){let r=e[t]-183;t+1+r>e.length&&as.throwError("data array too short",sP.errors.BUFFER_OVERRUN,{});let n=al(e,t+1,r);t+1+r+n>e.length&&as.throwError("data array too short",sP.errors.BUFFER_OVERRUN,{});let i=s$(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}if(e[t]>=128){let r=e[t]-128;t+1+r>e.length&&as.throwError("data too short",sP.errors.BUFFER_OVERRUN,{});let n=s$(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:s$(e[t])}}function af(e){let t=sJ(e),r=ah(t,0);return r.consumed!==t.length&&as.throwArgumentError("invalid rlp data","data",e),r.result}let ad=new sP("address/5.7.0");function ap(e){sW(e,20)||ad.throwArgumentError("invalid address","address",e),e=e.toLowerCase();let t=e.substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=sJ(ao(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let ag={};for(let e=0;e<10;e++)ag[String(e)]=String(e);for(let e=0;e<26;e++)ag[String.fromCharCode(65+e)]=String(10+e);let am=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);function ay(e){let t=null;if("string"!=typeof e&&ad.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=ap(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ad.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){var r;for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>ag[e]).join("");for(;t.length>=am;){let e=t.substring(0,am);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&ad.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new s4(r,36).toString(16);t.length<40;)t="0"+t;t=ap("0x"+t)}else ad.throwArgumentError("invalid address","address",e);return t}let av="hash/5.7.0",aA=new sP("strings/5.7.0");function ab(e,t,r,n,i){if(e===e_.BAD_PREFIX||e===e_.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===e_.OVERRUN?r.length-t-1:0}(O=eI||(eI={})).current="",O.NFC="NFC",O.NFD="NFD",O.NFKC="NFKC",O.NFKD="NFKD",(B=e_||(e_={})).UNEXPECTED_CONTINUE="unexpected continuation byte",B.BAD_PREFIX="bad codepoint prefix",B.OVERRUN="string overrun",B.MISSING_CONTINUE="missing continuation byte",B.OUT_OF_RANGE="out of UTF-8 range",B.UTF16_SURROGATE="UTF-16 surrogate",B.OVERLONG="overlong representation";let aE=Object.freeze({error:function(e,t,r,n,i){return aA.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:ab,replace:function(e,t,r,n,i){return e===e_.OVERLONG?(n.push(i),0):(n.push(65533),ab(e,t,r,n,i))}});function aw(e,t){null==t&&(t=aE.error),e=sJ(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if((224&i)==192)o=1,s=127;else if((240&i)==224)o=2,s=2047;else if((248&i)==240)o=3,s=65535;else{(192&i)==128?n+=t(e_.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(e_.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(e_.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=e[n];if((192&i)!=128){n+=t(e_.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}if(null!==a){if(a>1114111){n+=t(e_.OUT_OF_RANGE,n-1-o,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(e_.UTF16_SURROGATE,n-1-o,e,r,a);continue}if(a<=s){n+=t(e_.OVERLONG,n-1-o,e,r,a);continue}r.push(a)}}return r}function aN(e,t=eI.current){t!=eI.current&&(aA.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return sJ(r)}function aI(e,t){return aw(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}let a_=new sP(av),ak=new Uint8Array(32);ak.fill(0);let aP=ae.from(-1),aT=ae.from(0),ax=ae.from(1),aR=ae.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),aS=s3(ax.toHexString(),32),aC=s3(aT.toHexString(),32),aO={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},aB=["name","version","chainId","verifyingContract","salt"];function aF(e){return function(t){return"string"!=typeof t&&a_.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let aD={name:aF("name"),version:aF("version"),chainId:function(e){try{return ae.from(e).toString()}catch(e){}return a_.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return ay(e).toLowerCase()}catch(e){}return a_.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=sJ(e);if(32!==t.length)throw Error("bad length");return s$(t)}catch(e){}return a_.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function aU(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&a_.throwArgumentError("invalid numeric width","type",e);let i=aR.mask(r?n-1:n),o=r?i.add(ax).mul(aP):aT;return function(t){let r=ae.from(t);return(r.lt(o)||r.gt(i))&&a_.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),s3(r.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&a_.throwArgumentError("invalid bytes width","type",e),function(t){let n=sJ(t);return n.length!==r&&a_.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){let t=sJ(e),r=t.length%32;return r?s2([t,ak.slice(r)]):s$(t)}(t)}}}switch(e){case"address":return function(e){return s3(ay(e),32)};case"bool":return function(e){return e?aS:aC};case"bytes":return function(e){return ao(e)};case"string":return function(e){return ao(aN(e))}}return null}function aL(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class aM{constructor(e){sx(this,"types",Object.freeze(sB(e))),sx(this,"_encoderCache",{}),sx(this,"_types",{});let t={},r={},n={};for(let i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){let n={};e[i].forEach(o=>{n[o.name]&&a_.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,"types",e),n[o.name]=!0;let s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&a_.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);let a=aU(s);a||(r[s]||a_.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)})}let i=Object.keys(r).filter(e=>0===r[e].length);for(let o in 0===i.length?a_.throwArgumentError("missing primary type","types",e):i.length>1&&a_.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),sx(this,"primaryType",i[0]),!function i(o,s){s[o]&&a_.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),s[o]=!0,Object.keys(t[o]).forEach(e=>{r[e]&&(i(e,s),Object.keys(s).forEach(t=>{n[t][e]=!0}))}),delete s[o]}(this.primaryType,{}),n){let t=Object.keys(n[o]);t.sort(),this._types[o]=aL(o,e[o])+t.map(t=>aL(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=aU(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&a_.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(ao)),ao(s2(i))}}let r=this.types[e];if(r){let t=ao(aN(this._types[e]));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?ao(n):n});return n.unshift(t),s2(n)}}return a_.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||a_.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return ao(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){{let n=aU(e);if(n)return r(e,t)}let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&a_.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):a_.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new aM(e)}static getPrimaryType(e){return aM.from(e).primaryType}static hashStruct(e,t,r){return aM.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=aO[r];n||a_.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>aB.indexOf(e.name)-aB.indexOf(t.name)),aM.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return s2(["0x1901",aM.hashDomain(e),aM.from(t).hash(r)])}static hash(e,t,r){return ao(aM.encode(e,t,r))}static resolveNames(e,t,r,n){var i,o,s,a;return i=this,o=void 0,s=void 0,a=function*(){e=sC(e);let i={};e.verifyingContract&&!sW(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=aM.from(t);for(let e in o.visit(r,(e,t)=>("address"!==e||sW(t,20)||(i[t]="0x"),t)),i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:r=o.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t)}},new(s||(s=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}l((a=a.apply(i,o||[])).next())})}static getPayload(e,t,r){aM.hashDomain(e);let n={},i=[];aB.forEach(t=>{let r=e[t];null!=r&&(n[t]=aD[t](r),i.push({name:t,type:aO[t]}))});let o=aM.from(t),s=sC(t);return s.EIP712Domain?a_.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return s$(sJ(t));if(e.match(/^u?int/))return ae.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&a_.throwArgumentError("invalid string","value",t),t}return a_.throwArgumentError("unsupported type","type",e)})}}}let aG=ae.from(0);function aq(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?r.path:t)}},r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var aj=az;function az(e,t){if(!e)throw Error(t||"Assertion failed")}az.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var aH=aq(function(e,t){function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}),aK=aq(function(e,t){t.assert=aj,t.toArray=aH.toArray,t.zero2=aH.zero2,t.toHex=aH.toHex,t.encode=aH.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,l=e.andln(3)+n&3,u=t.andln(3)+i&3;3===l&&(l=-1),3===u&&(u=-1),s=(1&l)==0?0:(3==(o=e.andln(7)+n&7)||5===o)&&2===u?-l:l,r[0].push(s),a=(1&u)==0?0:(3==(o=t.andln(7)+i&7)||5===o)&&2===l?-u:u,r[1].push(a),2*n===s+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(tv())(e,"hex","le")}}),aQ=aK.getNAF,aV=aK.getJSF,aJ=aK.assert;function aY(e,t){this.type=e,this.p=new(tv())(t.p,16),this.red=t.prime?tv().red(t.prime):tv().mont(this.p),this.zero=new(tv())(0).toRed(this.red),this.one=new(tv())(1).toRed(this.red),this.two=new(tv())(2).toRed(this.red),this.n=t.n&&new(tv())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function aX(e,t){this.curve=e,this.type=t,this.precomputed=null}aY.prototype.point=function(){throw Error("Not implemented")},aY.prototype.validate=function(){throw Error("Not implemented")},aY.prototype._fixedNafMul=function(e,t){aJ(e.precomputed);var r,n,i=e._getDoubles(),o=aQ(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[];for(r=0;r<o.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+o[l];a.push(n)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=s;h>0;h--){for(r=0;r<a.length;r++)(n=a[r])===h?c=c.mixedAdd(i.points[r]):n===-h&&(c=c.mixedAdd(i.points[r].neg()));u=u.add(c)}return u.toP()},aY.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=aQ(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];aJ(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},aY.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=t[o])._getNAFPoints(e);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1!==l[d]||1!==l[p]){c[d]=aQ(r[d],l[d],this._bitLength),c[p]=aQ(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h);continue}var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=aV(r[d],r[p]);for(s=0,h=Math.max(y[0].length,h),c[d]=Array(h),c[p]=Array(h);s<h;s++){var v=0|y[0][s],A=0|y[1][s];c[d][s]=m[(v+1)*3+(A+1)],c[p][s]=0,u[d]=g}}var b=this.jpoint(null,null,null),E=this._wnafT4;for(o=h;o>=0;o--){for(var w=0;o>=0;){var N=!0;for(s=0;s<n;s++)E[s]=0|c[s][o],0!==E[s]&&(N=!1);if(!N)break;w++,o--}if(o>=0&&w++,b=b.dblp(w),o<0)break;for(s=0;s<n;s++){var I=E[s];0!==I&&(I>0?a=u[s][I-1>>1]:I<0&&(a=u[s][-I-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?b:b.toP()},aY.BasePoint=aX,aX.prototype.eq=function(){throw Error("Not implemented")},aX.prototype.validate=function(){return this.curve.validate(this)},aY.prototype.decodePoint=function(e,t){e=aK.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?aJ(e[e.length-1]%2==0):7===e[0]&&aJ(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},aX.prototype.encodeCompressed=function(e){return this.encode(e,!0)},aX.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},aX.prototype.encode=function(e,t){return aK.encode(this._encode(t),e)},aX.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},aX.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},aX.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},aX.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},aX.prototype._getBeta=function(){return null},aX.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var aW=aq(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),aZ=aK.assert;function a$(e){aY.call(this,"short",e),this.a=new(tv())(e.a,16).toRed(this.red),this.b=new(tv())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function a0(e,t,r,n){aY.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(tv())(t,16),this.y=new(tv())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function a1(e,t,r,n){aY.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(tv())(0)):(this.x=new(tv())(t,16),this.y=new(tv())(r,16),this.z=new(tv())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}aW(a$,aY),a$.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new(tv())(e.beta,16).toRed(this.red);else{var t,r,n,i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new(tv())(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],aZ(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new(tv())(e.a,16),b:new(tv())(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},a$.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:tv().mont(e),r=new(tv())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(tv())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},a$.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),d=new(tv())(1),p=new(tv())(0),g=new(tv())(0),m=new(tv())(1),y=0;0!==h.cmpn(0);){var v=f.div(h);l=f.sub(v.mul(h)),u=g.sub(v.mul(d));var A=m.sub(v.mul(p));if(!n&&0>l.cmp(c))t=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++y)break;a=l,f=h,h=l,g=d,d=u,m=p,p=A}o=l.neg(),s=u;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},a$.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:l.add(u).neg()}},a$.prototype.pointFromX=function(e,t){(e=new(tv())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},a$.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},a$.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},aW(a0,aY.BasePoint),a$.prototype.point=function(e,t,r){return new a0(this,e,t,r)},a$.prototype.pointFromJSON=function(e,t){return a0.fromJSON(this,e,t)},a0.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},a0.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a0.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},a0.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a0.prototype.isInfinity=function(){return this.inf},a0.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},a0.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},a0.prototype.getX=function(){return this.x.fromRed()},a0.prototype.getY=function(){return this.y.fromRed()},a0.prototype.mul=function(e){return(e=new(tv())(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},a0.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},a0.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},a0.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},a0.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},a0.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},aW(a1,aY.BasePoint),a$.prototype.jpoint=function(e,t,r){return new a1(this,e,t,r)},a1.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},a1.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a1.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,d,p)},a1.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},a1.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var v=u.redMul(a);t+1<e&&(l=l.redMul(f)),o=g,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},a1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a1.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=l,t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},a1.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},a1.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),l=t.redAdd(t),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},a1.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},a1.prototype.mul=function(e,t){return e=new(tv())(e,t),this.curve._wnafMul(this,e)},a1.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},a1.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},a1.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a1.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var a2=aq(function(e,t){t.base=aY,t.short=a$,t.mont=null,t.edwards=null}),a6=aq(function(e,t){var r,n=aK.assert;function i(e){"short"===e.type?this.curve=new a2.short(e):"edwards"===e.type?this.curve=new a2.edwards(e):this.curve=new a2.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new i(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=i,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:rE().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:rE().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:rE().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:rE().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:rE().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rE().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rE().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:rE().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function a3(e){if(!(this instanceof a3))return new a3(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=aH.toArray(e.entropy,e.entropyEnc||"hex"),r=aH.toArray(e.nonce,e.nonceEnc||"hex"),n=aH.toArray(e.pers,e.persEnc||"hex");aj(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}a3.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a3.prototype._hmac=function(){return new(rE()).hmac(this.hash,this.K)},a3.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a3.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=aH.toArray(e,t),r=aH.toArray(r,n),aj(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a3.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=aH.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,aH.encode(o,t)};var a5=aK.assert;function a4(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}a4.fromPublic=function(e,t,r){return t instanceof a4?t:new a4(e,{pub:t,pubEnc:r})},a4.fromPrivate=function(e,t,r){return t instanceof a4?t:new a4(e,{priv:t,privEnc:r})},a4.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a4.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},a4.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a4.prototype._importPrivate=function(e,t){this.priv=new(tv())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a4.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?a5(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&a5(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},a4.prototype.derive=function(e){return e.validate()||a5(e.validate(),"public point not validated"),e.mul(this.priv).getX()},a4.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},a4.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a4.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var a8=aK.assert;function a9(e,t){if(e instanceof a9)return e;this._importDER(e,t)||(a8(e.r&&e.s,"Signature without r or s"),this.r=new(tv())(e.r,16),this.s=new(tv())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a7(){this.place=0}function le(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function lt(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function lr(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}a9.prototype._importDER=function(e,t){e=aK.toArray(e,t);var r=new a7;if(48!==e[r.place++])return!1;var n=le(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var i=le(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=le(e,r);if(!1===s||e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(tv())(o),this.s=new(tv())(a),this.recoveryParam=null,!0},a9.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=lt(t),r=lt(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];lr(n,t.length),(n=n.concat(t)).push(2),lr(n,r.length);var i=n.concat(r),o=[48];return lr(o,i.length),o=o.concat(i),aK.encode(o,e)};var ln=function(){throw Error("unsupported")},li=aK.assert;function lo(e){if(!(this instanceof lo))return new lo(e);"string"==typeof e&&(li(Object.prototype.hasOwnProperty.call(a6,e),"Unknown curve "+e),e=a6[e]),e instanceof a6.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}lo.prototype.keyPair=function(e){return new a4(this,e)},lo.prototype.keyFromPrivate=function(e,t){return a4.fromPrivate(this,e,t)},lo.prototype.keyFromPublic=function(e,t){return a4.fromPublic(this,e,t)},lo.prototype.genKeyPair=function(e){e||(e={});for(var t=new a3({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ln(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(tv())(2));;){var i=new(tv())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},lo.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},lo.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(tv())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new a3({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new(tv())(1)),u=0;;u++){var c=n.k?n.k(u):new(tv())(a.generate(this.n.byteLength()));if(!(0>=(c=this._truncateToN(c,!0)).cmpn(1)||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new a9({r:d,s:p,recoveryParam:g})}}}}}},lo.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(tv())(e,16)),r=this.keyFromPublic(r,n);var i,o=(t=new a9(t,"hex")).r,s=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(i=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&i.eqXToP(o):!(i=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===i.getX().umod(this.n).cmp(o)},lo.prototype.recoverPubKey=function(e,t,r,n){li((3&r)===r,"The recovery param is more than two bits"),t=new a9(t,n);var i=this.n,o=new(tv())(e),s=t.r,a=t.s,l=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=t.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},lo.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new a9(t,n)).recoveryParam)return t.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(r))return o}throw Error("Unable to find valid recovery factor")};var ls=aq(function(e,t){t.version="6.5.4",t.utils=aK,t.rand=function(){throw Error("unsupported")},t.curve=a2,t.curves=a6,t.ec=lo,t.eddsa=null}).ec;let la=new sP("signing-key/5.7.0"),ll=null;function lu(){return ll||(ll=new ls("secp256k1")),ll}class lc{constructor(e){sx(this,"curve","secp256k1"),sx(this,"privateKey",s$(e)),32!==s0(this.privateKey)&&la.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=lu().keyFromPrivate(sJ(this.privateKey));sx(this,"publicKey","0x"+t.getPublic(!1,"hex")),sx(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),sx(this,"_isSigningKey",!0)}_addPoint(e){let t=lu().keyFromPublic(sJ(this.publicKey)),r=lu().keyFromPublic(sJ(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=lu().keyFromPrivate(sJ(this.privateKey)),r=sJ(e);32!==r.length&&la.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return s5({recoveryParam:n.recoveryParam,r:s3("0x"+n.r.toString(16),32),s:s3("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=lu().keyFromPrivate(sJ(this.privateKey)),r=lu().keyFromPublic(sJ(lh(e)));return s3("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function lh(e,t){let r=sJ(e);if(32===r.length){let e=new lc(r);return t?"0x"+lu().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?s$(r):"0x"+lu().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+lu().keyFromPublic(r).getPublic(!0,"hex"):s$(r):la.throwArgumentError("invalid public or private key","key","[REDACTED]")}let lf=new sP("transactions/5.7.0");function ld(e){return"0x"===e?null:ay(e)}function lp(e){return"0x"===e?aG:ae.from(e)}function lg(e,t){return function(e){let t=lh(e);return ay(s1(ao(s1(t,1)),12))}(function(e,t){let r=s5(t),n={r:sJ(r.r),s:sJ(r.s)};return"0x"+lu().recoverPubKey(sJ(e),n,r.recoveryParam).encode("hex",!1)}(sJ(e),t))}function lm(e,t){let r=sX(ae.from(e).toHexString());return r.length>32&&lf.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function ly(e,t){return{address:ay(e),storageKeys:(t||[]).map((t,r)=>(32!==s0(t)&&lf.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function lv(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&lf.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),ly(e[0],e[1])):ly(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return ly(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function lA(e){return lv(e).map(e=>[e.address,e.storageKeys])}function lb(e,t){if(null!=e.gasPrice){let t=ae.from(e.gasPrice),r=ae.from(e.maxFeePerGas||0);t.eq(r)||lf.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[lm(e.chainId||0,"chainId"),lm(e.nonce||0,"nonce"),lm(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),lm(e.maxFeePerGas||0,"maxFeePerGas"),lm(e.gasLimit||0,"gasLimit"),null!=e.to?ay(e.to):"0x",lm(e.value||0,"value"),e.data||"0x",lA(e.accessList||[])];if(t){let e=s5(t);r.push(lm(e.recoveryParam,"recoveryParam")),r.push(sX(e.r)),r.push(sX(e.s))}return s2(["0x02",au(r)])}function lE(e,t){let r=[lm(e.chainId||0,"chainId"),lm(e.nonce||0,"nonce"),lm(e.gasPrice||0,"gasPrice"),lm(e.gasLimit||0,"gasLimit"),null!=e.to?ay(e.to):"0x",lm(e.value||0,"value"),e.data||"0x",lA(e.accessList||[])];if(t){let e=s5(t);r.push(lm(e.recoveryParam,"recoveryParam")),r.push(sX(e.r)),r.push(sX(e.s))}return s2(["0x01",au(r)])}function lw(e,t,r){try{let r=lp(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){lf.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=s3(t[1],32),e.s=s3(t[2],32);try{let t=ao(r(e));e.from=lg(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function lN(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return sJ(t)}function lI(e){e=sJ(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}(F=ek||(ek={}))[F.legacy=0]="legacy",F[F.eip2930=1]="eip2930",F[F.eip1559=2]="eip1559";let l_=new sP("web/5.7.1");function lk(e){return new Promise(t=>{setTimeout(t,e)})}function lP(e,t){if(null==e)return null;if("string"==typeof e)return e;if(sK(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return aI(e)}catch(e){}return s$(e)}return e}function lT(e,t,r){let n=null;if(null!=t){n=aN(t);let r="string"==typeof e?{url:e}:sC(e);if(r.headers){let e=0!==Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length;e||(r.headers=sC(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return function(e,t,r){let n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;l_.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);let i="object"==typeof e?e.throttleCallback:null,o="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;l_.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);let s="object"==typeof e&&!!e.errorPassThrough,a={},l=null,u={method:"GET"},c=!1,h=12e4;if("string"==typeof e)l=e;else if("object"==typeof e){if((null==e||null==e.url)&&l_.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"==typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(let t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&l_.throwError("basic authentication requires a secure https url",sP.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});let t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+lI(aN(t))}}null!=e.skipFetchSetup&&(u.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(u.fetchOptions=sC(e.fetchOptions))}let f=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=l?l.match(f):null;if(d)try{var p;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?lN(d[3]):(p=d[3],aN(p.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){l_.throwError("processing response error",sP.errors.SERVER_ERROR,{body:lP(d[1],d[2]),error:e,requestBody:null,requestMethod:"GET",url:l})}t&&(u.method="POST",u.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));let g={};Object.keys(a).forEach(e=>{let t=a[e];g[t.key]=t.value}),u.headers=g;let m=function(){let e=null,t=new Promise(function(t,r){h&&(e=setTimeout(()=>{null!=e&&(e=null,r(l_.makeError("timeout",sP.errors.TIMEOUT,{requestBody:lP(u.body,g["content-type"]),requestMethod:u.method,timeout:h,url:l})))},h))});return{promise:t,cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){var e,t,a,h;return e=this,t=void 0,a=void 0,h=function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield function(e,t){var r,n,i,o;return r=this,n=void 0,i=void 0,o=function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}let n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((e,t)=>{o[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{o[e.toLowerCase()]=n.headers.get(e)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:sJ(new Uint8Array(i))}},new(i||(i=Promise))(function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}l((o=o.apply(r,n||[])).next())})}(l,u),e<n){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===u.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,l)),r){let r=0,n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield lk(r);continue}}}}catch(e){null==(t=e.response)&&(m.cancel(),l_.throwError("missing response",sP.errors.SERVER_ERROR,{requestBody:lP(u.body,g["content-type"]),requestMethod:u.method,serverError:e,url:l}))}let a=t.body;if(c&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(m.cancel(),l_.throwError("bad response",sP.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:lP(a,t.headers?t.headers["content-type"]:null),requestBody:lP(u.body,g["content-type"]),requestMethod:u.method,url:l})),r)try{let e=yield r(a,t);return m.cancel(),e}catch(r){if(r.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,l)),t){let t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield lk(t);continue}}m.cancel(),l_.throwError("processing response error",sP.errors.SERVER_ERROR,{body:lP(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:lP(u.body,g["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),a}return l_.throwError("failed response",sP.errors.SERVER_ERROR,{requestBody:lP(u.body,g["content-type"]),requestMethod:u.method,url:l})},new(a||(a=Promise))(function(r,n){function i(e){try{s(h.next(e))}catch(e){n(e)}}function o(e){try{s(h.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}s((h=h.apply(e,t||[])).next())})}();return Promise.race([m.promise,y])}(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(aI(e))}catch(t){l_.throwError("invalid JSON",sP.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function lx(e,t){return t||(t={}),null==(t=sC(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,o=!1,s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(Error("timeout"))},t.timeout));let a=t.retryLimit,l=0;!function i(){return e().then(function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(++l>a){s()&&n(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){s()&&n(e)})}()})}let lR=new sP("abstract-provider/5.7.0");class lS extends sF{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class lC{constructor(){lR.checkAbstract(new.target,lC),sx(this,"_isProvider",!0)}getFeeData(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function*(){let{block:e,gasPrice:t}=yield sS({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=ae.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}},new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}class lO{constructor(e){sx(this,"alphabet",e),sx(this,"base",e.length),sx(this,"_alphabetMap",{}),sx(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=sJ(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return sJ(new Uint8Array(t.reverse()))}}new lO("abcdefghijklmnopqrstuvwxyz234567");let lB=new lO("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function lF(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function lD(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function lU(e,t){let r=lD(e(),e),n=e(),i=lD(n,e),o=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<o[e];t++)r.push(i[e]+t);return t?r.map(e=>t[e]):r}function lL(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,o=0;i<e;i++){var n;r[i]=o+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}let lM=(A=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let e=1;e<n;e++)o.push(i+=r());let s=r(),a=t;t+=s;let l=0,u=0;function c(){return 0==l&&(u=u<<8|e[t++],l=8),u>>--l&1}let h=0;for(let e=0;e<31;e++)h=h<<1|c();let f=[],d=0,p=2147483648;for(;;){let e=Math.floor(((h-d+1)*i-1)/p),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<o[n]?r=n:t=n}if(0==t)break;f.push(t);let s=d+Math.floor(p*o[t]/i),a=d+Math.floor(p*o[t+1]/i)-1;for(;((s^a)&1073741824)==0;)h=h<<1&2147483647|c(),s=s<<1&2147483647,a=a<<1&2147483647|1;for(;s&~a&536870912;)h=1073741824&h|h<<1&1073741823|c(),s=s<<1^1073741824,a=(1073741824^a)<<1|1073741825;d=s,p=1+a-s}let g=n-4;return f.map(t=>{switch(t-g){case 3:return g+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return g+256+(e[a++]<<8|e[a++]);case 1:return g+e[a++];default:return t-1}})}(lN("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")),a=0,()=>A[a++]),lG=new Set(lU(lM)),lq=new Set(lU(lM)),lj=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return lF(lL(i.length,1+e,t).map((e,t)=>{let o=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[o+t*r,s.map(e=>e+i)]})}))}(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(lL(1+e(),1+r,e).map(e=>[e[0],e.slice(1)]))}return function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}(lF(t))}(lM),lz=(i=lU(lM).sort((e,t)=>e-t),function e(){let t=[];for(;;){let r=lU(lM,i);if(0==r.length)break;t.push({set:new Set(r),node:e()})}t.sort((e,t)=>t.set.size-e.set.size);let r=lM();return{branches:t,valid:r%3,fe0f:!!(1&(r=r/3|0)),save:1==(r>>=1),check:2==r}}());function lH(e){return function(e,t=eI.current){return aw(aN(e,t))}(e)}function lK(e){return e.filter(e=>65039!=e)}function lQ(e){for(let t of e.split(".")){let e=lH(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let lV=new sP(av),lJ=new Uint8Array(32);function lY(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function lX(e){let t=aN(lQ(function(e,t){let r=lH(e).reverse(),n=[];for(;r.length;){let e=function(e,t){var r;let n,i;let o=lz,s=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(!(o=null===(r=o.branches.find(e=>e.set.has(l)))||void 0===r?void 0:r.node))break;if(o.save)i=l;else if(o.check&&l===i)break;s.push(l),o.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}(r);if(e){n.push(...t(e));continue}let i=r.pop();if(lG.has(i)){n.push(i);continue}if(lq.has(i))continue;let o=lj[i];if(o){n.push(...o);continue}throw Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return lQ(String.fromCodePoint(...n).normalize("NFC"))}(e,lK))),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++){let i=t[e];46===i&&(r.push(lY(t.slice(n,e))),n=e+1)}if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(lY(t.slice(n))),r}function lW(e){"string"!=typeof e&&lV.throwArgumentError("invalid ENS name; not a string","name",e);let t=lJ,r=lX(e);for(;r.length;)t=ao(sY([t,ao(r.pop())]));return s$(t)}lJ.fill(0);let lZ=new sP("networks/5.7.1");function l$(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let i=new t.AnkrProvider(e,r.ankr);i.network&&-1===["ropsten"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return l$(e)},t}function l0(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return l0(e,t)},r}let l1={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:l$("homestead")},l2={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:l$("ropsten")},l6={chainId:63,name:"classicMordor",_defaultProvider:l0("https://www.ethercluster.com/mordor","classicMordor")},l3={unspecified:{chainId:0,name:"unspecified"},homestead:l1,mainnet:l1,morden:{chainId:2,name:"morden"},ropsten:l2,testnet:l2,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:l$("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:l$("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:l$("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:l$("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:l0("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:l6,classicTestnet:l6,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:l0("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:l$("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:l$("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function l5(e){return"0x"+rE().sha256().update(sJ(e)).digest("hex")}new sP("sha2/5.7.0");let l4=new sP(sD);class l8{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:o,type:l,accessList:l8.allowNull(this.accessList.bind(this),null),blockHash:l8.allowNull(o,null),blockNumber:l8.allowNull(a,null),transactionIndex:l8.allowNull(a,null),confirmations:l8.allowNull(a,null),from:t,gasPrice:l8.allowNull(r),maxPriorityFeePerGas:l8.allowNull(r),maxFeePerGas:l8.allowNull(r),gasLimit:r,to:l8.allowNull(t,null),value:r,nonce:a,data:i,r:l8.allowNull(this.uint256),s:l8.allowNull(this.uint256),v:l8.allowNull(a),creates:l8.allowNull(t,null),raw:l8.allowNull(i)},e.transactionRequest={from:l8.allowNull(t),nonce:l8.allowNull(a),gasLimit:l8.allowNull(r),gasPrice:l8.allowNull(r),maxPriorityFeePerGas:l8.allowNull(r),maxFeePerGas:l8.allowNull(r),to:l8.allowNull(t),value:l8.allowNull(r),data:l8.allowNull(e=>this.data(e,!0)),type:l8.allowNull(a),accessList:l8.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:t,topics:l8.arrayOf(o),data:i,logIndex:a,blockHash:o},e.receipt={to:l8.allowNull(this.address,null),from:l8.allowNull(this.address,null),contractAddress:l8.allowNull(t,null),transactionIndex:a,root:l8.allowNull(s),gasUsed:r,logsBloom:l8.allowNull(i),blockHash:o,transactionHash:o,logs:l8.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:l8.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:l8.allowNull(r),status:l8.allowNull(a),type:l},e.block={hash:l8.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:l8.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:l8.allowNull(t),extraData:i,transactions:l8.allowNull(l8.arrayOf(o)),baseFeePerGas:l8.allowNull(r)},e.blockWithTransactions=sC(e.block),e.blockWithTransactions.transactions=l8.allowNull(l8.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:l8.allowNull(n,void 0),toBlock:l8.allowNull(n,void 0),blockHash:l8.allowNull(o,void 0),address:l8.allowNull(t,void 0),topics:l8.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:l8.allowNull(a),blockHash:l8.allowNull(o),transactionIndex:a,removed:l8.allowNull(this.boolean.bind(this)),address:t,data:l8.allowFalsish(i,"0x"),topics:l8.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return lv(e||[])}number(e){return"0x"===e?0:ae.from(e).toNumber()}type(e){return"0x"===e||null==e?0:ae.from(e).toNumber()}bigNumber(e){return ae.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),sW(e))?e.toLowerCase():l4.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return ay(e)}callAddress(e){if(!sW(e,32))return null;let t=ay(s1(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){return function(e){let t=null;try{t=ay(e.from)}catch(t){ad.throwArgumentError("missing from address","transaction",e)}let r=sX(sJ(ae.from(e.nonce).toHexString()));return ay(s1(ao(au([t,r])),12))}(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||sW(e))return s6(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==s0(r)?l4.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=ae.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!sW(e))throw Error("invalid uint256");return s3(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=l8.check(t,e);return n._difficulty=null==r?null:ae.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return l8.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&ae.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=l8.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;sW(r)&&(r=ae.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),sW(r)&&(r=ae.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return function(e){let t=sJ(e);if(t[0]>127)return function(e){let t=af(e);9!==t.length&&6!==t.length&&lf.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:lp(t[0]).toNumber(),gasPrice:lp(t[1]),gasLimit:lp(t[2]),to:ld(t[3]),value:lp(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=ae.from(t[6]).toNumber()}catch(e){return r}if(r.r=s3(t[7],32),r.s=s3(t[8],32),ae.from(r.r).isZero()&&ae.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(s$(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);let o=ao(au(i));try{r.from=lg(o,{r:s$(r.r),s:s$(r.s),recoveryParam:n})}catch(e){}r.hash=ao(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){let t=af(e.slice(1));8!==t.length&&11!==t.length&&lf.throwArgumentError("invalid component count for transaction type: 1","payload",s$(e));let r={type:1,chainId:lp(t[0]).toNumber(),nonce:lp(t[1]).toNumber(),gasPrice:lp(t[2]),gasLimit:lp(t[3]),to:ld(t[4]),value:lp(t[5]),data:t[6],accessList:lv(t[7])};return 8===t.length||(r.hash=ao(e),lw(r,t.slice(8),lE)),r}(t);case 2:return function(e){let t=af(e.slice(1));9!==t.length&&12!==t.length&&lf.throwArgumentError("invalid component count for transaction type: 2","payload",s$(e));let r=lp(t[2]),n=lp(t[3]),i={type:2,chainId:lp(t[0]).toNumber(),nonce:lp(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:lp(t[4]),to:ld(t[5]),value:lp(t[6]),data:t[7],accessList:lv(t[8])};return 9===t.length||(i.hash=ao(e),lw(i,t.slice(9),lb)),i}(t)}return lf.throwError(`unsupported transaction type: ${t[0]}`,sP.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}(e)}receiptLog(e){return l8.check(this.formats.receiptLog,e)}receipt(e){let t=l8.check(this.formats.receipt,e);if(null!=t.root){if(t.root.length<=4){let e=ae.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&l4.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):l4.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&l4.throwArgumentError("invalid root hash","value.root",t.root)}return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return l8.check(this.formats.filter,e)}filterLog(e){return l8.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}var l9=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let l7=new sP(sD);function ue(e){return null==e?"null":(32!==s0(e)&&l7.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function ut(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return ue(e);{let t={};e.forEach(e=>{t[ue(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function ur(e){if("string"==typeof e){if(32===s0(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+ut(e);else if(lS.isForkEvent(e))throw l7.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+ut(e.topics||[]);throw Error("invalid event - "+e)}function un(){return new Date().getTime()}function ui(e){return new Promise(t=>{setTimeout(t,e)})}let uo=["block","network","pending","poll"];class us{constructor(e,t,r){sx(this,"tag",e),sx(this,"listener",t),sx(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||uo.indexOf(this.tag)>=0}}let ua={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ul(e){return s3(ae.from(e).toHexString(),32)}function uu(e){return lB.encode(sY([e,s1(l5(l5(e)),0,4)]))}let uc=RegExp("^(ipfs)://(.*)$","i"),uh=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),uc,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function uf(e,t){try{return aI(ud(e,t))}catch(e){}return null}function ud(e,t){if("0x"===e)return null;let r=ae.from(s1(e,t,t+32)).toNumber(),n=ae.from(s1(e,r,r+32)).toNumber();return s1(e,r+32,r+32+n)}function up(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):l7.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function ug(e){let t=sJ(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function um(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){let i=sJ(e[n]);t[n]=ug(r),t.push(ug(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return s2(t)}class uy{constructor(e,t,r,n){sx(this,"provider",e),sx(this,"name",r),sx(this,"address",e.formatter.address(t)),sx(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ae.from(e).eq(1)).catch(e=>{if(e.code===sP.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return l9(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:s2([e,lW(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=s2(["0x9061b923",um([s$(sY(lX(this.name).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00",r.data])]));try{let e=yield this.provider.call(r);return sJ(e).length%32==4&&l7.throwError("resolver threw error",sP.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=ud(e,0)),e}catch(e){if(e.code===sP.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return l9(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?ud(r,0):null})}_getAddress(e,t){let r=ua[String(e)];if(null==r&&l7.throwError(`unsupported coin type: ${e}`,sP.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=sJ(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return uu(sY([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return uu(sY([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=n[1],t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){let e=nj().toWords(n.slice(2));return e.unshift(t),nj().encode(r.prefix,e)}}return null}getAddress(e){return l9(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===sP.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",ul(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&l7.throwError("invalid or unsupported coin data",sP.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return l9(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<uh.length;r++){let n=t.match(uh[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:up(t)};case"erc721":case"erc1155":{let r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;let a=yield this.provider.formatter.address(s[0]),l=s3(ae.from(s[1]).toHexString(),32);if("erc721"===i){let t=this.provider.formatter.callAddress((yield this.provider.call({to:a,data:s2(["0x6352211e",l])})));if(o!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){let t=ae.from((yield this.provider.call({to:a,data:s2(["0x00fdd58e",s3(o,32),l])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let u={to:this.provider.formatter.address(s[0]),data:s2([r,l])},c=uf((yield this.provider.call(u)),0);if(null==c)return null;e.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=up(c)),e.push({type:"metadata-url",content:c});let h=yield lT(c);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{let t=f.match(uc);if(null==t)return null;e.push({type:"url-ipfs",content:f}),f=up(f)}return e.push({type:"url",content:f}),{linkage:e,url:f}}}}}catch(e){}return null})}getContentHash(){return l9(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+lB.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+lB.encode("0x"+r[1])}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];let i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){let e={"=":"","+":"-","/":"_"},t=lI("0x"+i[1]).replace(/[=+\/]/g,t=>e[t]);return"sia://"+t}return l7.throwError("invalid or unsupported content hash data",sP.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return l9(this,void 0,void 0,function*(){let t=aN(e);(t=sY([ul(64),ul(t.length),t])).length%32!=0&&(t=sY([t,s3("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",s$(t));return null==r||"0x"===r?null:aI(r)})}}let uv=null,uA=1;class ub extends lC{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),sx(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{let t=sR(new.target,"getNetwork")(e);t?(sx(this,"_network",t),this.emit("network",t,null)):l7.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return l9(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||l7.throwError("no network detected",sP.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:sx(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return lx(()=>this._ready().then(e=>e,e=>{if(e.code!==sP.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==uv&&(uv=new l8),uv}static getNetwork(e){return function(e){if(null==e)return null;if("number"==typeof e){for(let t in l3){let r=l3[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=l3[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=l3[e.name];if(!t)return"number"!=typeof e.chainId&&lZ.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&lZ.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var n;r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return l9(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let e=0;e<r.length;e++){let t=r[e],s=t.replace("{sender}",n).replace("{data}",i),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield lT({url:s,errorPassThrough:!0},a,(e,t)=>(e.status=t.statusCode,e));if(l.data)return l.data;let u=l.message||"unknown error";if(l.status>=400&&l.status<500)return l7.throwError(`response not found during CCIP fetch: ${u}`,sP.errors.SERVER_ERROR,{url:t,errorMessage:u});o.push(u)}return l7.throwError(`error encountered during CCIP fetch: ${o.map(e=>JSON.stringify(e)).join(", ")}`,sP.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return l9(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(un()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=un(),r=sS({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;let i=un();return(e=ae.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return l9(this,void 0,void 0,function*(){let e=uA++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)l7.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",l7.makeError("network block skew detected",sP.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,n=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0;let n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);let i=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(i)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return l9(this,void 0,void 0,function*(){return l7.throwError("provider does not support network detection",sP.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return l9(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield ui(0),this._network;let r=l7.makeError("underlying network changed",sP.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=un();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=un(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return l9(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return l9(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,o)=>{let s=[],a=!1,l=function(){return!!a||(a=!0,s.forEach(e=>{e()}),!1)},u=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,u),s.push(()=>{this.removeListener(e,u)}),n){let r=n.startBlock,i=null,u=s=>l9(this,void 0,void 0,function*(){a||(yield ui(1e3),this.getTransactionCount(n.from).then(c=>l9(this,void 0,void 0,function*(){if(!a){if(c<=n.nonce)r=s;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3)<n.startBlock&&(i=n.startBlock);i<=s;){if(a)return;let r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){let s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;let r=yield this.waitForTransaction(s.hash,t);if(l())return;let i="replaced";s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),o(l7.makeError("transaction was replaced",sP.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}));return}}i++}}a||this.once("block",u)}}),e=>{a||this.once("block",u)}))});if(a)return;this.once("block",u),s.push(()=>{this.removeListener("block",u)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{l()||o(l7.makeError("timeout exceeded",sP.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),s.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return l9(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return ae.from(e)}catch(t){return l7.throwError("bad result from backend",sP.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield sS({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return ae.from(n)}catch(e){return l7.throwError("bad result from backend",sP.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}})}getTransactionCount(e,t){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield sS({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return ae.from(n).toNumber()}catch(e){return l7.throwError("bad result from backend",sP.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}})}getCode(e,t){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield sS({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return s$(n)}catch(e){return l7.throwError("bad result from backend",sP.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}})}getStorageAt(e,t,r){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield sS({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>s6(e))}),i=yield this.perform("getStorageAt",n);try{return s$(i)}catch(e){return l7.throwError("bad result from backend",sP.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==s0(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&l7.throwError("Transaction hash mismatch from Provider.sendTransaction.",sP.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,n)=>l9(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&l7.throwError("transaction failed",sP.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)}),e}sendTransaction(e){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>s$(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return l9(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?ae.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?s$(e):null))}),this.formatter.transactionRequest((yield sS(r)))})}_getFilter(e){return l9(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield sS(t)))})}_call(e,t,r){return l9(this,void 0,void 0,function*(){r>=10&&l7.throwError("CCIP read exceeded maximum redirections",sP.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&s0(i)%32==4)try{let o=s1(i,4),s=s1(o,0,32);ae.from(s).eq(n)||l7.throwError("CCIP Read sender did not match",sP.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let a=[],l=ae.from(s1(o,32,64)).toNumber(),u=ae.from(s1(o,l,l+32)).toNumber(),c=s1(o,l+32);for(let t=0;t<u;t++){let r=uf(c,32*t);null==r&&l7.throwError("CCIP Read contained corrupt URL string",sP.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(r)}let h=ud(o,64);ae.from(s1(o,100,128)).isZero()||l7.throwError("CCIP Read callback selector included junk",sP.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let f=s1(o,96,100),d=ud(o,128),p=yield this.ccipReadFetch(e,h,a);null==p&&l7.throwError("CCIP Read disabled or provided no URLs",sP.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let g={to:n,data:s2([f,um([p,d])])};return this._call(g,t,r+1)}catch(e){if(e.code===sP.errors.SERVER_ERROR)throw e}try{return s$(i)}catch(r){return l7.throwError("bad result from backend",sP.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}})}call(e,t){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield sS({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield sS({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return ae.from(r)}catch(e){return l7.throwError("bad result from backend",sP.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return l9(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&l7.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&l7.throwError("ENS name not configured",sP.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return l9(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,n={includeTransactions:!!t};if(sW(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),sW(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){l7.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return lx(()=>l9(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return l9(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return lx(()=>l9(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return l9(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return lx(()=>l9(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}),{oncePoll:this})})}getLogs(e){return l9(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield sS({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),l8.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return l9(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return l9(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&l7.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return l9(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new uy(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return l9(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||l7.throwError("network does not support ENS",sP.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+lW(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return l9(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(sW(e))throw t}"string"!=typeof e&&l7.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return l9(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=uf((yield this.call({to:r,data:"0x691f3431"+lW(t).substring(2)})),0),i=yield this.resolveName(n);return i!=e?null:n})}getAvatar(e){return l9(this,void 0,void 0,function*(){let t=null;if(sW(e)){let r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(n,"getAvatar");if(!i)return null;t=new uy(this,i,n);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==sP.errors.CALL_EXCEPTION)throw e}try{let e=uf((yield this.call({to:i,data:"0x691f3431"+lW(n).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==sP.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return l7.throwError(e+" not implemented",sP.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new us(ur(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=ur(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=ur(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=ur(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=ur(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=ur(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var uE=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let uw=new sP(sD),uN=["call","estimateGas"];function uI(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=sW(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let n=uI(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return uI(JSON.parse(e),t)}catch(e){}return null}function u_(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let e=uI(t,!0);if(e)return e.data;uw.throwError("missing revert data in call exception; Transaction reverted without a reason string",sP.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=uI(t.body,!1);null==r&&(r=uI(t,!1)),r&&uw.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",sP.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===sP.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),(i=(i||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&uw.throwError("insufficient funds for intrinsic transaction cost",sP.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&uw.throwError("nonce has already been used",sP.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&uw.throwError("replacement fee too low",sP.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&uw.throwError("legacy pre-eip-155 transactions not supported",sP.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),uN.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&uw.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",sP.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function uk(e){return new Promise(function(t){setTimeout(t,e)})}function uP(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function uT(e){return e?e.toLowerCase():e}let ux={};class uR extends sq{constructor(e,t,r){if(super(),e!==ux)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");sx(this,"provider",t),null==r&&(r=0),"string"==typeof r?(sx(this,"_address",this.provider.formatter.address(r)),sx(this,"_index",null)):"number"==typeof r?(sx(this,"_index",r),sx(this,"_address",null)):uw.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return uw.throwError("cannot alter JSON-RPC Signer connection",sP.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new uS(ux,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&uw.throwError("unknown account #"+this._index,sP.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=sC(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=sC(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>uE(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&uw.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),sS({tx:sS(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&uw.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>u_("sendTransaction",e,n))})}signTransaction(e){return uw.throwError("signing transactions is unsupported",sP.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return uE(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield lx(()=>uE(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return uE(this,void 0,void 0,function*(){let t="string"==typeof e?aN(e):e,r=yield this.getAddress();return yield this.provider.send("personal_sign",[s$(t),r.toLowerCase()])})}_legacySignMessage(e){return uE(this,void 0,void 0,function*(){let t="string"==typeof e?aN(e):e,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),s$(t)])})}_signTypedData(e,t,r){return uE(this,void 0,void 0,function*(){let n=yield aM.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(aM.getPayload(n.domain,t,n.value))])})}unlock(e){return uE(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class uS extends uR{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let uC={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class uO extends ub{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=sR(this.constructor,"defaultUrl")()),"string"==typeof e?sx(this,"connection",Object.freeze({url:e})):sx(this,"connection",Object.freeze(sC(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return uE(this,void 0,void 0,function*(){yield uk(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=sR(this.constructor,"getNetwork");try{return t(ae.from(e).toNumber())}catch(t){return uw.throwError("could not detect network",sP.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return uw.throwError("could not detect network",sP.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new uR(ux,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:sB(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=lT(this.connection,JSON.stringify(r),uP).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[uT(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[uT(t.address),t.blockTag]];case"getCode":return["eth_getCode",[uT(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[uT(t.address),s3(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{let e=sR(this.constructor,"hexlifyTransaction");return["eth_call",[e(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{let e=sR(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[e(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=uT(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return uE(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&ae.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=sC(t)).transaction=sC(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&uw.throwError(e+" not implemented",sP.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return u_(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return uk(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){n()},0),null}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=sC(uC);if(t)for(let e in t)t[e]&&(r[e]=!0);e&&"object"==typeof e||sT.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(t=>{r[t]||sT.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)});let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=s6(ae.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(n[t]=s$(e[t]))}),e.accessList&&(n.accessList=lv(e.accessList)),n}}let uB=new sP(sD),uF=1;function uD(e,t){let r="Web3LegacyFetcher";return function(e,n){let i={method:e,params:n,id:uF++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:sB(i),provider:this}),t(i,(t,o)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){let e=Error(o.error.message);return e.code=o.error.code,e.data=o.error.data,n(e)}e(o.result)})})}}class uU extends uO{constructor(e,t){null==e&&uB.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"==typeof e?(r="unknown:",n=e):(((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),i=e,e.request)?(""===r&&(r="eip-1193:"),n=function(t,r){null==r&&(r=[]);let n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:sB(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})}):e.sendAsync?n=uD(e,e.sendAsync.bind(e)):e.send?n=uD(e,e.send.bind(e)):uB.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),sx(this,"jsonRpcFetchFunc",n),sx(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}let uL=!1,uM=!1,uG={debug:1,default:2,info:2,warning:3,error:4,off:5},uq=2,uj=null,uz=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(D=eP||(eP={})).DEBUG="DEBUG",D.INFO="INFO",D.WARNING="WARNING",D.ERROR="ERROR",D.OFF="OFF",(U=eT||(eT={})).UNKNOWN_ERROR="UNKNOWN_ERROR",U.NOT_IMPLEMENTED="NOT_IMPLEMENTED",U.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",U.NETWORK_ERROR="NETWORK_ERROR",U.SERVER_ERROR="SERVER_ERROR",U.TIMEOUT="TIMEOUT",U.BUFFER_OVERRUN="BUFFER_OVERRUN",U.NUMERIC_FAULT="NUMERIC_FAULT",U.MISSING_NEW="MISSING_NEW",U.INVALID_ARGUMENT="INVALID_ARGUMENT",U.MISSING_ARGUMENT="MISSING_ARGUMENT",U.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",U.CALL_EXCEPTION="CALL_EXCEPTION",U.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",U.NONCE_EXPIRED="NONCE_EXPIRED",U.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",U.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",U.TRANSACTION_REPLACED="TRANSACTION_REPLACED",U.ACTION_REJECTED="ACTION_REJECTED";let uH="0123456789abcdef";class uK{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==uG[r]&&this.throwArgumentError("invalid log level name","logLevel",e),uq>uG[r]||console.log.apply(console,t)}debug(...e){this._log(uK.levels.DEBUG,e)}info(...e){this._log(uK.levels.INFO,e)}warn(...e){this._log(uK.levels.WARNING,e)}makeError(e,t,r){if(uM)return this.makeError("censored error",t,{});t||(t=uK.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=uH[t[e]>>4]+uH[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case eT.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case eT.CALL_EXCEPTION:case eT.INSUFFICIENT_FUNDS:case eT.MISSING_NEW:case eT.NONCE_EXPIRED:case eT.REPLACEMENT_UNDERPRICED:case eT.TRANSACTION_REPLACED:case eT.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,uK.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),uz&&this.throwError("platform missing String.prototype.normalize",uK.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:uz})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,uK.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,uK.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,uK.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,uK.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",uK.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",uK.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",uK.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return uj||(uj=new uK("logger/5.7.0")),uj}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",uK.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),uL){if(!e)return;this.globalLogger().throwError("error censorship permanent",uK.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}uM=!!e,uL=!!t}static setLogLevel(e){let t=uG[e.toLowerCase()];if(null==t){uK.globalLogger().warn("invalid log level - "+e);return}uq=t}static from(e){return new uK(e)}}uK.errors=eT,uK.levels=eP;let uQ=new uK("bytes/5.7.0");function uV(e){return!!e.toHexString}function uJ(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return uJ(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function uY(e){return"number"==typeof e&&e==e&&e%1==0}function uX(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!uY(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!uY(r)||r<0||r>=256)return!1}return!0}function uW(e,t){if(t||(t={}),"number"==typeof e){uQ.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),uJ(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),uV(e)&&(e=e.toHexString()),u$(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":uQ.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return uJ(new Uint8Array(n))}return uX(e)?uJ(new Uint8Array(e)):uQ.throwArgumentError("invalid arrayify value","value",e)}function uZ(e){let t=e.map(e=>uW(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),uJ(n)}function u$(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let u0="0123456789abcdef";function u1(e,t){if(t||(t={}),"number"==typeof e){uQ.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=u0[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),uV(e))return e.toHexString();if(u$(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":uQ.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(uX(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=u0[(240&n)>>4]+u0[15&n]}return t}return uQ.throwArgumentError("invalid hexlify value","value",e)}function u2(e,t,r){return("string"!=typeof e?e=u1(e):(!u$(e)||e.length%2)&&uQ.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function u6(e,t){for("string"!=typeof e?e=u1(e):u$(e)||uQ.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&uQ.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var u3=tv().BN;let u5=new uK("bignumber/5.7.0"),u4={},u8=!1;class u9{constructor(e,t){e!==u4&&u5.throwError("cannot call constructor directly; use BigNumber.from",uK.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ce(ct(this).fromTwos(e))}toTwos(e){return ce(ct(this).toTwos(e))}abs(){return"-"===this._hex[0]?u9.from(this._hex.substring(1)):this}add(e){return ce(ct(this).add(ct(e)))}sub(e){return ce(ct(this).sub(ct(e)))}div(e){let t=u9.from(e);return t.isZero()&&cr("division-by-zero","div"),ce(ct(this).div(ct(e)))}mul(e){return ce(ct(this).mul(ct(e)))}mod(e){let t=ct(e);return t.isNeg()&&cr("division-by-zero","mod"),ce(ct(this).umod(t))}pow(e){let t=ct(e);return t.isNeg()&&cr("negative-power","pow"),ce(ct(this).pow(t))}and(e){let t=ct(e);return(this.isNegative()||t.isNeg())&&cr("unbound-bitwise-result","and"),ce(ct(this).and(t))}or(e){let t=ct(e);return(this.isNegative()||t.isNeg())&&cr("unbound-bitwise-result","or"),ce(ct(this).or(t))}xor(e){let t=ct(e);return(this.isNegative()||t.isNeg())&&cr("unbound-bitwise-result","xor"),ce(ct(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&cr("negative-width","mask"),ce(ct(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&cr("negative-width","shl"),ce(ct(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&cr("negative-width","shr"),ce(ct(this).shrn(e))}eq(e){return ct(this).eq(ct(e))}lt(e){return ct(this).lt(ct(e))}lte(e){return ct(this).lte(ct(e))}gt(e){return ct(this).gt(ct(e))}gte(e){return ct(this).gte(ct(e))}isNegative(){return"-"===this._hex[0]}isZero(){return ct(this).isZero()}toNumber(){try{return ct(this).toNumber()}catch(e){cr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return u5.throwError("this platform does not support BigInt",uK.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?u8||(u8=!0,u5.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?u5.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",uK.errors.UNEXPECTED_ARGUMENT,{}):u5.throwError("BigNumber.toString does not accept parameters",uK.errors.UNEXPECTED_ARGUMENT,{})),ct(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof u9)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new u9(u4,u7(e)):e.match(/^-?[0-9]+$/)?new u9(u4,u7(new u3(e))):u5.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&cr("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&cr("overflow","BigNumber.from",e),u9.from(String(e));if("bigint"==typeof e)return u9.from(e.toString());if(uX(e))return u9.from(u1(e));if(e){if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return u9.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(u$(t)||"-"===t[0]&&u$(t.substring(1))))return u9.from(t)}}return u5.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function u7(e){if("string"!=typeof e)return u7(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&u5.throwArgumentError("invalid hex","value",e),"0x00"===(e=u7(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function ce(e){return u9.from(u7(e))}function ct(e){let t=u9.from(e).toHexString();return"-"===t[0]?new u3("-"+t.substring(3),16):new u3(t.substring(2),16)}function cr(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),u5.throwError(e,uK.errors.NUMERIC_FAULT,n)}let cn=new uK("properties/5.7.0");function ci(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function co(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function cs(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}l((i=i.apply(t,r||[])).next())})}function ca(e){let t={};for(let r in e)t[r]=e[r];return t}let cl={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function cu(e){return function(e){if(function e(t){if(null==t||cl[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return cn.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>cu(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&ci(t,r,cu(n))}return t}return cn.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}(e)}class cc{constructor(e){for(let t in e)this[t]=cu(e[t])}}let ch="abi/5.7.0",cf=new uK(ch);class cd{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){cf.throwArgumentError(e,this.localName,t)}}class cp{constructor(e){ci(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){var e;let t;return e=this._data,t="0x",e.forEach(e=>{t+=u1(e).substring(2)}),t}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(uZ(e._data))}writeBytes(e){let t=uW(e),r=t.length%this.wordSize;return r&&(t=uZ([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=uW(u9.from(e));return t.length>this.wordSize&&cf.throwError("value out-of-bounds",uK.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=uZ([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class cg{constructor(e,t,r,n){ci(this,"_data",uW(e)),ci(this,"wordSize",t||32),ci(this,"_coerceFunc",r),ci(this,"allowLoose",n),this._offset=0}get data(){return u1(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):cg.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:cf.throwError("data out-of-bounds",uK.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new cg(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return u9.from(this.readBytes(this.wordSize))}}function cm(e){return"0x"+tV().keccak_256(uW(e))}let cy=new uK("rlp/5.7.0");function cv(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}let cA=new uK("address/5.7.0");function cb(e){u$(e,20)||cA.throwArgumentError("invalid address","address",e),e=e.toLowerCase();let t=e.substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=uW(cm(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let cE={};for(let e=0;e<10;e++)cE[String(e)]=String(e);for(let e=0;e<26;e++)cE[String.fromCharCode(65+e)]=String(10+e);let cw=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);function cN(e){let t=null;if("string"!=typeof e&&cA.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=cb(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&cA.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){var r;for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>cE[e]).join("");for(;t.length>=cw;){let e=t.substring(0,cw);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&cA.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new u3(r,36).toString(16);t.length<40;)t="0"+t;t=cb("0x"+t)}else cA.throwArgumentError("invalid address","address",e);return t}let cI=new uK("strings/5.7.0");function c_(e,t,r,n,i){if(e===eR.BAD_PREFIX||e===eR.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===eR.OVERRUN?r.length-t-1:0}(L=ex||(ex={})).current="",L.NFC="NFC",L.NFD="NFD",L.NFKC="NFKC",L.NFKD="NFKD",(M=eR||(eR={})).UNEXPECTED_CONTINUE="unexpected continuation byte",M.BAD_PREFIX="bad codepoint prefix",M.OVERRUN="string overrun",M.MISSING_CONTINUE="missing continuation byte",M.OUT_OF_RANGE="out of UTF-8 range",M.UTF16_SURROGATE="UTF-16 surrogate",M.OVERLONG="overlong representation";let ck=Object.freeze({error:function(e,t,r,n,i){return cI.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:c_,replace:function(e,t,r,n,i){return e===eR.OVERLONG?(n.push(i),0):(n.push(65533),c_(e,t,r,n,i))}});function cP(e,t=ex.current){t!=ex.current&&(cI.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return uW(r)}class cT extends cd{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=cN(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return cN(u6(e.readValue().toHexString(),20))}}class cx extends cd{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let cR=new uK(ch);function cS(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return n||cR.throwError("cannot encode object for signature with missing names",uK.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&cR.throwError("cannot encode object for signature with duplicate names",uK.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else cR.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&cR.throwArgumentError("types/value length mismatch","tuple",r);let i=new cp(e.wordSize),o=new cp(e.wordSize),s=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=i.writeUpdatableValue();s.push(e=>{n(e+t)})}else e.encode(i,r)}),s.forEach(e=>{e(i.length)}),e.appendWriter(i)+e.appendWriter(o)}function cC(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{i=t.decode(o)}catch(e){if(e.code===uK.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===uK.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)});let i=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n]||("length"===n&&(n="_length"),null!=r[n]))return;let o=r[t];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class cO extends cd{constructor(e,t,r){let n=e.type+"["+(t>=0?t:"")+"]",i=-1===t||e.dynamic;super("array",n,r,i),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),cR.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return cS(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&cR.throwError("insufficient data length",uK.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new cx(this.coder));return e.coerce(this.name,cC(e,r))}}class cB extends cd{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class cF extends cd{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=uW(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class cD extends cF{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,u1(super.decode(e)))}}class cU extends cd{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=uW(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,u1(e.readBytes(this.size)))}}class cL extends cd{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}let cM=u9.from(-1),cG=u9.from(0),cq=u9.from(1),cj=u9.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class cz extends cd{constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=u9.from(t),n=cj.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(cq).mul(cM)))&&this._throwError("value out-of-bounds",t)}else(r.lt(cG)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class cH extends cF{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,cP(t))}decode(e){return(function(e,t){null==t&&(t=ck.error),e=uW(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if((224&i)==192)o=1,s=127;else if((240&i)==224)o=2,s=2047;else if((248&i)==240)o=3,s=65535;else{(192&i)==128?n+=t(eR.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(eR.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(eR.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=e[n];if((192&i)!=128){n+=t(eR.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}if(null!==a){if(a>1114111){n+=t(eR.OUT_OF_RANGE,n-1-o,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(eR.UTF16_SURROGATE,n-1-o,e,r,a);continue}if(a<=s){n+=t(eR.OVERLONG,n-1-o,e,r,a);continue}r.push(a)}}return r})(super.decode(e),void 0).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}}class cK extends cd{constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)});let i="tuple("+n.join(",")+")";super("tuple",i,t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return cS(e,this.coders,t)}decode(e){return e.coerce(this.name,cC(e,this.coders))}}let cQ=new uK(ch),cV={},cJ={calldata:!0,memory:!0,storage:!0},cY={calldata:!0,memory:!0};function cX(e,t){if("bytes"===e||"string"===e){if(cJ[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&cY[t])return!0;return(cJ[t]||"payable"===t)&&cQ.throwArgumentError("invalid modifier","name",t),!1}function cW(e,t){for(let r in t)ci(e,r,t[r])}let cZ=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),c$=new RegExp(/^(.*)\[([0-9]*)\]$/);class c0{constructor(e,t){e!==cV&&cQ.throwError("use fromString",uK.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),cW(this,t);let r=this.type.match(c$);r?cW(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:c0.fromObject({type:r[1],components:this.components}),baseType:"array"}):cW(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=cZ.sighash),cZ[e]||cQ.throwArgumentError("invalid format type","format",e),e===cZ.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?t+=this.arrayChildren.format(e)+"["+(this.arrayLength<0?"":String(this.arrayLength))+"]":"tuple"===this.baseType?(e!==cZ.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===cZ.full?", ":",")+")"):t+=this.type,e!==cZ.sighash&&(!0===this.indexed&&(t+=" indexed"),e===cZ.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?c0.fromString(e,t):c0.fromObject(e)}static fromObject(e){return c0.isParamType(e)?e:new c0(cV,{name:e.name||null,type:ht(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(c0.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function n(t){cQ.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<e.length;r++){let o=e[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=ht(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),cX(s.type,s.name)&&(s.name=""),s.type=ht(s.type);let a=s;(s=s.parent)||n(r),delete a.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),cX(s.type,s.name)&&(s.name=""),s.type=ht(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&""!==s.type&&(s.type=ht(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):cX(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:n(r)}}return s.parent&&cQ.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):cX(s.type,s.name)&&(s.name=""),o.type=ht(o.type),o}(e,!!t),c0.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function c1(e,t){return(function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let o=e[i];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1==--n&&cQ.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>c0.fromString(e,t))}class c2{constructor(e,t){e!==cV&&cQ.throwError("use a static from method",uK.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),cW(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return c2.isFragment(e)?e:"string"==typeof e?c2.fromString(e):c2.fromObject(e)}static fromObject(e){if(c2.isFragment(e))return e;switch(e.type){case"function":return c9.fromObject(e);case"event":return c6.fromObject(e);case"constructor":return c8.fromObject(e);case"error":return he.fromObject(e);case"fallback":case"receive":return null}return cQ.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?c6.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?c9.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?c8.fromString(e.trim()):"error"===e.split(" ")[0]?he.fromString(e.substring(5).trim()):cQ.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class c6 extends c2{format(e){if(e||(e=cZ.sighash),cZ[e]||cQ.throwArgumentError("invalid format type","format",e),e===cZ.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==cZ.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===cZ.full?", ":",")+") ",e!==cZ.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?c6.fromString(e):c6.fromObject(e)}static fromObject(e){if(c6.isEventFragment(e))return e;"event"!==e.type&&cQ.throwArgumentError("invalid event object","value",e);let t={name:hn(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(c0.fromObject):[],type:"event"};return new c6(cV,t)}static fromString(e){let t=e.match(hi);t||cQ.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:cQ.warn("unknown modifier: "+e)}}),c6.fromObject({name:t[1].trim(),anonymous:r,inputs:c1(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function c3(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&cQ.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||cQ.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=u9.from(r[1]),r[0]):e}function c5(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function c4(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&cQ.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&cQ.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||cQ.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&cQ.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&cQ.throwArgumentError("unable to determine stateMutability","value",e),t}class c8 extends c2{format(e){if(e||(e=cZ.sighash),cZ[e]||cQ.throwArgumentError("invalid format type","format",e),e===cZ.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===cZ.sighash&&cQ.throwError("cannot format a constructor for sighash",uK.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===cZ.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?c8.fromString(e):c8.fromObject(e)}static fromObject(e){if(c8.isConstructorFragment(e))return e;"constructor"!==e.type&&cQ.throwArgumentError("invalid constructor object","value",e);let t=c4(e);t.constant&&cQ.throwArgumentError("constructor cannot be constant","value",e);let r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(c0.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?u9.from(e.gas):null};return new c8(cV,r)}static fromString(e){let t={type:"constructor"},r=(e=c3(e,t)).match(hi);return r&&"constructor"===r[1].trim()||cQ.throwArgumentError("invalid constructor string","value",e),t.inputs=c1(r[2].trim(),!1),c5(r[3].trim(),t),c8.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class c9 extends c8{format(e){if(e||(e=cZ.sighash),cZ[e]||cQ.throwArgumentError("invalid format type","format",e),e===cZ.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==cZ.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===cZ.full?", ":",")+") ",e!==cZ.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?c9.fromString(e):c9.fromObject(e)}static fromObject(e){if(c9.isFunctionFragment(e))return e;"function"!==e.type&&cQ.throwArgumentError("invalid function object","value",e);let t=c4(e),r={type:e.type,name:hn(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(c0.fromObject):[],outputs:e.outputs?e.outputs.map(c0.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?u9.from(e.gas):null};return new c9(cV,r)}static fromString(e){let t={type:"function"},r=(e=c3(e,t)).split(" returns ");r.length>2&&cQ.throwArgumentError("invalid function string","value",e);let n=r[0].match(hi);if(n||cQ.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&hn(t.name),t.inputs=c1(n[2],!1),c5(n[3].trim(),t),r.length>1){let n=r[1].match(hi);(""!=n[1].trim()||""!=n[3].trim())&&cQ.throwArgumentError("unexpected tokens","value",e),t.outputs=c1(n[2],!1)}else t.outputs=[];return c9.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function c7(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&cQ.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class he extends c2{format(e){if(e||(e=cZ.sighash),cZ[e]||cQ.throwArgumentError("invalid format type","format",e),e===cZ.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==cZ.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===cZ.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?he.fromString(e):he.fromObject(e)}static fromObject(e){if(he.isErrorFragment(e))return e;"error"!==e.type&&cQ.throwArgumentError("invalid error object","value",e);let t={type:e.type,name:hn(e.name),inputs:e.inputs?e.inputs.map(c0.fromObject):[]};return c7(new he(cV,t))}static fromString(e){let t={type:"error"},r=e.match(hi);return r||cQ.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&hn(t.name),t.inputs=c1(r[2],!1),c7(he.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function ht(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let hr=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function hn(e){return e&&e.match(hr)||cQ.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let hi=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),ho=new uK(ch),hs=new RegExp(/^bytes([0-9]*)$/),ha=new RegExp(/^(u?int)([0-9]*)$/),hl=new class{constructor(e){ci(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new cT(e.name);case"bool":return new cB(e.name);case"string":return new cH(e.name);case"bytes":return new cD(e.name);case"array":return new cO(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new cK((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new cL(e.name)}let t=e.type.match(ha);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&ho.throwArgumentError("invalid "+t[1]+" bit length","param",e),new cz(r/8,"int"===t[1],e.name)}if(t=e.type.match(hs)){let r=parseInt(t[1]);return(0===r||r>32)&&ho.throwArgumentError("invalid bytes length","param",e),new cU(r,e.name)}return ho.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new cg(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new cp(this._getWordSize())}getDefaultValue(e){let t=e.map(e=>this._getCoder(c0.from(e))),r=new cK(t,"_");return r.defaultValue()}encode(e,t){e.length!==t.length&&ho.throwError("types/values length mismatch",uK.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=e.map(e=>this._getCoder(c0.from(e))),n=new cK(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){let n=e.map(e=>this._getCoder(c0.from(e))),i=new cK(n,"_");return i.decode(this._getReader(uW(t),r))}},hu=new uK(ch);class hc extends cc{}class hh extends cc{}class hf extends cc{}class hd extends cc{static isIndexed(e){return!!(e&&e._isIndexed)}}let hp={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function hg(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class hm{constructor(e){ci(this,"fragments",("string"==typeof e?JSON.parse(e):e).map(e=>c2.from(e)).filter(e=>null!=e)),ci(this,"_abiCoder",co(new.target,"getAbiCoder")()),ci(this,"functions",{}),ci(this,"errors",{}),ci(this,"events",{}),ci(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){hu.warn("duplicate definition - constructor");return}ci(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();if(t[r]){hu.warn("duplicate definition - "+r);return}t[r]=e}),this.deploy||ci(this,"deploy",c8.from({payable:!1,type:"constructor"})),ci(this,"_isInterface",!0)}format(e){e||(e=cZ.full),e===cZ.sighash&&hu.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===cZ.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return hl}static getAddress(e){return cN(e)}static getSighash(e){return u2(cm(cP(e.format())),0,4)}static getEventTopic(e){return cm(cP(e.format()))}getFunction(e){if(u$(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];hu.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?hu.throwArgumentError("no matching function","name",t):r.length>1&&hu.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}let t=this.functions[c9.fromString(e).format()];return t||hu.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(u$(e)){let t=e.toLowerCase();for(let e in this.events)if(t===this.getEventTopic(e))return this.events[e];hu.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?hu.throwArgumentError("no matching event","name",t):r.length>1&&hu.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}let t=this.events[c6.fromString(e).format()];return t||hu.throwArgumentError("no matching event","signature",e),t}getError(e){if(u$(e)){let t=co(this.constructor,"getSighash");for(let r in this.errors){let n=this.errors[r];if(e===t(n))return this.errors[r]}hu.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?hu.throwArgumentError("no matching error","name",t):r.length>1&&hu.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}let t=this.errors[c9.fromString(e).format()];return t||hu.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return co(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),co(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=uW(t);return u1(r.slice(0,4))!==this.getSighash(e)&&hu.throwArgumentError(`data signature does not match error ${e.name}.`,"data",u1(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),u1(uZ([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=uW(t);return u1(r.slice(0,4))!==this.getSighash(e)&&hu.throwArgumentError(`data signature does not match function ${e.name}.`,"data",u1(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),u1(uZ([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=uW(t),n=null,i="",o=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{let e=u1(r.slice(0,4)),t=hp[e];if(t)o=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.signature,t.reason&&(n=o[0]),"Error"===s?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:"Panic"===s&&(i=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{let t=this.getError(e);o=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.format()}catch(e){}}}return hu.throwError("call revert exception"+i,uK.errors.CALL_EXCEPTION,{method:e.format(),data:u1(t),errorArgs:o,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),u1(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&hu.throwError("too many arguments for "+e.format(),uK.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));let n=(e,t)=>"string"===e.type?cm(cP(t)):"bytes"===e.type?cm(u1(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=u9.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),u6(u1(t),32));for(t.forEach((t,i)=>{let o=e.inputs[i];if(!o.indexed){null!=t&&hu.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,t);return}null==t?r.push(null):"array"===o.baseType||"tuple"===o.baseType?hu.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,t):Array.isArray(t)?r.push(t.map(e=>n(o,e))):r.push(n(o,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&hu.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,o)=>{let s=t[o];if(e.indexed){if("string"===e.type)r.push(cm(cP(s)));else if("bytes"===e.type)r.push(cm(s));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),i.push(s)}),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);u$(r[0],32)&&r[0].toLowerCase()===t||hu.throwError("fragment/topic mismatch",uK.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(c0.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(n.push(e),o.push(!1)):(i.push(e),o.push(!1))});let s=null!=r?this._abiCoder.decode(n,uZ(r)):null,a=this._abiCoder.decode(i,t,!0),l=[],u=0,c=0;e.inputs.forEach((e,t)=>{if(e.indexed){if(null==s)l[t]=new hd({_isIndexed:!0,hash:null});else if(o[t])l[t]=new hd({_isIndexed:!0,hash:s[c++]});else try{l[t]=s[c++]}catch(e){l[t]=e}}else try{l[t]=a[u++]}catch(e){l[t]=e}if(e.name&&null==l[e.name]){let r=l[t];r instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw hg(`property ${JSON.stringify(e.name)}`,r)}}):l[e.name]=r}});for(let e=0;e<l.length;e++){let t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:()=>{throw hg(`index ${e}`,t)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new hh({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:u9.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new hc({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=u1(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new hf({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}let hy=new uK("abstract-provider/5.7.0");class hv{constructor(){hy.checkAbstract(new.target,hv),ci(this,"_isProvider",!0)}getFeeData(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function*(){let{block:e,gasPrice:t}=yield cs({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=u9.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}},new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}var hA=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let hb=new uK("abstract-signer/5.7.0"),hE=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],hw=[uK.errors.INSUFFICIENT_FUNDS,uK.errors.NONCE_EXPIRED,uK.errors.REPLACEMENT_UNDERPRICED];class hN{constructor(){hb.checkAbstract(new.target,hN),ci(this,"_isSigner",!0)}getBalance(e){return hA(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return hA(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return hA(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield cs(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return hA(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield cs(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return hA(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return hA(this,void 0,void 0,function*(){this._checkProvider("getChainId");let e=yield this.provider.getNetwork();return e.chainId})}getGasPrice(){return hA(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return hA(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return hA(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===hE.indexOf(t)&&hb.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=ca(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&hb.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return hA(this,void 0,void 0,function*(){let t=yield cs(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>hA(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&hb.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?hb.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&hb.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(r&&hb.throwError("network does not support EIP-1559",uK.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):hb.throwError("failed to get consistent fee data",uK.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(hw.indexOf(e.code)>=0)throw e;return hb.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",uK.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&hb.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield cs(t)})}_checkProvider(e){this.provider||hb.throwError("missing provider",uK.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class hI extends hN{constructor(e,t){super(),ci(this,"address",e),ci(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{hb.throwError(e,uK.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new hI(this.address,e)}}let h_=new uK("transactions/5.7.0");function hk(e,t){return{address:cN(e),storageKeys:(t||[]).map((t,r)=>(32!==function(e){if("string"!=typeof e)e=u1(e);else if(!u$(e)||e.length%2)return null;return(e.length-2)/2}(t)&&h_.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}(G=eS||(eS={}))[G.legacy=0]="legacy",G[G.eip2930=1]="eip2930",G[G.eip1559=2]="eip1559";var hP=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let hT=new uK("contracts/5.6.2");function hx(e,t){return hP(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&hT.throwArgumentError("invalid address or ENS name","name",r);try{return cN(r)}catch(e){}e||hT.throwError("a provider or signer is needed to resolve ENS names",uK.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let n=yield e.resolveName(r);return null==n&&hT.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function hR(e,t,r){return hP(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=ca(r.pop())),hT.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=cs({override:hx(e.signer,n.from),signer:e.signer.getAddress()}).then(e=>hP(this,void 0,void 0,function*(){return cN(e.signer)!==e.override&&hT.throwError("Contract with a Signer cannot override from",uK.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):n.from=e.signer.getAddress():n.from&&(n.from=hx(e.provider,n.from));let i=yield cs({args:function e(t,r,n){return hP(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((n,i)=>e(t,Array.isArray(r)?r[i]:r[n.name],n))):"address"===n.type?yield hx(t,r):"tuple"===n.type?yield e(t,r,n.components):"array"===n.baseType?Array.isArray(r)?yield Promise.all(r.map(r=>e(t,r,n.arrayChildren))):Promise.reject(hT.makeError("invalid value for array",uK.errors.INVALID_ARGUMENT,{argument:"value",value:r})):r})}(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:cs(n)||{}}),o=e.interface.encodeFunctionData(t,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=u9.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=u9.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=u9.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=u9.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=u9.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=function(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&h_.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),hk(e[0],e[1])):hk(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return hk(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}(a.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3,r=uW(o);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);s.gasLimit=u9.from(t.gas).add(e)}if(a.value){let e=u9.from(a.value);e.isZero()||t.payable||hT.throwError("non-payable method cannot override value",uK.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=e}a.customData&&(s.customData=ca(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;let l=Object.keys(n).filter(e=>null!=n[e]);return l.length&&hT.throwError(`cannot override ${l.map(e=>JSON.stringify(e)).join(",")}`,uK.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s})}function hS(e,t,r){let n=e.signer||e.provider;return function(...i){return hP(this,void 0,void 0,function*(){let o;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){let e=ca(i.pop());null!=e.blockTag&&(o=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(o));let s=yield hR(e,t,i),a=yield n.call(s,o);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===uK.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=s),t}})}}function hC(e,t,r){return t.constant?hS(e,t,r):function(...r){return hP(this,void 0,void 0,function*(){e.signer||hT.throwError("sending a transaction requires a signer",uK.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let n=yield hR(e,t,r),i=yield e.signer.sendTransaction(n);return function(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=cu(r),i=null;try{i=e.interface.parseLog(r)}catch(e){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}(e,i),i})}}function hO(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class hB{constructor(e,t){ci(this,"tag",e),ci(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class hF extends hB{constructor(){super("error",null)}}class hD extends hB{constructor(e,t,r,n){let i={address:e},o=t.getEventTopic(r);n?(o!==n[0]&&hT.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(hO(i),i),ci(this,"address",e),ci(this,"interface",t),ci(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let t=function(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let o=e.slice();o.push(i);try{r(o,n[i])}catch(e){t.push({path:o,error:e})}}};return r([],e),t}(e.args);if(t.length)throw t[0].error;let r=(e.args||[]).slice();return r.push(e),r}}class hU extends hB{constructor(e,t){super("*",{address:e}),ci(this,"address",e),ci(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class hL{constructor(e,t,r){ci(this,"interface",co(new.target,"getInterface")(t)),null==r?(ci(this,"provider",null),ci(this,"signer",null)):hN.isSigner(r)?(ci(this,"provider",r.provider||null),ci(this,"signer",r)):hv.isProvider(r)?(ci(this,"provider",r),ci(this,"signer",null)):hT.throwArgumentError("invalid signer or provider","signerOrProvider",r),ci(this,"callStatic",{}),ci(this,"estimateGas",{}),ci(this,"functions",{}),ci(this,"populateTransaction",{}),ci(this,"filters",{});{let e={};Object.keys(this.interface.events).forEach(t=>{let r=this.interface.events[t];ci(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{let r=e[t];1===r.length?ci(this.filters,t,this.filters[r[0]]):hT.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if(ci(this,"_runningEvents",{}),ci(this,"_wrappedEmits",{}),null==e&&hT.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ci(this,"address",e),this.provider)ci(this,"resolvedAddress",hx(this.provider,e));else try{ci(this,"resolvedAddress",Promise.resolve(cN(e)))}catch(e){hT.throwError("provider is required to use ENS name as contract address",uK.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});let n={},i={};Object.keys(this.interface.functions).forEach(e=>{let t=this.interface.functions[e];if(i[e]){hT.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}i[e]=!0;{let r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}if(null==this[e]&&ci(this,e,hC(this,t,!0)),null==this.functions[e]&&ci(this.functions,e,hC(this,t,!1)),null==this.callStatic[e]&&ci(this.callStatic,e,hS(this,t,!0)),null==this.populateTransaction[e]){var r;ci(this.populateTransaction,e,(r=this,function(...e){return hR(r,t,e)}))}null==this.estimateGas[e]&&ci(this.estimateGas,e,function(e,t){let r=e.signer||e.provider;return function(...n){return hP(this,void 0,void 0,function*(){r||hT.throwError("estimate require a provider or signer",uK.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield hR(e,t,n);return yield r.estimateGas(i)})}}(this,t))}),Object.keys(n).forEach(e=>{let t=n[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&ci(this,e,this[r])}catch(e){}null==this.functions[e]&&ci(this.functions,e,this.functions[r]),null==this.callStatic[e]&&ci(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&ci(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&ci(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return function(e){let t=null;try{t=cN(e.from)}catch(t){cA.throwArgumentError("missing from address","transaction",e)}let r=function(e){let t=uW(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}(uW(u9.from(e.nonce).toHexString()));return cN(u2(cm(u1(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=cv(r.length);return n.unshift(247+n.length),n.concat(r)}u$(t)&&!(t.length%2)||uX(t)||cy.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call(uW(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=cv(r.length);return n.unshift(183+n.length),n.concat(r)}([t,r]))),12))}(e)}static getInterface(e){return hm.isInterface(e)?e:new hm(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&hT.throwError("contract not deployed",uK.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||hT.throwError("sending a transactions require a signer",uK.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=ca(e||{});return["from","to"].forEach(function(e){null!=t[e]&&hT.throwError("cannot override "+e,uK.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new hI(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ci(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return hd.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new hF);if("event"===e)return this._normalizeRunningEvent(new hB("event",null));if("*"===e)return this._normalizeRunningEvent(new hU(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new hD(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let t=e.topics[0];if("string"!=typeof t)throw Error("invalid topic");let r=this.interface.getEvent(t);return this._normalizeRunningEvent(new hD(this.address,this.interface,r,e.topics))}catch(e){}let t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new hB(hO(t),t))}return this._normalizeRunningEvent(new hU(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let n=cu(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||hT.throwError("events require a provider or a signer with a provider",uK.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{let t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){let n=this._getRunningEvent(e),i=ca(n.filter);return"string"==typeof t&&u$(t,32)?(null!=r&&hT.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let e in this._runningEvents){let t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}let t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class hM extends hL{}let hG=()=>"viem@1.9.5";class hq extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:hG()});let r=t.cause instanceof hq?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof hq&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://viem.sh${n}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t?e(t.cause,r):r?null:t}(this,e)}}class hj extends hq{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}function hz(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}class hH extends hq{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function hK(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new hH({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new hH({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let o="right"===t;n[o?i:r-i-1]=e[o?i:e.length-i-1]}return n}(e,{dir:t,size:r})}class hQ extends hq{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class hV extends hq{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function hJ(e){return hz(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function hY(e,{size:t}){if(hJ(e)>t)throw new hV({givenSize:hJ(e),maxSize:t})}let hX=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hW(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=hX[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(hY(n,{size:t.size}),hK(n,{dir:"right",size:t.size})):n}function hZ(e,t={}){let r;let{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<s){let t="bigint"==typeof e?"n":"";throw new hQ({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:i,value:`${e}${t}`})}let a=`0x${(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16)}`;return i?hK(a,{size:i}):a}let h$=new TextEncoder,h0=new TextEncoder;function h1(e,t={}){let r=e;t.size&&(hY(r,{size:t.size}),r=hK(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=new Uint8Array(n.length/2);for(let e=0;e<i.length;e++){let t=2*e,r=n.slice(t,t+2),o=Number.parseInt(r,16);if(Number.isNaN(o)||o<0)throw new hq(`Invalid byte sequence ("${r}" in "${n}").`);i[e]=o}return i}function h2(e,t={}){let r=h0.encode(e);return"number"==typeof t.size?(hY(r,{size:t.size}),hK(r,{dir:"right",size:t.size})):r}function h6(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function h3(e,...t){if(!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}var h5={number:h6,bool:function(e){if("boolean"!=typeof e)throw Error(`Expected boolean, not ${e}`)},bytes:h3,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");h6(e.outputLen),h6(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},output:function(e,t){h3(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}};let h4=BigInt(4294967296-1),h8=BigInt(32);function h9(e,t=!1){return t?{h:Number(e&h4),l:Number(e>>h8&h4)}:{h:0|Number(e>>h8&h4),l:0|Number(e&h4)}}var h7={fromBig:h9,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=h9(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<h8|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let fe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ft=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];if(!ft)throw Error("Non little-endian hardware is not supported");function fr(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}(e)),!(e instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));class fn{clone(){return this._cloneInto()}}let[fi,fo,fs]=[[],[],[]],fa=BigInt(0),fl=BigInt(1),fu=BigInt(2),fc=BigInt(7),fh=BigInt(256),ff=BigInt(113);for(let e=0,t=fl,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],fi.push(2*(5*n+r)),fo.push((e+1)*(e+2)/2%64);let i=fa;for(let e=0;e<7;e++)(t=(t<<fl^(t>>fc)*ff)%fh)&fu&&(i^=fl<<(fl<<BigInt(e))-fl);fs.push(i)}let[fd,fp]=h7.split(fs,!0),fg=(e,t,r)=>r>32?h7.rotlBH(e,t,r):h7.rotlSH(e,t,r),fm=(e,t,r)=>r>32?h7.rotlBL(e,t,r):h7.rotlSL(e,t,r);class fy extends fn{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,h5.number(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fe(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=fg(o,s,1)^r[n],l=fm(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=fo[r],o=fg(t,i,n),s=fm(t,i,n),a=fi[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=fd[n],e[1]^=fp[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){h5.exists(this);let{blockLen:t,state:r}=this;e=fr(e);let n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){h5.exists(this,!1),h5.bytes(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return h5.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(h5.output(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new fy(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let fv=(e,t,r)=>(function(e){let t=t=>e().update(fr(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t})(()=>new fy(t,e,r));fv(6,144,28),fv(6,136,32),fv(6,104,48),fv(6,72,64),fv(1,144,28);let fA=fv(1,136,32);fv(1,104,48),fv(1,72,64);let fb=(e,t,r)=>(function(e){let t=(t,r)=>e(r).update(fr(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t})((n={})=>new fy(t,e,void 0===n.dkLen?r:n.dkLen,!0));fb(31,168,16),fb(31,136,32);let fE=/^0x[a-fA-F0-9]{40}$/;function fw(e,t){if(!fE.test(e))throw new hj({address:e});return function(e,t){let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=function(e,t){let r=fA(hz(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){let r=hZ(e,t);return h1(r)}(e,t):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(hY(r,{size:t.size}),hK(r,{size:t.size})):r}(e,t):hz(e)?h1(e,t):h2(e,t)}(e):e);return"bytes"===(t||"hex")?r:function(e,t={}){return"number"==typeof e||"bigint"==typeof e?hZ(e,t):"string"==typeof e?function(e,t={}){let r=h$.encode(e);return hW(r,t)}(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(hY(r,{size:t.size}),hK(r,{size:t.size})):r}(e,t):hW(e,t)}(r)}(h2(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());return`0x${i.join("")}`}(e,t)}class fN{constructor(){this.wallet="ExternalWallet"}setProvider(e){this.externalProvider=e;let t=this.onChainChanged.bind(this),r=this.onAccountsChanged.bind(this);e?.removeAllListeners?.("chainChanged"),e?.removeAllListeners?.("accountsChanged"),e?.on("chainChanged",t),e?.on("accountsChanged",r)}onChainChanged(e){console.log(e),this.connectWallet(),window.dataverseCommunicator?.sendRequest({method:"chainChanged",params:{chain:{chainId:Number(e),chainName:"Unknown"},wallet:this.wallet},postMessageTo:"Browser"})}onAccountsChanged(e){console.log(e),this.connectWallet(),window.dataverseCommunicator?.sendRequest({method:"accountsChanged",params:{accounts:e.map(e=>fw(e)),wallet:this.wallet},postMessageTo:"Browser"})}async connectWallet(){let e=new uU(this.externalProvider,"any");await e.send("eth_requestAccounts",[]);let t=e.getSigner(),r=await t.getAddress(),{chainId:n}=await e.getNetwork(),i=String(n);return this.provider=e,this.signer=t,{address:r,namespace:"eip155",reference:i}}async sign({method:e,params:t}){let r=await this.signer[e](...t);return r}async ethereumRequest({method:e,params:t}){let r=await this.externalProvider.request({method:e,params:t});return r}async contractCall({contractAddress:e,abi:t,method:r,params:n}){let i=new hM(e,t,this.signer),o=await (n?i[r](...n):i[r]());return o&&"object"==typeof o&&o.wait?fJ(await o.wait()):o}}async function fI(){if(self!==top)return!0;let e=await function(e){let t=new Image;return t.src=`chrome-extension://${e}/icons/icon-16x16.png`,new Promise(e=>{t.addEventListener("load",()=>{e(!0)}),t.addEventListener("error",()=>{e(!1)})})}("kcigpjcafekokoclamfendmaapcljead")||await new Promise(e=>{let t=!1,r=setInterval(()=>{try{let n=window.dataverse.isDataverse;n&&(clearInterval(r),t=!0,e(!0))}catch(e){}},100);setTimeout(()=>{t||(clearInterval(r),e(!1))},1e3)});return e}let f_=!1,fk=!1,fP={debug:1,default:2,info:2,warning:3,error:4,off:5},fT=2,fx=null,fR=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(q=eC||(eC={})).DEBUG="DEBUG",q.INFO="INFO",q.WARNING="WARNING",q.ERROR="ERROR",q.OFF="OFF",(j=eO||(eO={})).UNKNOWN_ERROR="UNKNOWN_ERROR",j.NOT_IMPLEMENTED="NOT_IMPLEMENTED",j.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",j.NETWORK_ERROR="NETWORK_ERROR",j.SERVER_ERROR="SERVER_ERROR",j.TIMEOUT="TIMEOUT",j.BUFFER_OVERRUN="BUFFER_OVERRUN",j.NUMERIC_FAULT="NUMERIC_FAULT",j.MISSING_NEW="MISSING_NEW",j.INVALID_ARGUMENT="INVALID_ARGUMENT",j.MISSING_ARGUMENT="MISSING_ARGUMENT",j.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",j.CALL_EXCEPTION="CALL_EXCEPTION",j.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",j.NONCE_EXPIRED="NONCE_EXPIRED",j.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",j.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",j.TRANSACTION_REPLACED="TRANSACTION_REPLACED",j.ACTION_REJECTED="ACTION_REJECTED";let fS="0123456789abcdef";class fC{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==fP[r]&&this.throwArgumentError("invalid log level name","logLevel",e),fT>fP[r]||console.log.apply(console,t)}debug(...e){this._log(fC.levels.DEBUG,e)}info(...e){this._log(fC.levels.INFO,e)}warn(...e){this._log(fC.levels.WARNING,e)}makeError(e,t,r){if(fk)return this.makeError("censored error",t,{});t||(t=fC.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=fS[t[e]>>4]+fS[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case eO.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case eO.CALL_EXCEPTION:case eO.INSUFFICIENT_FUNDS:case eO.MISSING_NEW:case eO.NONCE_EXPIRED:case eO.REPLACEMENT_UNDERPRICED:case eO.TRANSACTION_REPLACED:case eO.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,fC.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),fR&&this.throwError("platform missing String.prototype.normalize",fC.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:fR})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,fC.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,fC.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,fC.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,fC.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",fC.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",fC.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",fC.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return fx||(fx=new fC("logger/5.7.0")),fx}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",fC.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),f_){if(!e)return;this.globalLogger().throwError("error censorship permanent",fC.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fk=!!e,f_=!!t}static setLogLevel(e){let t=fP[e.toLowerCase()];if(null==t){fC.globalLogger().warn("invalid log level - "+e);return}fT=t}static from(e){return new fC(e)}}fC.errors=eO,fC.levels=eC;let fO=new fC("bytes/5.7.0");function fB(e){return"number"==typeof e&&e==e&&e%1==0}function fF(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!fB(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!fB(r)||r<0||r>=256)return!1}return!0}function fD(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let fU="0123456789abcdef";var fL=tv().BN;let fM=new fC("bignumber/5.6.2"),fG={},fq=!1;class fj{constructor(e,t){e!==fG&&fM.throwError("cannot call constructor directly; use BigNumber.from",fC.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return fH(fK(this).fromTwos(e))}toTwos(e){return fH(fK(this).toTwos(e))}abs(){return"-"===this._hex[0]?fj.from(this._hex.substring(1)):this}add(e){return fH(fK(this).add(fK(e)))}sub(e){return fH(fK(this).sub(fK(e)))}div(e){let t=fj.from(e);return t.isZero()&&fQ("division-by-zero","div"),fH(fK(this).div(fK(e)))}mul(e){return fH(fK(this).mul(fK(e)))}mod(e){let t=fK(e);return t.isNeg()&&fQ("division-by-zero","mod"),fH(fK(this).umod(t))}pow(e){let t=fK(e);return t.isNeg()&&fQ("negative-power","pow"),fH(fK(this).pow(t))}and(e){let t=fK(e);return(this.isNegative()||t.isNeg())&&fQ("unbound-bitwise-result","and"),fH(fK(this).and(t))}or(e){let t=fK(e);return(this.isNegative()||t.isNeg())&&fQ("unbound-bitwise-result","or"),fH(fK(this).or(t))}xor(e){let t=fK(e);return(this.isNegative()||t.isNeg())&&fQ("unbound-bitwise-result","xor"),fH(fK(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&fQ("negative-width","mask"),fH(fK(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&fQ("negative-width","shl"),fH(fK(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&fQ("negative-width","shr"),fH(fK(this).shrn(e))}eq(e){return fK(this).eq(fK(e))}lt(e){return fK(this).lt(fK(e))}lte(e){return fK(this).lte(fK(e))}gt(e){return fK(this).gt(fK(e))}gte(e){return fK(this).gte(fK(e))}isNegative(){return"-"===this._hex[0]}isZero(){return fK(this).isZero()}toNumber(){try{return fK(this).toNumber()}catch(e){fQ("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return fM.throwError("this platform does not support BigInt",fC.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?fq||(fq=!0,fM.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?fM.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",fC.errors.UNEXPECTED_ARGUMENT,{}):fM.throwError("BigNumber.toString does not accept parameters",fC.errors.UNEXPECTED_ARGUMENT,{})),fK(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof fj)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new fj(fG,fz(e)):e.match(/^-?[0-9]+$/)?new fj(fG,fz(new fL(e))):fM.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&fQ("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&fQ("overflow","BigNumber.from",e),fj.from(String(e));if("bigint"==typeof e)return fj.from(e.toString());if(fF(e))return fj.from(function(e,t){if(t||(t={}),"number"==typeof e){fO.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=fU[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),e.toHexString)return e.toHexString();if(fD(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":fO.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(fF(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=fU[(240&n)>>4]+fU[15&n]}return t}return fO.throwArgumentError("invalid hexlify value","value",e)}(e));if(e){if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return fj.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(fD(t)||"-"===t[0]&&fD(t.substring(1))))return fj.from(t)}}return fM.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function fz(e){if("string"!=typeof e)return fz(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&fM.throwArgumentError("invalid hex","value",e),"0x00"===(e=fz(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function fH(e){return fj.from(fz(e))}function fK(e){let t=fj.from(e).toHexString();return"-"===t[0]?new fL("-"+t.substring(3),16):new fL(t.substring(2),16)}function fQ(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),fM.throwError(e,fC.errors.NUMERIC_FAULT,n)}function fV(e){try{e&&(e=fj.from(e).toHexString().replace(/^0x0*/,"0x"))}catch(e){}return e}function fJ(e){let t;if(e&&(Array.isArray(e)||"object"==typeof e)){let r={};Object.entries(e).forEach(([e,t])=>{r[e]=fJ(t)}),t=r}else t=e;return t}let fY="0x7582177F9E536aB0b6c721e11f383C326F2Ad1D5",fX=JSON,fW=e=>e.toUpperCase(),fZ=e=>{let t={};return e.forEach((e,r)=>{t[r]=e}),t},f$=(e,t,r)=>e.document?e:{document:e,variables:t,requestHeaders:r,signal:void 0},f0=(e,t,r)=>e.query?e:{query:e,variables:t,requestHeaders:r,signal:void 0},f1=(e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0},f2=/\r\n|[\n\r]/g;function f6(e,t){let r=0,n=1;for(let i of e.body.matchAll(f2)){if("number"==typeof i.index||function(e,t){if(!e)throw Error(null!=t?t:"Unexpected invariant triggered.")}(!1),i.index>=t)break;r=i.index+i[0].length,n+=1}return{line:n,column:t+1-r}}function f3(e,t){let r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?r:0,l=t.column+a,u=`${e.name}:${s}:${l}
`,c=n.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){let e=Math.floor(l/80),t=l%80,r=[];for(let e=0;e<h.length;e+=80)r.push(h.slice(e,e+80));return u+f5([[`${s} |`,r[0]],...r.slice(1,e+1).map(e=>["|",e]),["|","^".padStart(t)],["|",r[e+1]]])}return u+f5([[`${s-1} |`,c[i-1]],[`${s} |`,h],["|","^".padStart(l)],[`${s+1} |`,c[i+1]]])}function f5(e){let t=e.filter(([e,t])=>void 0!==t),r=Math.max(...t.map(([e])=>e.length));return t.map(([e,t])=>e.padStart(r)+(t?" "+t:"")).join("\n")}class f4 extends Error{constructor(e,...t){var r,n,i,o;let{nodes:s,source:a,positions:l,path:u,originalError:c,extensions:h}=function(e){let t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=u?u:void 0,this.originalError=null!=c?c:void 0,this.nodes=f8(Array.isArray(s)?s:s?[s]:void 0);let f=f8(null===(r=this.nodes)||void 0===r?void 0:r.map(e=>e.loc).filter(e=>null!=e));this.source=null!=a?a:null==f?void 0:null===(n=f[0])||void 0===n?void 0:n.source,this.positions=null!=l?l:null==f?void 0:f.map(e=>e.start),this.locations=l&&a?l.map(e=>f6(a,e)):null==f?void 0:f.map(e=>f6(e.source,e.start));let d="object"==typeof(o=null==c?void 0:c.extensions)&&null!==o?null==c?void 0:c.extensions:void 0;this.extensions=null!==(i=null!=h?h:d)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,f4):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes){for(let r of this.nodes)if(r.loc){var t;e+="\n\n"+f3((t=r.loc).source,f6(t.source,t.start))}}else if(this.source&&this.locations)for(let t of this.locations)e+="\n\n"+f3(this.source,t);return e}toJSON(){let e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function f8(e){return void 0===e||0===e.length?void 0:e}function f9(e,t,r){return new f4(`Syntax Error: ${r}`,{source:e,positions:[t]})}class f7{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class de{constructor(e,t,r,n,i,o){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let dt={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},dr=new Set(Object.keys(dt));function dn(e){let t=null==e?void 0:e.kind;return"string"==typeof t&&dr.has(t)}function di(e){return 9===e||32===e}function ds(e){return e>=48&&e<=57}function da(e){return e>=97&&e<=122||e>=65&&e<=90}function dl(e){return da(e)||95===e}(z=eB||(eB={})).QUERY="query",z.MUTATION="mutation",z.SUBSCRIPTION="subscription",(H=eF||(eF={})).QUERY="QUERY",H.MUTATION="MUTATION",H.SUBSCRIPTION="SUBSCRIPTION",H.FIELD="FIELD",H.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",H.FRAGMENT_SPREAD="FRAGMENT_SPREAD",H.INLINE_FRAGMENT="INLINE_FRAGMENT",H.VARIABLE_DEFINITION="VARIABLE_DEFINITION",H.SCHEMA="SCHEMA",H.SCALAR="SCALAR",H.OBJECT="OBJECT",H.FIELD_DEFINITION="FIELD_DEFINITION",H.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",H.INTERFACE="INTERFACE",H.UNION="UNION",H.ENUM="ENUM",H.ENUM_VALUE="ENUM_VALUE",H.INPUT_OBJECT="INPUT_OBJECT",H.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(K=eD||(eD={})).NAME="Name",K.DOCUMENT="Document",K.OPERATION_DEFINITION="OperationDefinition",K.VARIABLE_DEFINITION="VariableDefinition",K.SELECTION_SET="SelectionSet",K.FIELD="Field",K.ARGUMENT="Argument",K.FRAGMENT_SPREAD="FragmentSpread",K.INLINE_FRAGMENT="InlineFragment",K.FRAGMENT_DEFINITION="FragmentDefinition",K.VARIABLE="Variable",K.INT="IntValue",K.FLOAT="FloatValue",K.STRING="StringValue",K.BOOLEAN="BooleanValue",K.NULL="NullValue",K.ENUM="EnumValue",K.LIST="ListValue",K.OBJECT="ObjectValue",K.OBJECT_FIELD="ObjectField",K.DIRECTIVE="Directive",K.NAMED_TYPE="NamedType",K.LIST_TYPE="ListType",K.NON_NULL_TYPE="NonNullType",K.SCHEMA_DEFINITION="SchemaDefinition",K.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",K.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",K.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",K.FIELD_DEFINITION="FieldDefinition",K.INPUT_VALUE_DEFINITION="InputValueDefinition",K.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",K.UNION_TYPE_DEFINITION="UnionTypeDefinition",K.ENUM_TYPE_DEFINITION="EnumTypeDefinition",K.ENUM_VALUE_DEFINITION="EnumValueDefinition",K.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",K.DIRECTIVE_DEFINITION="DirectiveDefinition",K.SCHEMA_EXTENSION="SchemaExtension",K.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",K.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",K.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",K.UNION_TYPE_EXTENSION="UnionTypeExtension",K.ENUM_TYPE_EXTENSION="EnumTypeExtension",K.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",(Q=eU||(eU={})).SOF="<SOF>",Q.EOF="<EOF>",Q.BANG="!",Q.DOLLAR="$",Q.AMP="&",Q.PAREN_L="(",Q.PAREN_R=")",Q.SPREAD="...",Q.COLON=":",Q.EQUALS="=",Q.AT="@",Q.BRACKET_L="[",Q.BRACKET_R="]",Q.BRACE_L="{",Q.PIPE="|",Q.BRACE_R="}",Q.NAME="Name",Q.INT="Int",Q.FLOAT="Float",Q.STRING="String",Q.BLOCK_STRING="BlockString",Q.COMMENT="Comment";class du{constructor(e){let t=new de(eU.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;let e=this.token=this.lookahead();return e}lookahead(){let e=this.token;if(e.kind!==eU.EOF)do if(e.next)e=e.next;else{let t=function(e,t){let r=e.source.body,n=r.length,i=t;for(;i<n;){let t=r.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return function(e,t){let r=e.source.body,n=r.length,i=t+1;for(;i<n;){let e=r.charCodeAt(i);if(10===e||13===e)break;if(dc(e))++i;else if(dh(r,i))i+=2;else break}return dg(e,eU.COMMENT,t,i,r.slice(t+1,i))}(e,i);case 33:return dg(e,eU.BANG,i,i+1);case 36:return dg(e,eU.DOLLAR,i,i+1);case 38:return dg(e,eU.AMP,i,i+1);case 40:return dg(e,eU.PAREN_L,i,i+1);case 41:return dg(e,eU.PAREN_R,i,i+1);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return dg(e,eU.SPREAD,i,i+3);break;case 58:return dg(e,eU.COLON,i,i+1);case 61:return dg(e,eU.EQUALS,i,i+1);case 64:return dg(e,eU.AT,i,i+1);case 91:return dg(e,eU.BRACKET_L,i,i+1);case 93:return dg(e,eU.BRACKET_R,i,i+1);case 123:return dg(e,eU.BRACE_L,i,i+1);case 124:return dg(e,eU.PIPE,i,i+1);case 125:return dg(e,eU.BRACE_R,i,i+1);case 34:if(34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2))return function(e,t){let r=e.source.body,n=r.length,i=e.lineStart,o=t+3,s=o,a="",l=[];for(;o<n;){let n=r.charCodeAt(o);if(34===n&&34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)){a+=r.slice(s,o),l.push(a);let n=dg(e,eU.BLOCK_STRING,t,o+3,(function(e){var t,r;let n=Number.MAX_SAFE_INTEGER,i=null,o=-1;for(let t=0;t<e.length;++t){let s=e[t],a=function(e){let t=0;for(;t<e.length&&di(e.charCodeAt(t));)++t;return t}(s);a!==s.length&&(i=null!==(r=i)&&void 0!==r?r:t,o=t,0!==t&&a<n&&(n=a))}return e.map((e,t)=>0===t?e:e.slice(n)).slice(null!==(t=i)&&void 0!==t?t:0,o+1)})(l).join("\n"));return e.line+=l.length-1,e.lineStart=i,n}if(92===n&&34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)&&34===r.charCodeAt(o+3)){a+=r.slice(s,o),s=o+1,o+=4;continue}if(10===n||13===n){a+=r.slice(s,o),l.push(a),13===n&&10===r.charCodeAt(o+1)?o+=2:++o,a="",s=o,i=o;continue}if(dc(n))++o;else if(dh(r,o))o+=2;else throw f9(e.source,o,`Invalid character within String: ${dp(e,o)}.`)}throw f9(e.source,o,"Unterminated string.")}(e,i);return function(e,t){let r=e.source.body,n=r.length,i=t+1,o=i,s="";for(;i<n;){let n=r.charCodeAt(i);if(34===n)return s+=r.slice(o,i),dg(e,eU.STRING,t,i+1,s);if(92===n){s+=r.slice(o,i);let t=117===r.charCodeAt(i+1)?123===r.charCodeAt(i+2)?function(e,t){let r=e.source.body,n=0,i=3;for(;i<12;){let e=r.charCodeAt(t+i++);if(125===e){if(i<5||!dc(n))break;return{value:String.fromCodePoint(n),size:i}}if((n=n<<4|dv(e))<0)break}throw f9(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+i)}".`)}(e,i):function(e,t){let r=e.source.body,n=dy(r,t+2);if(dc(n))return{value:String.fromCodePoint(n),size:6};if(df(n)&&92===r.charCodeAt(t+6)&&117===r.charCodeAt(t+7)){let e=dy(r,t+8);if(dd(e))return{value:String.fromCodePoint(n,e),size:12}}throw f9(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}(e,i):function(e,t){let r=e.source.body,n=r.charCodeAt(t+1);switch(n){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw f9(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}(e,i);s+=t.value,i+=t.size,o=i;continue}if(10===n||13===n)break;if(dc(n))++i;else if(dh(r,i))i+=2;else throw f9(e.source,i,`Invalid character within String: ${dp(e,i)}.`)}throw f9(e.source,i,"Unterminated string.")}(e,i)}if(ds(t)||45===t)return function(e,t,r){let n=e.source.body,i=t,o=r,s=!1;if(45===o&&(o=n.charCodeAt(++i)),48===o){if(ds(o=n.charCodeAt(++i)))throw f9(e.source,i,`Invalid number, unexpected digit after 0: ${dp(e,i)}.`)}else i=dm(e,i,o),o=n.charCodeAt(i);if(46===o&&(s=!0,o=n.charCodeAt(++i),i=dm(e,i,o),o=n.charCodeAt(i)),(69===o||101===o)&&(s=!0,(43===(o=n.charCodeAt(++i))||45===o)&&(o=n.charCodeAt(++i)),i=dm(e,i,o),o=n.charCodeAt(i)),46===o||dl(o))throw f9(e.source,i,`Invalid number, expected digit but got: ${dp(e,i)}.`);return dg(e,s?eU.FLOAT:eU.INT,t,i,n.slice(t,i))}(e,i,t);if(dl(t))return function(e,t){let r=e.source.body,n=r.length,i=t+1;for(;i<n;){let e=r.charCodeAt(i);if(da(e)||ds(e)||95===e)++i;else break}return dg(e,eU.NAME,t,i,r.slice(t,i))}(e,i);throw f9(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":dc(t)||dh(r,i)?`Unexpected character: ${dp(e,i)}.`:`Invalid character: ${dp(e,i)}.`)}return dg(e,eU.EOF,n,n)}(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===eU.COMMENT);return e}}function dc(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function dh(e,t){return df(e.charCodeAt(t))&&dd(e.charCodeAt(t+1))}function df(e){return e>=55296&&e<=56319}function dd(e){return e>=56320&&e<=57343}function dp(e,t){let r=e.source.body.codePointAt(t);if(void 0===r)return eU.EOF;if(r>=32&&r<=126){let e=String.fromCodePoint(r);return'"'===e?"'\"'":`"${e}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function dg(e,t,r,n,i){let o=e.line,s=1+r-e.lineStart;return new de(t,r,n,o,s,i)}function dm(e,t,r){if(!ds(r))throw f9(e.source,t,`Invalid number, expected digit but got: ${dp(e,t)}.`);let n=e.source.body,i=t+1;for(;ds(n.charCodeAt(i));)++i;return i}function dy(e,t){return dv(e.charCodeAt(t))<<12|dv(e.charCodeAt(t+1))<<8|dv(e.charCodeAt(t+2))<<4|dv(e.charCodeAt(t+3))}function dv(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function dA(e,t){if(!e)throw Error(t)}function db(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";let r=[...t,e];if("function"==typeof e.toJSON){let t=e.toJSON();if(t!==e)return"string"==typeof t?t:db(t,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";let r=Math.min(10,e.length),n=e.length-r,i=[];for(let n=0;n<r;++n)i.push(db(e[n],t));return 1===n?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}(e,r);return function(e,t){let r=Object.entries(e);if(0===r.length)return"{}";if(t.length>2)return"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";let n=r.map(([e,r])=>e+": "+db(r,t));return"{ "+n.join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}class dE{constructor(e,t="GraphQL request",r={line:1,column:1}){"string"==typeof e||dA(!1,`Body must be a string. Received: ${db(e,[])}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||dA(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||dA(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function dw(e,t){let r=new dN(e,t);return r.parseDocument()}class dN{constructor(e,t={}){let r=e instanceof dE?e:new dE(e);this._lexer=new du(r),this._options=t,this._tokenCounter=0}parseName(){let e=this.expectToken(eU.NAME);return this.node(e,{kind:eD.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:eD.DOCUMENT,definitions:this.many(eU.SOF,this.parseDefinition,eU.EOF)})}parseDefinition(){if(this.peek(eU.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===eU.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw f9(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){let e;let t=this._lexer.token;if(this.peek(eU.BRACE_L))return this.node(t,{kind:eD.OPERATION_DEFINITION,operation:eB.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let r=this.parseOperationType();return this.peek(eU.NAME)&&(e=this.parseName()),this.node(t,{kind:eD.OPERATION_DEFINITION,operation:r,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(eU.NAME);switch(e.value){case"query":return eB.QUERY;case"mutation":return eB.MUTATION;case"subscription":return eB.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(eU.PAREN_L,this.parseVariableDefinition,eU.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:eD.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(eU.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(eU.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(eU.DOLLAR),this.node(e,{kind:eD.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:eD.SELECTION_SET,selections:this.many(eU.BRACE_L,this.parseSelection,eU.BRACE_R)})}parseSelection(){return this.peek(eU.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e,t;let r=this._lexer.token,n=this.parseName();return this.expectOptionalToken(eU.COLON)?(e=n,t=this.parseName()):t=n,this.node(r,{kind:eD.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(eU.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(eU.PAREN_L,t,eU.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,r=this.parseName();return this.expectToken(eU.COLON),this.node(t,{kind:eD.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(eU.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(eU.NAME)?this.node(e,{kind:eD.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:eD.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return(this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables)?this.node(e,{kind:eD.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:eD.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case eU.BRACKET_L:return this.parseList(e);case eU.BRACE_L:return this.parseObject(e);case eU.INT:return this.advanceLexer(),this.node(t,{kind:eD.INT,value:t.value});case eU.FLOAT:return this.advanceLexer(),this.node(t,{kind:eD.FLOAT,value:t.value});case eU.STRING:case eU.BLOCK_STRING:return this.parseStringLiteral();case eU.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:eD.BOOLEAN,value:!0});case"false":return this.node(t,{kind:eD.BOOLEAN,value:!1});case"null":return this.node(t,{kind:eD.NULL});default:return this.node(t,{kind:eD.ENUM,value:t.value})}case eU.DOLLAR:if(e){if(this.expectToken(eU.DOLLAR),this._lexer.token.kind===eU.NAME){let e=this._lexer.token.value;throw f9(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:eD.STRING,value:e.value,block:e.kind===eU.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:eD.LIST,values:this.any(eU.BRACKET_L,()=>this.parseValueLiteral(e),eU.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:eD.OBJECT,fields:this.any(eU.BRACE_L,()=>this.parseObjectField(e),eU.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,r=this.parseName();return this.expectToken(eU.COLON),this.node(t,{kind:eD.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(eU.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(eU.AT),this.node(t,{kind:eD.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e;let t=this._lexer.token;if(this.expectOptionalToken(eU.BRACKET_L)){let r=this.parseTypeReference();this.expectToken(eU.BRACKET_R),e=this.node(t,{kind:eD.LIST_TYPE,type:r})}else e=this.parseNamedType();return this.expectOptionalToken(eU.BANG)?this.node(t,{kind:eD.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:eD.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(eU.STRING)||this.peek(eU.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let r=this.parseConstDirectives(),n=this.many(eU.BRACE_L,this.parseOperationTypeDefinition,eU.BRACE_R);return this.node(e,{kind:eD.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(eU.COLON);let r=this.parseNamedType();return this.node(e,{kind:eD.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let r=this.parseName(),n=this.parseConstDirectives();return this.node(e,{kind:eD.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:eD.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(eU.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(eU.BRACE_L,this.parseFieldDefinition,eU.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(eU.COLON);let i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:eD.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(eU.PAREN_L,this.parseInputValueDef,eU.PAREN_R)}parseInputValueDef(){let e;let t=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(eU.COLON);let i=this.parseTypeReference();this.expectOptionalToken(eU.EQUALS)&&(e=this.parseConstValueLiteral());let o=this.parseConstDirectives();return this.node(t,{kind:eD.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:e,directives:o})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:eD.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:eD.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(eU.EQUALS)?this.delimitedMany(eU.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:eD.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i})}parseEnumValuesDefinition(){return this.optionalMany(eU.BRACE_L,this.parseEnumValueDefinition,eU.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(e,{kind:eD.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw f9(this._lexer.source,this._lexer.token.start,`${dI(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:eD.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(eU.BRACE_L,this.parseInputValueDef,eU.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===eU.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),r=this.optionalMany(eU.BRACE_L,this.parseOperationTypeDefinition,eU.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:eD.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:eD.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:eD.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:eD.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:eD.UNION_TYPE_EXTENSION,name:t,directives:r,types:n})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:eD.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:eD.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(eU.AT);let r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let o=this.parseDirectiveLocations();return this.node(e,{kind:eD.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(eU.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(eF,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new f7(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw f9(this._lexer.source,t.start,`Expected ${d_(e)}, found ${dI(t)}.`)}expectOptionalToken(e){let t=this._lexer.token;return t.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){let t=this._lexer.token;if(t.kind===eU.NAME&&t.value===e)this.advanceLexer();else throw f9(this._lexer.source,t.start,`Expected "${e}", found ${dI(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===eU.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){let t=null!=e?e:this._lexer.token;return f9(this._lexer.source,t.start,`Unexpected ${dI(t)}.`)}any(e,t,r){this.expectToken(e);let n=[];for(;!this.expectOptionalToken(r);)n.push(t.call(this));return n}optionalMany(e,t,r){if(this.expectOptionalToken(e)){let e=[];do e.push(t.call(this));while(!this.expectOptionalToken(r));return e}return[]}many(e,t,r){this.expectToken(e);let n=[];do n.push(t.call(this));while(!this.expectOptionalToken(r));return n}delimitedMany(e,t){this.expectOptionalToken(e);let r=[];do r.push(t.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==eU.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw f9(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function dI(e){let t=e.value;return d_(e.kind)+(null!=t?` "${t}"`:"")}function d_(e){return e===eU.BANG||e===eU.DOLLAR||e===eU.AMP||e===eU.PAREN_L||e===eU.PAREN_R||e===eU.SPREAD||e===eU.COLON||e===eU.EQUALS||e===eU.AT||e===eU.BRACKET_L||e===eU.BRACKET_R||e===eU.BRACE_L||e===eU.PIPE||e===eU.BRACE_R?`"${e}"`:e}let dk=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function dP(e){return dT[e.charCodeAt(0)]}let dT=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],dx=Object.freeze({}),dR={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>dS(e.definitions,"\n\n")},OperationDefinition:{leave(e){let t=dO("(",dS(e.variableDefinitions,", "),")"),r=dS([e.operation,dS([e.name,t]),dS(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+dO(" = ",r)+dO(" ",dS(n," "))},SelectionSet:{leave:({selections:e})=>dC(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){let o=dO("",e,": ")+t,s=o+dO("(",dS(r,", "),")");return s.length>80&&(s=o+dO("(\n",dB(dS(r,"\n")),"\n)")),dS([s,dS(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+dO(" ",dS(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>dS(["...",dO("on ",e),dS(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${dO("(",dS(r,", "),")")} on ${t} ${dO("",dS(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){let r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=1===n.length,o=n.length>1&&n.slice(1).every(e=>0===e.length||di(e.charCodeAt(0))),s=r.endsWith('\\"""'),a=e.endsWith('"')&&!s,l=e.endsWith("\\"),u=a||l,c=!(null!=t&&t.minimize)&&(!i||e.length>70||u||o||s),h="",f=i&&di(e.charCodeAt(0));return(c&&!f||o)&&(h+="\n"),h+=r,(c||u)&&(h+="\n"),'"""'+h+'"""'}(e):`"${e.replace(dk,dP)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+dS(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+dS(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+dO("(",dS(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>dO("",e,"\n")+dS(["schema",dS(t," "),dC(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>dO("",e,"\n")+dS(["scalar",t,dS(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>dO("",e,"\n")+dS(["type",t,dO("implements ",dS(r," & ")),dS(n," "),dC(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>dO("",e,"\n")+t+(dF(r)?dO("(\n",dB(dS(r,"\n")),"\n)"):dO("(",dS(r,", "),")"))+": "+n+dO(" ",dS(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>dO("",e,"\n")+dS([t+": "+r,dO("= ",n),dS(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>dO("",e,"\n")+dS(["interface",t,dO("implements ",dS(r," & ")),dS(n," "),dC(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>dO("",e,"\n")+dS(["union",t,dS(r," "),dO("= ",dS(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>dO("",e,"\n")+dS(["enum",t,dS(r," "),dC(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>dO("",e,"\n")+dS([t,dS(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>dO("",e,"\n")+dS(["input",t,dS(r," "),dC(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>dO("",e,"\n")+"directive @"+t+(dF(r)?dO("(\n",dB(dS(r,"\n")),"\n)"):dO("(",dS(r,", "),")"))+(n?" repeatable":"")+" on "+dS(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>dS(["extend schema",dS(e," "),dC(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>dS(["extend scalar",e,dS(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>dS(["extend type",e,dO("implements ",dS(t," & ")),dS(r," "),dC(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>dS(["extend interface",e,dO("implements ",dS(t," & ")),dS(r," "),dC(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>dS(["extend union",e,dS(t," "),dO("= ",dS(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>dS(["extend enum",e,dS(t," "),dC(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>dS(["extend input",e,dS(t," "),dC(r)]," ")}};function dS(e,t=""){var r;return null!==(r=null==e?void 0:e.filter(e=>e).join(t))&&void 0!==r?r:""}function dC(e){return dO("{\n",dB(dS(e,"\n")),"\n}")}function dO(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function dB(e){return dO("  ",e.replace(/\n/g,"\n  "))}function dF(e){var t;return null!==(t=null==e?void 0:e.some(e=>e.includes("\n")))&&void 0!==t&&t}let dD=e=>{let t;let r=e.definitions.filter(e=>"OperationDefinition"===e.kind);return 1===r.length&&(t=r[0]?.name?.value),t},dU=e=>{if("string"==typeof e){let t;try{let r=dw(e);t=dD(r)}catch(e){}return{query:e,operationName:t}}let t=dD(e);return{query:function(e,t,r=dt){let n,i,o;let s=new Map;for(let e of Object.values(eD))s.set(e,function(e,t){let r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}(t,e));let a=Array.isArray(e),l=[e],u=-1,c=[],h=e,f=[],d=[];do{var p,g,m;let e;u++;let y=u===l.length,v=y&&0!==c.length;if(y){if(i=0===d.length?void 0:f[f.length-1],h=o,o=d.pop(),v){if(a){h=h.slice();let e=0;for(let[t,r]of c){let n=t-e;null===r?(h.splice(n,1),e++):h[n]=r}}else for(let[e,t]of(h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h)),c))h[e]=t}u=n.index,l=n.keys,c=n.edits,a=n.inArray,n=n.prev}else if(o){if(null==(h=o[i=a?u:l[u]]))continue;f.push(i)}if(!Array.isArray(h)){dn(h)||dA(!1,`Invalid AST Node: ${db(h,[])}.`);let r=y?null===(p=s.get(h.kind))||void 0===p?void 0:p.leave:null===(g=s.get(h.kind))||void 0===g?void 0:g.enter;if((e=null==r?void 0:r.call(t,h,i,o,f,d))===dx)break;if(!1===e){if(!y){f.pop();continue}}else if(void 0!==e&&(c.push([i,e]),!y)){if(dn(e))h=e;else{f.pop();continue}}}void 0===e&&v&&c.push([i,h]),y?f.pop():(n={inArray:a,index:u,keys:l,edits:c,prev:n},l=(a=Array.isArray(h))?h:null!==(m=r[h.kind])&&void 0!==m?m:[],u=-1,c=[],o&&d.push(o),o=h)}while(void 0!==n);return 0!==c.length?c[c.length-1][1]:e}(e,dR),operationName:t}};class dL extends Error{constructor(e,t){let r=`${dL.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`;super(r),Object.setPrototypeOf(this,dL.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,dL)}static extractMessage(e){return e.errors?.[0]?.message??`GraphQL Error (Code: ${e.status})`}}var dM=r(9366),dG=r.t(dM,2);class dq{get type(){return this._type}get id(){return this._id}get payload(){return this._payload}constructor(e,t,r){this._type=e,this._payload=t,this._id=r}get text(){let e={type:this.type};return null!=this.id&&void 0!=this.id&&(e.id=this.id),null!=this.payload&&void 0!=this.payload&&(e.payload=this.payload),JSON.stringify(e)}static parse(e,t){let{type:r,payload:n,id:i}=JSON.parse(e);return new dq(r,t(n),i)}}let dj=e=>{let t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||dG&&dM.Headers&&e instanceof dM.Headers?t=fZ(e):Array.isArray(e)?e.forEach(([e,r])=>{e&&void 0!==r&&(t[e]=r)}):t=e),t},dz=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),dH=e=>{if(!Array.isArray(e.query)){let t=[`query=${encodeURIComponent(dz(e.query))}`];return e.variables&&t.push(`variables=${encodeURIComponent(e.jsonSerializer.stringify(e.variables))}`),e.operationName&&t.push(`operationName=${encodeURIComponent(e.operationName)}`),t.join("&")}if(void 0!==e.variables&&!Array.isArray(e.variables))throw Error("Cannot create query with given variable type, array expected");let t=e.query.reduce((t,r,n)=>(t.push({query:dz(r),variables:e.variables?e.jsonSerializer.stringify(e.variables[n]):void 0}),t),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(t))}`},dK=e=>async t=>{let r;let{url:n,query:i,variables:o,operationName:s,fetch:a,fetchOptions:l,middleware:u}=t,c={...t.headers},h="";"POST"===e?"string"==typeof(r=dJ(i,o,s,l.jsonSerializer))&&(c["Content-Type"]="application/json"):h=dH({query:i,variables:o,operationName:s,jsonSerializer:l.jsonSerializer??fX});let f={method:e,headers:c,body:r,...l},d=n,p=f;if(u){let e=await Promise.resolve(u({...f,url:n,operationName:s,variables:o})),{url:t,...r}=e;d=t,p=r}return h&&(d=`${d}?${h}`),await a(d,p)};class dQ{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...e)=>{let[t,r,n]=e,i=f0(t,r,n),{headers:o,fetch:s=dM,method:a="POST",requestMiddleware:l,responseMiddleware:u,...c}=this.requestConfig,{url:h}=this;void 0!==i.signal&&(c.signal=i.signal);let{operationName:f}=dU(i.query);return dV({url:h,query:i.query,variables:i.variables,headers:{...dj(dX(o)),...dj(i.requestHeaders)},operationName:f,fetch:s,method:a,fetchOptions:c,middleware:l}).then(e=>(u&&u(e),e)).catch(e=>{throw u&&u(e),e})}}async request(e,...t){let[r,n]=t,i=f$(e,r,n),{headers:o,fetch:s=dM,method:a="POST",requestMiddleware:l,responseMiddleware:u,...c}=this.requestConfig,{url:h}=this;void 0!==i.signal&&(c.signal=i.signal);let{query:f,operationName:d}=dU(i.document);return dV({url:h,query:f,variables:i.variables,headers:{...dj(dX(o)),...dj(i.requestHeaders)},operationName:d,fetch:s,method:a,fetchOptions:c,middleware:l}).then(e=>(u&&u(e),e.data)).catch(e=>{throw u&&u(e),e})}batchRequests(e,t){let r=f1(e,t),{headers:n,...i}=this.requestConfig;void 0!==r.signal&&(i.signal=r.signal);let o=r.documents.map(({document:e})=>dU(e).query),s=r.documents.map(({variables:e})=>e);return dV({url:this.url,query:o,variables:s,headers:{...dj(dX(n)),...dj(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??dM,method:this.requestConfig.method||"POST",fetchOptions:i,middleware:this.requestConfig.requestMiddleware}).then(e=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e.data)).catch(e=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){let{headers:r}=this.requestConfig;return r?r[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}let dV=async e=>{let{query:t,variables:r,fetchOptions:n}=e,i=dK(fW(e.method??"post")),o=Array.isArray(e.query),s=await i(e),a=await dY(s,n.jsonSerializer??fX),l=Array.isArray(a)?!a.some(({data:e})=>!e):!!a.data,u=Array.isArray(a)||!a.errors||Array.isArray(a.errors)&&!a.errors.length||"all"===n.errorPolicy||"ignore"===n.errorPolicy;if(s.ok&&u&&l){let{errors:e,...t}=(Array.isArray(a),a),r="ignore"===n.errorPolicy?t:a;return{...o?{data:r}:r,headers:s.headers,status:s.status}}{let e="string"==typeof a?{error:a}:a;throw new dL({...e,status:s.status,headers:s.headers},{query:t,variables:r})}},dJ=(e,t,r,n)=>{let i=n??fX;if(!Array.isArray(e))return i.stringify({query:e,variables:t,operationName:r});if(void 0!==t&&!Array.isArray(t))throw Error("Cannot create request body with given variable type, array expected");let o=e.reduce((e,r,n)=>(e.push({query:r,variables:t?t[n]:void 0}),e),[]);return i.stringify(o)},dY=async(e,t)=>{let r;return(e.headers.forEach((e,t)=>{"content-type"===t.toLowerCase()&&(r=e)}),r&&(r.toLowerCase().startsWith("application/json")||r.toLowerCase().startsWith("application/graphql+json")||r.toLowerCase().startsWith("application/graphql-response+json")))?t.parse(await e.text()):e.text()},dX=e=>"function"==typeof e?e():e,dW=(e,...t)=>e.reduce((e,r,n)=>`${e}${r}${n in t?String(t[n]):""}`,"");async function dZ(e){let{signer:t}=e,r=await t.getAddress();console.log("signer address :",r);let n={to:e.recipient??r,handle:e.handle,imageURI:e.imageURI??"https://ipfs.io/ipfs/QmY9dUwYu67puaWBMxRKW98LPbXCznPwHUbhX5NeWnCJbX",followModule:"0x0000000000000000000000000000000000000000",followModuleInitData:[],followNFTURI:e.followNFTURI??"https://ipfs.io/ipfs/QmTFLSXdEQ6qsSzaXaCSNtiv6wA56qq87ytXJ182dXDQJS"};console.log("Create Profile :",n);let i=new hM("0x4fe8deB1cf6068060dE50aA584C3adf00fbDB87f",[{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"imageURI",type:"string"},{internalType:"address",name:"followModule",type:"address"},{internalType:"bytes",name:"followModuleInitData",type:"bytes"},{internalType:"string",name:"followNFTURI",type:"string"}],internalType:"struct DataTypes.CreateProfileData",name:"vars",type:"tuple"}],name:"proxyCreateProfile",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],t),o=await i.estimateGas.proxyCreateProfile(n),s=await i.proxyCreateProfile(n,{gasLimit:o.mul(15).div(10)}),a=await s.wait();console.log({txReceipt:a});let l=a.logs.filter(e=>e.address===fY&&"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"===e.topics[0])[0],u=fj.from(l.topics[3]).toHexString();return u}async function d$({handle:e,signer:t}){let r=new hM(fY,[{inputs:[{internalType:"string",name:"handle",type:"string"}],name:"getProfileIdByHandle",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],t),n=await r.getProfileIdByHandle(`${e}.test`);return console.log("Handle => profileId: ",n),n}async function d0(e){let t=dW`
    query ProfileQuery($request: ProfileQueryRequest!) {
      profiles(request: $request) {
        items {
          id
        }
      }
    }
  `,r=new dQ("https://api-sandbox-mumbai.lens.dev"),n=await r.request(t,{request:{ownedBy:e}});return n.profiles.items.map(e=>({...e,id:fj.from(e.id).toHexString()}))}let d1={USDC:{chainId:80001,address:"0x2058A9D7613eEE744279e3856Ef0eAda5FCbaA7e",symbol:"USDC",name:"USD Coin",decimals:6,logoURI:"ipfs://QmXfzKRvjZz3u5JRgC4v5mGVbm9ahrUiB4DgzHBsnWbTMM"},DAI:{chainId:80001,address:"0x001B3B4d0F3714Ca98ba10F6042DaEbF0B1B7b6F",symbol:"DAI",name:"Dai Stablecoin",decimals:18,logoURI:"https://assets.coingecko.com/coins/images/9956/thumb/4943.png?1636636734"},WETH:{chainId:80001,address:"0x3C68CE8504087f89c640D02d133646d98e64ddd9",symbol:"WETH",name:"Wrapped Ether",decimals:18,logoURI:"https://polygonscan.com/token/images/wETH_32.png"},WMATIC:{chainId:80001,address:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",symbol:"WMATIC",name:"Wrapped Matic",decimals:18,logoURI:"https://polygonscan.com/token/images/wMatic_32.png"}};async function d2({datatokenId:e,address:t}){let r=new uO("https://rpc-mumbai.maticvigil.com"),n=function({datatokenId:e,provider:t}){return new hM(e,[{inputs:[{internalType:"address",name:"user",type:"address"}],name:"isCollected",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],t)}({datatokenId:e,provider:r}),i=await n.isCollected(t);return i}async function d6(e){let t=dW`
    query DataToken($address: String!) {
      dataToken(address: $address) {
        address
        collect_info {
          collect_nft_address
          sold_list {
            owner
            token_id
          }
          price {
            amount
            currency
            currency_addr
          }
          sold_num
          total
          who_can_free_collect
        }
        content_uri
        owner
        source
      }
    }
  `,r=new dQ("https://gateway.dataverse.art/v1/data-token/graphql"),n=await r.request(t,{address:e});if(n?.dataToken)return Object.entries(d1).find(([e,t])=>t.address===n.dataToken.collect_info.price.currency_addr&&(n.dataToken.collect_info.price.currency=e,!0)),n.dataToken;throw Error("Datatoken not found")}class d3 extends e3{constructor(){super(),this.isDataverse=!0,window.externalWallet||(window.externalWallet=new fN),window.externalWallet.setProvider(window.dataverseExternalProvider),window.dataverseCommunicator||(window.dataverseCommunicator=new e6({source:window,target:window.top,methodClass:window.externalWallet}))}async connectWallet(e){let t=await window.dataverse.connectWallet(e);this.address=t.address,this.chain=t.chain,this.wallet=t.wallet;let r=new iw(this,"any");return this.signer=r.getSigner(),t}async getCurrentWallet(){return window.dataverse.getCurrentWallet()}getAddress(){return this.address}async signMessage(e){return this.signer||await this.connectWallet(),this.signer.signMessage(e)}async _signTypedData(e,t,r){return this.signer||await this.connectWallet(),this.signer._signTypedData(e,t,r)}async sendTransaction(e){if(this.signer||await this.connectWallet(),!e||"object"!=typeof e)return window.dataverse.request({method:"eth_sendTransaction",params:[e]});if(!e?.from){let t=await window.dataverse.request({method:"eth_accounts",params:[]});e.from=t[0]}return Object.entries(e).forEach(([t,r])=>{"from"!==t&&"to"!==t&&(fV(r)?e[t]=fV(r):delete e[t])}),this.signer.sendTransaction(e)}async contractCall({contractAddress:e,abi:t,method:r,params:n}){this.signer||await this.connectWallet();let i=new sA(e,t,this.signer),o=await (n?i[r](...n):i[r]());return o&&"object"==typeof o&&o.wait?fJ(await o.wait()):o}on(e,t){return window.dataverse.on(e,t),this}off(e,t){return window.dataverse.off(e,t),this}request({method:e,params:t}){return window.dataverse.request({method:e,params:t})}}(V=eL||(eL={}))[V.Web3Storage=0]="Web3Storage",V[V.Lighthouse=1]="Lighthouse",(J=eM||(eM={})).signMessage="signMessage",J._signTypedData="_signTypedData",(Y=eG||(eG={})).METAMASK="MetaMask",Y.WALLETCONNECT="WalletConnect",Y.COINBASE="Coinbase",Y.PARTICLE="Particle",Y.EXTERNAL_WALLET="ExternalWallet",(X=eq||(eq={}))[X.CERAMIC=0]="CERAMIC",(W=ej||(ej={})).Dataverse="Dataverse",W.Playground="Playground",W.MigrateOldFolders="MigrateOldFolders",(Z=ez||(ez={})).indexFolders="indexFolders",Z.contentFolders="contentFolders",Z.indexFiles="indexFiles",($=eH||(eH={})).USDC="USDC",$.DAI="DAI",$.WETH="WETH",$.WMATIC="WMATIC",(ee=eK||(eK={})).AccessControlCondition="AccessControlCondition",ee.UnifiedAccessControlCondition="UnifiedAccessControlCondition",(et=eQ||(eQ={}))[et.Public=0]="Public",et[et.Private=1]="Private",et[et.Datatoken=2]="Datatoken",(er=eV||(eV={})).NFT="NFT",er.CID="CID",er.MIRROR="MIRROR",er.VIDEO="VIDEO",er.WEBSITE="WEBSITE",(en=eJ||(eJ={}))[en.curate=0]="curate",en[en.upload=1]="upload",en[en.follow=2]="follow",en[en.click=3]="click",(ei=eY||(eY={}))[ei.Public=0]="Public",ei[ei.Private=1]="Private",ei[ei.Datatoken=2]="Datatoken",(eo=eX||(eX={})).getPKP="getPKP",eo.executeLitAction="executeLitAction",eo.getValidAppCaps="getValidAppCaps",eo.getModelBaseInfo="getModelBaseInfo",eo.createCapability="createCapability",eo.checkCapability="checkCapability",eo.loadStream="loadStream",eo.loadStreamsBy="loadStreamsBy",eo.createStream="createStream",eo.updateStream="updateStream",eo.readFolders="readFolders",eo.readFolderById="readFolderById",eo.createFolder="createFolder",eo.updateFolderBaseInfo="updateFolderBaseInfo",eo.changeFolderType="changeFolderType",eo.deleteFolder="deleteFolder",eo.monetizeFolder="monetizeFolder",eo.uploadFile="uploadFile",eo.updateFileBaseInfo="updateFileBaseInfo",eo.moveFiles="moveFiles",eo.removeFiles="removeFiles",eo.monetizeFile="monetizeFile",eo.unlock="unlock";let d5=!1,d4=!1,d8={debug:1,default:2,info:2,warning:3,error:4,off:5},d9=2,d7=null,pe=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(es=eW||(eW={})).DEBUG="DEBUG",es.INFO="INFO",es.WARNING="WARNING",es.ERROR="ERROR",es.OFF="OFF",(ea=eZ||(eZ={})).UNKNOWN_ERROR="UNKNOWN_ERROR",ea.NOT_IMPLEMENTED="NOT_IMPLEMENTED",ea.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",ea.NETWORK_ERROR="NETWORK_ERROR",ea.SERVER_ERROR="SERVER_ERROR",ea.TIMEOUT="TIMEOUT",ea.BUFFER_OVERRUN="BUFFER_OVERRUN",ea.NUMERIC_FAULT="NUMERIC_FAULT",ea.MISSING_NEW="MISSING_NEW",ea.INVALID_ARGUMENT="INVALID_ARGUMENT",ea.MISSING_ARGUMENT="MISSING_ARGUMENT",ea.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",ea.CALL_EXCEPTION="CALL_EXCEPTION",ea.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",ea.NONCE_EXPIRED="NONCE_EXPIRED",ea.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",ea.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",ea.TRANSACTION_REPLACED="TRANSACTION_REPLACED",ea.ACTION_REJECTED="ACTION_REJECTED";let pt="0123456789abcdef";class pr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==d8[r]&&this.throwArgumentError("invalid log level name","logLevel",e),d9>d8[r]||console.log.apply(console,t)}debug(...e){this._log(pr.levels.DEBUG,e)}info(...e){this._log(pr.levels.INFO,e)}warn(...e){this._log(pr.levels.WARNING,e)}makeError(e,t,r){if(d4)return this.makeError("censored error",t,{});t||(t=pr.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=pt[t[e]>>4]+pt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case eZ.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case eZ.CALL_EXCEPTION:case eZ.INSUFFICIENT_FUNDS:case eZ.MISSING_NEW:case eZ.NONCE_EXPIRED:case eZ.REPLACEMENT_UNDERPRICED:case eZ.TRANSACTION_REPLACED:case eZ.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,pr.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),pe&&this.throwError("platform missing String.prototype.normalize",pr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:pe})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,pr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,pr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,pr.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,pr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",pr.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",pr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",pr.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return d7||(d7=new pr("logger/5.7.0")),d7}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",pr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),d5){if(!e)return;this.globalLogger().throwError("error censorship permanent",pr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}d4=!!e,d5=!!t}static setLogLevel(e){let t=d8[e.toLowerCase()];if(null==t){pr.globalLogger().warn("invalid log level - "+e);return}d9=t}static from(e){return new pr(e)}}pr.errors=eZ,pr.levels=eW;let pn=new pr("properties/5.7.0");function pi(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function po(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function ps(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}l((i=i.apply(t,r||[])).next())})}function pa(e){let t={};for(let r in e)t[r]=e[r];return t}let pl={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function pu(e){return function(e){if(function e(t){if(null==t||pl[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return pn.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>pu(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&pi(t,r,pu(n))}return t}return pn.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}(e)}let pc="providers/5.6.8";var ph=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let pf=new pr("abstract-signer/5.7.0"),pd=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],pp=[pr.errors.INSUFFICIENT_FUNDS,pr.errors.NONCE_EXPIRED,pr.errors.REPLACEMENT_UNDERPRICED];class pg{constructor(){pf.checkAbstract(new.target,pg),pi(this,"_isSigner",!0)}getBalance(e){return ph(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ph(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ph(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield ps(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return ph(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield ps(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return ph(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return ph(this,void 0,void 0,function*(){this._checkProvider("getChainId");let e=yield this.provider.getNetwork();return e.chainId})}getGasPrice(){return ph(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ph(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ph(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===pd.indexOf(t)&&pf.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=pa(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&pf.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return ph(this,void 0,void 0,function*(){let t=yield ps(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>ph(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&pf.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?pf.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&pf.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(r&&pf.throwError("network does not support EIP-1559",pr.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):pf.throwError("failed to get consistent fee data",pr.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(pp.indexOf(e.code)>=0)throw e;return pf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pr.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&pf.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield ps(t)})}_checkProvider(e){this.provider||pf.throwError("missing provider",pr.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}let pm=new pr("bytes/5.7.0");function py(e){return!!e.toHexString}function pv(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return pv(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function pA(e){return p_(e)&&!(e.length%2)||pE(e)}function pb(e){return"number"==typeof e&&e==e&&e%1==0}function pE(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!pb(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!pb(r)||r<0||r>=256)return!1}return!0}function pw(e,t){if(t||(t={}),"number"==typeof e){pm.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),pv(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),py(e)&&(e=e.toHexString()),p_(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":pm.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return pv(new Uint8Array(n))}return pE(e)?pv(new Uint8Array(e)):pm.throwArgumentError("invalid arrayify value","value",e)}function pN(e){let t=e.map(e=>pw(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),pv(n)}function pI(e){let t=pw(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function p_(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let pk="0123456789abcdef";function pP(e,t){if(t||(t={}),"number"==typeof e){pm.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=pk[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),py(e))return e.toHexString();if(p_(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":pm.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(pE(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=pk[(240&n)>>4]+pk[15&n]}return t}return pm.throwArgumentError("invalid hexlify value","value",e)}function pT(e){if("string"!=typeof e)e=pP(e);else if(!p_(e)||e.length%2)return null;return(e.length-2)/2}function px(e,t,r){return("string"!=typeof e?e=pP(e):(!p_(e)||e.length%2)&&pm.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function pR(e){let t="0x";return e.forEach(e=>{t+=pP(e).substring(2)}),t}function pS(e){let t=function(e){"string"!=typeof e&&(e=pP(e)),p_(e)||pm.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(pP(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function pC(e,t){for("string"!=typeof e?e=pP(e):p_(e)||pm.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&pm.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function pO(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(pA(e)){let r=pw(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=pP(r.slice(0,32)),t.s=pP(r.slice(32,64))):65===r.length?(t.r=pP(r.slice(0,32)),t.s=pP(r.slice(32,64)),t.v=r[64]):pm.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:pm.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=pP(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let r=function(e,t){(e=pw(e)).length>t&&pm.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),pv(r)}(pw(t._vs),32);t._vs=pP(r);let n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&pm.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;let i=pP(r);null==t.s?t.s=i:t.s!==i&&pm.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?pm.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&pm.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&p_(t.r)?t.r=pC(t.r,32):pm.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&p_(t.s)?t.s=pC(t.s,32):pm.throwArgumentError("signature missing or invalid s","signature",e);let r=pw(t.s);r[0]>=128&&pm.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);let n=pP(r);t._vs&&(p_(t._vs)||pm.throwArgumentError("signature invalid _vs","signature",e),t._vs=pC(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&pm.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var pB=tv().BN;let pF=new pr("bignumber/5.7.0"),pD={},pU=!1;class pL{constructor(e,t){e!==pD&&pF.throwError("cannot call constructor directly; use BigNumber.from",pr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return pG(pq(this).fromTwos(e))}toTwos(e){return pG(pq(this).toTwos(e))}abs(){return"-"===this._hex[0]?pL.from(this._hex.substring(1)):this}add(e){return pG(pq(this).add(pq(e)))}sub(e){return pG(pq(this).sub(pq(e)))}div(e){let t=pL.from(e);return t.isZero()&&pj("division-by-zero","div"),pG(pq(this).div(pq(e)))}mul(e){return pG(pq(this).mul(pq(e)))}mod(e){let t=pq(e);return t.isNeg()&&pj("division-by-zero","mod"),pG(pq(this).umod(t))}pow(e){let t=pq(e);return t.isNeg()&&pj("negative-power","pow"),pG(pq(this).pow(t))}and(e){let t=pq(e);return(this.isNegative()||t.isNeg())&&pj("unbound-bitwise-result","and"),pG(pq(this).and(t))}or(e){let t=pq(e);return(this.isNegative()||t.isNeg())&&pj("unbound-bitwise-result","or"),pG(pq(this).or(t))}xor(e){let t=pq(e);return(this.isNegative()||t.isNeg())&&pj("unbound-bitwise-result","xor"),pG(pq(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&pj("negative-width","mask"),pG(pq(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&pj("negative-width","shl"),pG(pq(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&pj("negative-width","shr"),pG(pq(this).shrn(e))}eq(e){return pq(this).eq(pq(e))}lt(e){return pq(this).lt(pq(e))}lte(e){return pq(this).lte(pq(e))}gt(e){return pq(this).gt(pq(e))}gte(e){return pq(this).gte(pq(e))}isNegative(){return"-"===this._hex[0]}isZero(){return pq(this).isZero()}toNumber(){try{return pq(this).toNumber()}catch(e){pj("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return pF.throwError("this platform does not support BigInt",pr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?pU||(pU=!0,pF.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?pF.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",pr.errors.UNEXPECTED_ARGUMENT,{}):pF.throwError("BigNumber.toString does not accept parameters",pr.errors.UNEXPECTED_ARGUMENT,{})),pq(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof pL)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new pL(pD,pM(e)):e.match(/^-?[0-9]+$/)?new pL(pD,pM(new pB(e))):pF.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&pj("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&pj("overflow","BigNumber.from",e),pL.from(String(e));if("bigint"==typeof e)return pL.from(e.toString());if(pE(e))return pL.from(pP(e));if(e){if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return pL.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(p_(t)||"-"===t[0]&&p_(t.substring(1))))return pL.from(t)}}return pF.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function pM(e){if("string"!=typeof e)return pM(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&pF.throwArgumentError("invalid hex","value",e),"0x00"===(e=pM(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function pG(e){return pL.from(pM(e))}function pq(e){let t=pL.from(e).toHexString();return"-"===t[0]?new pB("-"+t.substring(3),16):new pB(t.substring(2),16)}function pj(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),pF.throwError(e,pr.errors.NUMERIC_FAULT,n)}function pz(e){return"0x"+tV().keccak_256(pw(e))}let pH=new pr("rlp/5.7.0");function pK(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function pQ(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function pV(e){return pP(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=pK(r.length);return n.unshift(247+n.length),n.concat(r)}pA(t)||pH.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call(pw(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=pK(r.length);return n.unshift(183+n.length),n.concat(r)}(e))}function pJ(e,t,r,n){let i=[];for(;r<t+1+n;){let o=pY(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&pH.throwError("child data too short",pr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function pY(e,t){if(0===e.length&&pH.throwError("data too short",pr.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&pH.throwError("data short segment too short",pr.errors.BUFFER_OVERRUN,{});let n=pQ(e,t+1,r);return t+1+r+n>e.length&&pH.throwError("data long segment too short",pr.errors.BUFFER_OVERRUN,{}),pJ(e,t,t+1+r,r+n)}if(e[t]>=192){let r=e[t]-192;return t+1+r>e.length&&pH.throwError("data array too short",pr.errors.BUFFER_OVERRUN,{}),pJ(e,t,t+1,r)}if(e[t]>=184){let r=e[t]-183;t+1+r>e.length&&pH.throwError("data array too short",pr.errors.BUFFER_OVERRUN,{});let n=pQ(e,t+1,r);t+1+r+n>e.length&&pH.throwError("data array too short",pr.errors.BUFFER_OVERRUN,{});let i=pP(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}if(e[t]>=128){let r=e[t]-128;t+1+r>e.length&&pH.throwError("data too short",pr.errors.BUFFER_OVERRUN,{});let n=pP(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:pP(e[t])}}function pX(e){let t=pw(e),r=pY(t,0);return r.consumed!==t.length&&pH.throwArgumentError("invalid rlp data","data",e),r.result}let pW=new pr("address/5.7.0");function pZ(e){p_(e,20)||pW.throwArgumentError("invalid address","address",e),e=e.toLowerCase();let t=e.substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=pw(pz(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let p$={};for(let e=0;e<10;e++)p$[String(e)]=String(e);for(let e=0;e<26;e++)p$[String.fromCharCode(65+e)]=String(10+e);let p0=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);function p1(e){let t=null;if("string"!=typeof e&&pW.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=pZ(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&pW.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){var r;for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>p$[e]).join("");for(;t.length>=p0;){let e=t.substring(0,p0);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&pW.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new pB(r,36).toString(16);t.length<40;)t="0"+t;t=pZ("0x"+t)}else pW.throwArgumentError("invalid address","address",e);return t}let p2="hash/5.7.0",p6=new pr("strings/5.7.0");function p3(e,t,r,n,i){if(e===e0.BAD_PREFIX||e===e0.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===e0.OVERRUN?r.length-t-1:0}(el=e$||(e$={})).current="",el.NFC="NFC",el.NFD="NFD",el.NFKC="NFKC",el.NFKD="NFKD",(eu=e0||(e0={})).UNEXPECTED_CONTINUE="unexpected continuation byte",eu.BAD_PREFIX="bad codepoint prefix",eu.OVERRUN="string overrun",eu.MISSING_CONTINUE="missing continuation byte",eu.OUT_OF_RANGE="out of UTF-8 range",eu.UTF16_SURROGATE="UTF-16 surrogate",eu.OVERLONG="overlong representation";let p5=Object.freeze({error:function(e,t,r,n,i){return p6.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:p3,replace:function(e,t,r,n,i){return e===e0.OVERLONG?(n.push(i),0):(n.push(65533),p3(e,t,r,n,i))}});function p4(e,t){null==t&&(t=p5.error),e=pw(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if((224&i)==192)o=1,s=127;else if((240&i)==224)o=2,s=2047;else if((248&i)==240)o=3,s=65535;else{(192&i)==128?n+=t(e0.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(e0.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(e0.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=e[n];if((192&i)!=128){n+=t(e0.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}if(null!==a){if(a>1114111){n+=t(e0.OUT_OF_RANGE,n-1-o,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(e0.UTF16_SURROGATE,n-1-o,e,r,a);continue}if(a<=s){n+=t(e0.OVERLONG,n-1-o,e,r,a);continue}r.push(a)}}return r}function p8(e,t=e$.current){t!=e$.current&&(p6.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return pw(r)}function p9(e,t){return p4(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}let p7=new pr(p2),ge=new Uint8Array(32);ge.fill(0);let gt=pL.from(-1),gr=pL.from(0),gn=pL.from(1),gi=pL.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),go=pC(gn.toHexString(),32),gs=pC(gr.toHexString(),32),ga={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gl=["name","version","chainId","verifyingContract","salt"];function gu(e){return function(t){return"string"!=typeof t&&p7.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let gc={name:gu("name"),version:gu("version"),chainId:function(e){try{return pL.from(e).toString()}catch(e){}return p7.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return p1(e).toLowerCase()}catch(e){}return p7.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=pw(e);if(32!==t.length)throw Error("bad length");return pP(t)}catch(e){}return p7.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function gh(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&p7.throwArgumentError("invalid numeric width","type",e);let i=gi.mask(r?n-1:n),o=r?i.add(gn).mul(gt):gr;return function(t){let r=pL.from(t);return(r.lt(o)||r.gt(i))&&p7.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),pC(r.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&p7.throwArgumentError("invalid bytes width","type",e),function(t){let n=pw(t);return n.length!==r&&p7.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){let t=pw(e),r=t.length%32;return r?pR([t,ge.slice(r)]):pP(t)}(t)}}}switch(e){case"address":return function(e){return pC(p1(e),32)};case"bool":return function(e){return e?go:gs};case"bytes":return function(e){return pz(e)};case"string":return function(e){return pz(p8(e))}}return null}function gf(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class gd{constructor(e){pi(this,"types",Object.freeze(pu(e))),pi(this,"_encoderCache",{}),pi(this,"_types",{});let t={},r={},n={};for(let i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){let n={};e[i].forEach(o=>{n[o.name]&&p7.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,"types",e),n[o.name]=!0;let s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&p7.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);let a=gh(s);a||(r[s]||p7.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)})}let i=Object.keys(r).filter(e=>0===r[e].length);for(let o in 0===i.length?p7.throwArgumentError("missing primary type","types",e):i.length>1&&p7.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),pi(this,"primaryType",i[0]),!function i(o,s){s[o]&&p7.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),s[o]=!0,Object.keys(t[o]).forEach(e=>{r[e]&&(i(e,s),Object.keys(s).forEach(t=>{n[t][e]=!0}))}),delete s[o]}(this.primaryType,{}),n){let t=Object.keys(n[o]);t.sort(),this._types[o]=gf(o,e[o])+t.map(t=>gf(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=gh(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&p7.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(pz)),pz(pR(i))}}let r=this.types[e];if(r){let t=pz(p8(this._types[e]));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?pz(n):n});return n.unshift(t),pR(n)}}return p7.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||p7.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return pz(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){{let n=gh(e);if(n)return r(e,t)}let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&p7.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):p7.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new gd(e)}static getPrimaryType(e){return gd.from(e).primaryType}static hashStruct(e,t,r){return gd.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=ga[r];n||p7.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>gl.indexOf(e.name)-gl.indexOf(t.name)),gd.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return pR(["0x1901",gd.hashDomain(e),gd.from(t).hash(r)])}static hash(e,t,r){return pz(gd.encode(e,t,r))}static resolveNames(e,t,r,n){var i,o,s,a;return i=this,o=void 0,s=void 0,a=function*(){e=pa(e);let i={};e.verifyingContract&&!p_(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=gd.from(t);for(let e in o.visit(r,(e,t)=>("address"!==e||p_(t,20)||(i[t]="0x"),t)),i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:r=o.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t)}},new(s||(s=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}l((a=a.apply(i,o||[])).next())})}static getPayload(e,t,r){gd.hashDomain(e);let n={},i=[];gl.forEach(t=>{let r=e[t];null!=r&&(n[t]=gc[t](r),i.push({name:t,type:ga[t]}))});let o=gd.from(t),s=pa(t);return s.EIP712Domain?p7.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return pP(pw(t));if(e.match(/^u?int/))return pL.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&p7.throwArgumentError("invalid string","value",t),t}return p7.throwArgumentError("unsupported type","type",e)})}}}let gp=pL.from(0);function gg(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?r.path:t)}},r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var gm=gy;function gy(e,t){if(!e)throw Error(t||"Assertion failed")}gy.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var gv=gg(function(e,t){function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}),gA=gg(function(e,t){t.assert=gm,t.toArray=gv.toArray,t.zero2=gv.zero2,t.toHex=gv.toHex,t.encode=gv.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,l=e.andln(3)+n&3,u=t.andln(3)+i&3;3===l&&(l=-1),3===u&&(u=-1),s=(1&l)==0?0:(3==(o=e.andln(7)+n&7)||5===o)&&2===u?-l:l,r[0].push(s),a=(1&u)==0?0:(3==(o=t.andln(7)+i&7)||5===o)&&2===l?-u:u,r[1].push(a),2*n===s+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(tv())(e,"hex","le")}}),gb=gA.getNAF,gE=gA.getJSF,gw=gA.assert;function gN(e,t){this.type=e,this.p=new(tv())(t.p,16),this.red=t.prime?tv().red(t.prime):tv().mont(this.p),this.zero=new(tv())(0).toRed(this.red),this.one=new(tv())(1).toRed(this.red),this.two=new(tv())(2).toRed(this.red),this.n=t.n&&new(tv())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function gI(e,t){this.curve=e,this.type=t,this.precomputed=null}gN.prototype.point=function(){throw Error("Not implemented")},gN.prototype.validate=function(){throw Error("Not implemented")},gN.prototype._fixedNafMul=function(e,t){gw(e.precomputed);var r,n,i=e._getDoubles(),o=gb(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[];for(r=0;r<o.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+o[l];a.push(n)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=s;h>0;h--){for(r=0;r<a.length;r++)(n=a[r])===h?c=c.mixedAdd(i.points[r]):n===-h&&(c=c.mixedAdd(i.points[r].neg()));u=u.add(c)}return u.toP()},gN.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=gb(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];gw(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},gN.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=t[o])._getNAFPoints(e);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1!==l[d]||1!==l[p]){c[d]=gb(r[d],l[d],this._bitLength),c[p]=gb(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h);continue}var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=gE(r[d],r[p]);for(s=0,h=Math.max(y[0].length,h),c[d]=Array(h),c[p]=Array(h);s<h;s++){var v=0|y[0][s],A=0|y[1][s];c[d][s]=m[(v+1)*3+(A+1)],c[p][s]=0,u[d]=g}}var b=this.jpoint(null,null,null),E=this._wnafT4;for(o=h;o>=0;o--){for(var w=0;o>=0;){var N=!0;for(s=0;s<n;s++)E[s]=0|c[s][o],0!==E[s]&&(N=!1);if(!N)break;w++,o--}if(o>=0&&w++,b=b.dblp(w),o<0)break;for(s=0;s<n;s++){var I=E[s];0!==I&&(I>0?a=u[s][I-1>>1]:I<0&&(a=u[s][-I-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?b:b.toP()},gN.BasePoint=gI,gI.prototype.eq=function(){throw Error("Not implemented")},gI.prototype.validate=function(){return this.curve.validate(this)},gN.prototype.decodePoint=function(e,t){e=gA.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?gw(e[e.length-1]%2==0):7===e[0]&&gw(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},gI.prototype.encodeCompressed=function(e){return this.encode(e,!0)},gI.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},gI.prototype.encode=function(e,t){return gA.encode(this._encode(t),e)},gI.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},gI.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},gI.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},gI.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},gI.prototype._getBeta=function(){return null},gI.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var g_=gg(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),gk=gA.assert;function gP(e){gN.call(this,"short",e),this.a=new(tv())(e.a,16).toRed(this.red),this.b=new(tv())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function gT(e,t,r,n){gN.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(tv())(t,16),this.y=new(tv())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function gx(e,t,r,n){gN.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(tv())(0)):(this.x=new(tv())(t,16),this.y=new(tv())(r,16),this.z=new(tv())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}g_(gP,gN),gP.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new(tv())(e.beta,16).toRed(this.red);else{var t,r,n,i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new(tv())(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],gk(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new(tv())(e.a,16),b:new(tv())(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},gP.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:tv().mont(e),r=new(tv())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(tv())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},gP.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),d=new(tv())(1),p=new(tv())(0),g=new(tv())(0),m=new(tv())(1),y=0;0!==h.cmpn(0);){var v=f.div(h);l=f.sub(v.mul(h)),u=g.sub(v.mul(d));var A=m.sub(v.mul(p));if(!n&&0>l.cmp(c))t=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++y)break;a=l,f=h,h=l,g=d,d=u,m=p,p=A}o=l.neg(),s=u;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},gP.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:l.add(u).neg()}},gP.prototype.pointFromX=function(e,t){(e=new(tv())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},gP.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},gP.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},g_(gT,gN.BasePoint),gP.prototype.point=function(e,t,r){return new gT(this,e,t,r)},gP.prototype.pointFromJSON=function(e,t){return gT.fromJSON(this,e,t)},gT.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},gT.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},gT.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},gT.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},gT.prototype.isInfinity=function(){return this.inf},gT.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},gT.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},gT.prototype.getX=function(){return this.x.fromRed()},gT.prototype.getY=function(){return this.y.fromRed()},gT.prototype.mul=function(e){return(e=new(tv())(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},gT.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},gT.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},gT.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},gT.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},gT.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},g_(gx,gN.BasePoint),gP.prototype.jpoint=function(e,t,r){return new gx(this,e,t,r)},gx.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},gx.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},gx.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,d,p)},gx.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},gx.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var v=u.redMul(a);t+1<e&&(l=l.redMul(f)),o=g,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},gx.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},gx.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=l,t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},gx.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},gx.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),l=t.redAdd(t),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},gx.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},gx.prototype.mul=function(e,t){return e=new(tv())(e,t),this.curve._wnafMul(this,e)},gx.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},gx.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},gx.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},gx.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var gR=gg(function(e,t){t.base=gN,t.short=gP,t.mont=null,t.edwards=null}),gS=gg(function(e,t){var r,n=gA.assert;function i(e){"short"===e.type?this.curve=new gR.short(e):"edwards"===e.type?this.curve=new gR.edwards(e):this.curve=new gR.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new i(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=i,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:rE().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:rE().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:rE().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:rE().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:rE().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rE().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rE().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:rE().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function gC(e){if(!(this instanceof gC))return new gC(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=gv.toArray(e.entropy,e.entropyEnc||"hex"),r=gv.toArray(e.nonce,e.nonceEnc||"hex"),n=gv.toArray(e.pers,e.persEnc||"hex");gm(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}gC.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},gC.prototype._hmac=function(){return new(rE()).hmac(this.hash,this.K)},gC.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},gC.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=gv.toArray(e,t),r=gv.toArray(r,n),gm(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},gC.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=gv.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,gv.encode(o,t)};var gO=gA.assert;function gB(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}gB.fromPublic=function(e,t,r){return t instanceof gB?t:new gB(e,{pub:t,pubEnc:r})},gB.fromPrivate=function(e,t,r){return t instanceof gB?t:new gB(e,{priv:t,privEnc:r})},gB.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},gB.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},gB.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},gB.prototype._importPrivate=function(e,t){this.priv=new(tv())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},gB.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?gO(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&gO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},gB.prototype.derive=function(e){return e.validate()||gO(e.validate(),"public point not validated"),e.mul(this.priv).getX()},gB.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},gB.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},gB.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var gF=gA.assert;function gD(e,t){if(e instanceof gD)return e;this._importDER(e,t)||(gF(e.r&&e.s,"Signature without r or s"),this.r=new(tv())(e.r,16),this.s=new(tv())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function gU(){this.place=0}function gL(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function gM(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function gG(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}gD.prototype._importDER=function(e,t){e=gA.toArray(e,t);var r=new gU;if(48!==e[r.place++])return!1;var n=gL(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var i=gL(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=gL(e,r);if(!1===s||e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(tv())(o),this.s=new(tv())(a),this.recoveryParam=null,!0},gD.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=gM(t),r=gM(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];gG(n,t.length),(n=n.concat(t)).push(2),gG(n,r.length);var i=n.concat(r),o=[48];return gG(o,i.length),o=o.concat(i),gA.encode(o,e)};var gq=function(){throw Error("unsupported")},gj=gA.assert;function gz(e){if(!(this instanceof gz))return new gz(e);"string"==typeof e&&(gj(Object.prototype.hasOwnProperty.call(gS,e),"Unknown curve "+e),e=gS[e]),e instanceof gS.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}gz.prototype.keyPair=function(e){return new gB(this,e)},gz.prototype.keyFromPrivate=function(e,t){return gB.fromPrivate(this,e,t)},gz.prototype.keyFromPublic=function(e,t){return gB.fromPublic(this,e,t)},gz.prototype.genKeyPair=function(e){e||(e={});for(var t=new gC({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||gq(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(tv())(2));;){var i=new(tv())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},gz.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},gz.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(tv())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new gC({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new(tv())(1)),u=0;;u++){var c=n.k?n.k(u):new(tv())(a.generate(this.n.byteLength()));if(!(0>=(c=this._truncateToN(c,!0)).cmpn(1)||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new gD({r:d,s:p,recoveryParam:g})}}}}}},gz.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(tv())(e,16)),r=this.keyFromPublic(r,n);var i,o=(t=new gD(t,"hex")).r,s=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(i=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&i.eqXToP(o):!(i=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===i.getX().umod(this.n).cmp(o)},gz.prototype.recoverPubKey=function(e,t,r,n){gj((3&r)===r,"The recovery param is more than two bits"),t=new gD(t,n);var i=this.n,o=new(tv())(e),s=t.r,a=t.s,l=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=t.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},gz.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new gD(t,n)).recoveryParam)return t.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(r))return o}throw Error("Unable to find valid recovery factor")};var gH=gg(function(e,t){t.version="6.5.4",t.utils=gA,t.rand=function(){throw Error("unsupported")},t.curve=gR,t.curves=gS,t.ec=gz,t.eddsa=null}).ec;let gK=new pr("signing-key/5.7.0"),gQ=null;function gV(){return gQ||(gQ=new gH("secp256k1")),gQ}class gJ{constructor(e){pi(this,"curve","secp256k1"),pi(this,"privateKey",pP(e)),32!==pT(this.privateKey)&&gK.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=gV().keyFromPrivate(pw(this.privateKey));pi(this,"publicKey","0x"+t.getPublic(!1,"hex")),pi(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),pi(this,"_isSigningKey",!0)}_addPoint(e){let t=gV().keyFromPublic(pw(this.publicKey)),r=gV().keyFromPublic(pw(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=gV().keyFromPrivate(pw(this.privateKey)),r=pw(e);32!==r.length&&gK.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return pO({recoveryParam:n.recoveryParam,r:pC("0x"+n.r.toString(16),32),s:pC("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=gV().keyFromPrivate(pw(this.privateKey)),r=gV().keyFromPublic(pw(gY(e)));return pC("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function gY(e,t){let r=pw(e);if(32===r.length){let e=new gJ(r);return t?"0x"+gV().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?pP(r):"0x"+gV().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+gV().keyFromPublic(r).getPublic(!0,"hex"):pP(r):gK.throwArgumentError("invalid public or private key","key","[REDACTED]")}let gX=new pr("transactions/5.7.0");function gW(e){return"0x"===e?null:p1(e)}function gZ(e){return"0x"===e?gp:pL.from(e)}function g$(e,t){return function(e){let t=gY(e);return p1(px(pz(px(t,1)),12))}(function(e,t){let r=pO(t),n={r:pw(r.r),s:pw(r.s)};return"0x"+gV().recoverPubKey(pw(e),n,r.recoveryParam).encode("hex",!1)}(pw(e),t))}function g0(e,t){let r=pI(pL.from(e).toHexString());return r.length>32&&gX.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function g1(e,t){return{address:p1(e),storageKeys:(t||[]).map((t,r)=>(32!==pT(t)&&gX.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function g2(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&gX.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),g1(e[0],e[1])):g1(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return g1(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function g6(e){return g2(e).map(e=>[e.address,e.storageKeys])}function g3(e,t){if(null!=e.gasPrice){let t=pL.from(e.gasPrice),r=pL.from(e.maxFeePerGas||0);t.eq(r)||gX.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[g0(e.chainId||0,"chainId"),g0(e.nonce||0,"nonce"),g0(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),g0(e.maxFeePerGas||0,"maxFeePerGas"),g0(e.gasLimit||0,"gasLimit"),null!=e.to?p1(e.to):"0x",g0(e.value||0,"value"),e.data||"0x",g6(e.accessList||[])];if(t){let e=pO(t);r.push(g0(e.recoveryParam,"recoveryParam")),r.push(pI(e.r)),r.push(pI(e.s))}return pR(["0x02",pV(r)])}function g5(e,t){let r=[g0(e.chainId||0,"chainId"),g0(e.nonce||0,"nonce"),g0(e.gasPrice||0,"gasPrice"),g0(e.gasLimit||0,"gasLimit"),null!=e.to?p1(e.to):"0x",g0(e.value||0,"value"),e.data||"0x",g6(e.accessList||[])];if(t){let e=pO(t);r.push(g0(e.recoveryParam,"recoveryParam")),r.push(pI(e.r)),r.push(pI(e.s))}return pR(["0x01",pV(r)])}function g4(e,t,r){try{let r=gZ(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){gX.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=pC(t[1],32),e.s=pC(t[2],32);try{let t=pz(r(e));e.from=g$(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function g8(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return pw(t)}function g9(e){e=pw(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}(ec=e1||(e1={}))[ec.legacy=0]="legacy",ec[ec.eip2930=1]="eip2930",ec[ec.eip1559=2]="eip1559";let g7=new pr("web/5.7.1");function me(e){return new Promise(t=>{setTimeout(t,e)})}function mt(e,t){if(null==e)return null;if("string"==typeof e)return e;if(pA(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return p9(e)}catch(e){}return pP(e)}return e}function mr(e,t,r){let n=null;if(null!=t){n=p8(t);let r="string"==typeof e?{url:e}:pa(e);if(r.headers){let e=0!==Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length;e||(r.headers=pa(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return function(e,t,r){let n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;g7.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);let i="object"==typeof e?e.throttleCallback:null,o="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;g7.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);let s="object"==typeof e&&!!e.errorPassThrough,a={},l=null,u={method:"GET"},c=!1,h=12e4;if("string"==typeof e)l=e;else if("object"==typeof e){if((null==e||null==e.url)&&g7.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"==typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(let t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&g7.throwError("basic authentication requires a secure https url",pr.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});let t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+g9(p8(t))}}null!=e.skipFetchSetup&&(u.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(u.fetchOptions=pa(e.fetchOptions))}let f=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=l?l.match(f):null;if(d)try{var p;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?g8(d[3]):(p=d[3],p8(p.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){g7.throwError("processing response error",pr.errors.SERVER_ERROR,{body:mt(d[1],d[2]),error:e,requestBody:null,requestMethod:"GET",url:l})}t&&(u.method="POST",u.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));let g={};Object.keys(a).forEach(e=>{let t=a[e];g[t.key]=t.value}),u.headers=g;let m=function(){let e=null,t=new Promise(function(t,r){h&&(e=setTimeout(()=>{null!=e&&(e=null,r(g7.makeError("timeout",pr.errors.TIMEOUT,{requestBody:mt(u.body,g["content-type"]),requestMethod:u.method,timeout:h,url:l})))},h))});return{promise:t,cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){var e,t,a,h;return e=this,t=void 0,a=void 0,h=function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield function(e,t){var r,n,i,o;return r=this,n=void 0,i=void 0,o=function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}let n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((e,t)=>{o[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{o[e.toLowerCase()]=n.headers.get(e)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:pw(new Uint8Array(i))}},new(i||(i=Promise))(function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}l((o=o.apply(r,n||[])).next())})}(l,u),e<n){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===u.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,l)),r){let r=0,n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield me(r);continue}}}}catch(e){null==(t=e.response)&&(m.cancel(),g7.throwError("missing response",pr.errors.SERVER_ERROR,{requestBody:mt(u.body,g["content-type"]),requestMethod:u.method,serverError:e,url:l}))}let a=t.body;if(c&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(m.cancel(),g7.throwError("bad response",pr.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:mt(a,t.headers?t.headers["content-type"]:null),requestBody:mt(u.body,g["content-type"]),requestMethod:u.method,url:l})),r)try{let e=yield r(a,t);return m.cancel(),e}catch(r){if(r.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,l)),t){let t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield me(t);continue}}m.cancel(),g7.throwError("processing response error",pr.errors.SERVER_ERROR,{body:mt(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:mt(u.body,g["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),a}return g7.throwError("failed response",pr.errors.SERVER_ERROR,{requestBody:mt(u.body,g["content-type"]),requestMethod:u.method,url:l})},new(a||(a=Promise))(function(r,n){function i(e){try{s(h.next(e))}catch(e){n(e)}}function o(e){try{s(h.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}s((h=h.apply(e,t||[])).next())})}();return Promise.race([m.promise,y])}(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(p9(e))}catch(t){g7.throwError("invalid JSON",pr.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function mn(e,t){return t||(t={}),null==(t=pa(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,o=!1,s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(Error("timeout"))},t.timeout));let a=t.retryLimit,l=0;!function i(){return e().then(function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(++l>a){s()&&n(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){s()&&n(e)})}()})}var mi=r(94999);class mo{constructor(e){pi(this,"alphabet",e),pi(this,"base",e.length),pi(this,"_alphabetMap",{}),pi(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=pw(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return pw(new Uint8Array(t.reverse()))}}new mo("abcdefghijklmnopqrstuvwxyz234567");let ms=new mo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function ma(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function ml(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function mu(e,t){let r=ml(e(),e),n=e(),i=ml(n,e),o=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<o[e];t++)r.push(i[e]+t);return t?r.map(e=>t[e]):r}function mc(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,o=0;i<e;i++){var n;r[i]=o+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}let mh=(b=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let e=1;e<n;e++)o.push(i+=r());let s=r(),a=t;t+=s;let l=0,u=0;function c(){return 0==l&&(u=u<<8|e[t++],l=8),u>>--l&1}let h=0;for(let e=0;e<31;e++)h=h<<1|c();let f=[],d=0,p=2147483648;for(;;){let e=Math.floor(((h-d+1)*i-1)/p),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<o[n]?r=n:t=n}if(0==t)break;f.push(t);let s=d+Math.floor(p*o[t]/i),a=d+Math.floor(p*o[t+1]/i)-1;for(;((s^a)&1073741824)==0;)h=h<<1&2147483647|c(),s=s<<1&2147483647,a=a<<1&2147483647|1;for(;s&~a&536870912;)h=1073741824&h|h<<1&1073741823|c(),s=s<<1^1073741824,a=(1073741824^a)<<1|1073741825;d=s,p=1+a-s}let g=n-4;return f.map(t=>{switch(t-g){case 3:return g+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return g+256+(e[a++]<<8|e[a++]);case 1:return g+e[a++];default:return t-1}})}(g8("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")),l=0,()=>b[l++]),mf=new Set(mu(mh)),md=new Set(mu(mh)),mp=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return ma(mc(i.length,1+e,t).map((e,t)=>{let o=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[o+t*r,s.map(e=>e+i)]})}))}(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(mc(1+e(),1+r,e).map(e=>[e[0],e.slice(1)]))}return function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}(ma(t))}(mh),mg=(o=mu(mh).sort((e,t)=>e-t),function e(){let t=[];for(;;){let r=mu(mh,o);if(0==r.length)break;t.push({set:new Set(r),node:e()})}t.sort((e,t)=>t.set.size-e.set.size);let r=mh();return{branches:t,valid:r%3,fe0f:!!(1&(r=r/3|0)),save:1==(r>>=1),check:2==r}}());function mm(e){return function(e,t=e$.current){return p4(p8(e,t))}(e)}function my(e){return e.filter(e=>65039!=e)}function mv(e){for(let t of e.split(".")){let e=mm(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let mA=new pr(p2),mb=new Uint8Array(32);function mE(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function mw(e){let t=p8(mv(function(e,t){let r=mm(e).reverse(),n=[];for(;r.length;){let e=function(e,t){var r;let n,i;let o=mg,s=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(!(o=null===(r=o.branches.find(e=>e.set.has(l)))||void 0===r?void 0:r.node))break;if(o.save)i=l;else if(o.check&&l===i)break;s.push(l),o.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}(r);if(e){n.push(...t(e));continue}let i=r.pop();if(mf.has(i)){n.push(i);continue}if(md.has(i))continue;let o=mp[i];if(o){n.push(...o);continue}throw Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return mv(String.fromCodePoint(...n).normalize("NFC"))}(e,my))),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++){let i=t[e];46===i&&(r.push(mE(t.slice(n,e))),n=e+1)}if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(mE(t.slice(n))),r}function mN(e){"string"!=typeof e&&mA.throwArgumentError("invalid ENS name; not a string","name",e);let t=mb,r=mw(e);for(;r.length;)t=pz(pN([t,pz(r.pop())]));return pP(t)}mb.fill(0);let mI=new pr("networks/5.7.1");function m_(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let i=new t.AnkrProvider(e,r.ankr);i.network&&-1===["ropsten"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return m_(e)},t}function mk(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return mk(e,t)},r}let mP={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:m_("homestead")},mT={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:m_("ropsten")},mx={chainId:63,name:"classicMordor",_defaultProvider:mk("https://www.ethercluster.com/mordor","classicMordor")},mR={unspecified:{chainId:0,name:"unspecified"},homestead:mP,mainnet:mP,morden:{chainId:2,name:"morden"},ropsten:mT,testnet:mT,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:m_("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:m_("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:m_("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:m_("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:mk("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:mx,classicTestnet:mx,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:mk("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:m_("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:m_("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function mS(e){return"0x"+rE().sha256().update(pw(e)).digest("hex")}new pr("sha2/5.7.0");let mC=new pr(pc);class mO{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:o,type:l,accessList:mO.allowNull(this.accessList.bind(this),null),blockHash:mO.allowNull(o,null),blockNumber:mO.allowNull(a,null),transactionIndex:mO.allowNull(a,null),confirmations:mO.allowNull(a,null),from:t,gasPrice:mO.allowNull(r),maxPriorityFeePerGas:mO.allowNull(r),maxFeePerGas:mO.allowNull(r),gasLimit:r,to:mO.allowNull(t,null),value:r,nonce:a,data:i,r:mO.allowNull(this.uint256),s:mO.allowNull(this.uint256),v:mO.allowNull(a),creates:mO.allowNull(t,null),raw:mO.allowNull(i)},e.transactionRequest={from:mO.allowNull(t),nonce:mO.allowNull(a),gasLimit:mO.allowNull(r),gasPrice:mO.allowNull(r),maxPriorityFeePerGas:mO.allowNull(r),maxFeePerGas:mO.allowNull(r),to:mO.allowNull(t),value:mO.allowNull(r),data:mO.allowNull(e=>this.data(e,!0)),type:mO.allowNull(a),accessList:mO.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:t,topics:mO.arrayOf(o),data:i,logIndex:a,blockHash:o},e.receipt={to:mO.allowNull(this.address,null),from:mO.allowNull(this.address,null),contractAddress:mO.allowNull(t,null),transactionIndex:a,root:mO.allowNull(s),gasUsed:r,logsBloom:mO.allowNull(i),blockHash:o,transactionHash:o,logs:mO.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:mO.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:mO.allowNull(r),status:mO.allowNull(a),type:l},e.block={hash:mO.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:mO.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:mO.allowNull(t),extraData:i,transactions:mO.allowNull(mO.arrayOf(o)),baseFeePerGas:mO.allowNull(r)},e.blockWithTransactions=pa(e.block),e.blockWithTransactions.transactions=mO.allowNull(mO.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:mO.allowNull(n,void 0),toBlock:mO.allowNull(n,void 0),blockHash:mO.allowNull(o,void 0),address:mO.allowNull(t,void 0),topics:mO.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:mO.allowNull(a),blockHash:mO.allowNull(o),transactionIndex:a,removed:mO.allowNull(this.boolean.bind(this)),address:t,data:mO.allowFalsish(i,"0x"),topics:mO.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return g2(e||[])}number(e){return"0x"===e?0:pL.from(e).toNumber()}type(e){return"0x"===e||null==e?0:pL.from(e).toNumber()}bigNumber(e){return pL.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),p_(e))?e.toLowerCase():mC.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return p1(e)}callAddress(e){if(!p_(e,32))return null;let t=p1(px(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){return function(e){let t=null;try{t=p1(e.from)}catch(t){pW.throwArgumentError("missing from address","transaction",e)}let r=pI(pw(pL.from(e.nonce).toHexString()));return p1(px(pz(pV([t,r])),12))}(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||p_(e))return pS(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==pT(r)?mC.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=pL.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!p_(e))throw Error("invalid uint256");return pC(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=mO.check(t,e);return n._difficulty=null==r?null:pL.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return mO.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&pL.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=mO.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;p_(r)&&(r=pL.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),p_(r)&&(r=pL.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return function(e){let t=pw(e);if(t[0]>127)return function(e){let t=pX(e);9!==t.length&&6!==t.length&&gX.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:gZ(t[0]).toNumber(),gasPrice:gZ(t[1]),gasLimit:gZ(t[2]),to:gW(t[3]),value:gZ(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=pL.from(t[6]).toNumber()}catch(e){return r}if(r.r=pC(t[7],32),r.s=pC(t[8],32),pL.from(r.r).isZero()&&pL.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(pP(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);let o=pz(pV(i));try{r.from=g$(o,{r:pP(r.r),s:pP(r.s),recoveryParam:n})}catch(e){}r.hash=pz(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){let t=pX(e.slice(1));8!==t.length&&11!==t.length&&gX.throwArgumentError("invalid component count for transaction type: 1","payload",pP(e));let r={type:1,chainId:gZ(t[0]).toNumber(),nonce:gZ(t[1]).toNumber(),gasPrice:gZ(t[2]),gasLimit:gZ(t[3]),to:gW(t[4]),value:gZ(t[5]),data:t[6],accessList:g2(t[7])};return 8===t.length||(r.hash=pz(e),g4(r,t.slice(8),g5)),r}(t);case 2:return function(e){let t=pX(e.slice(1));9!==t.length&&12!==t.length&&gX.throwArgumentError("invalid component count for transaction type: 2","payload",pP(e));let r=gZ(t[2]),n=gZ(t[3]),i={type:2,chainId:gZ(t[0]).toNumber(),nonce:gZ(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:gZ(t[4]),to:gW(t[5]),value:gZ(t[6]),data:t[7],accessList:g2(t[8])};return 9===t.length||(i.hash=pz(e),g4(i,t.slice(9),g3)),i}(t)}return gX.throwError(`unsupported transaction type: ${t[0]}`,pr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}(e)}receiptLog(e){return mO.check(this.formats.receiptLog,e)}receipt(e){let t=mO.check(this.formats.receipt,e);if(null!=t.root){if(t.root.length<=4){let e=pL.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&mC.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):mC.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&mC.throwArgumentError("invalid root hash","value.root",t.root)}return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return mO.check(this.formats.filter,e)}filterLog(e){return mO.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}var mB=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let mF=new pr(pc);function mD(e){return null==e?"null":(32!==pT(e)&&mF.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function mU(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return mD(e);{let t={};e.forEach(e=>{t[mD(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function mL(e){if("string"==typeof e){if(32===pT(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+mU(e);else if(mi.Sg.isForkEvent(e))throw mF.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+mU(e.topics||[]);throw Error("invalid event - "+e)}function mM(){return new Date().getTime()}function mG(e){return new Promise(t=>{setTimeout(t,e)})}let mq=["block","network","pending","poll"];class mj{constructor(e,t,r){pi(this,"tag",e),pi(this,"listener",t),pi(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||mq.indexOf(this.tag)>=0}}let mz={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function mH(e){return pC(pL.from(e).toHexString(),32)}function mK(e){return ms.encode(pN([e,px(mS(mS(e)),0,4)]))}let mQ=RegExp("^(ipfs)://(.*)$","i"),mV=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),mQ,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function mJ(e,t){try{return p9(mY(e,t))}catch(e){}return null}function mY(e,t){if("0x"===e)return null;let r=pL.from(px(e,t,t+32)).toNumber(),n=pL.from(px(e,r,r+32)).toNumber();return px(e,r+32,r+32+n)}function mX(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):mF.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function mW(e){let t=pw(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function mZ(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){let i=pw(e[n]);t[n]=mW(r),t.push(mW(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return pR(t)}class m${constructor(e,t,r,n){pi(this,"provider",e),pi(this,"name",r),pi(this,"address",e.formatter.address(t)),pi(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>pL.from(e).eq(1)).catch(e=>{if(e.code===pr.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return mB(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:pR([e,mN(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=pR(["0x9061b923",mZ([pP(pN(mw(this.name).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00",r.data])]));try{let e=yield this.provider.call(r);return pw(e).length%32==4&&mF.throwError("resolver threw error",pr.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=mY(e,0)),e}catch(e){if(e.code===pr.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return mB(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?mY(r,0):null})}_getAddress(e,t){let r=mz[String(e)];if(null==r&&mF.throwError(`unsupported coin type: ${e}`,pr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=pw(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return mK(pN([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return mK(pN([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=n[1],t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){let e=nj().toWords(n.slice(2));return e.unshift(t),nj().encode(r.prefix,e)}}return null}getAddress(e){return mB(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===pr.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",mH(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&mF.throwError("invalid or unsupported coin data",pr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return mB(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<mV.length;r++){let n=t.match(mV[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:mX(t)};case"erc721":case"erc1155":{let r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;let a=yield this.provider.formatter.address(s[0]),l=pC(pL.from(s[1]).toHexString(),32);if("erc721"===i){let t=this.provider.formatter.callAddress((yield this.provider.call({to:a,data:pR(["0x6352211e",l])})));if(o!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){let t=pL.from((yield this.provider.call({to:a,data:pR(["0x00fdd58e",pC(o,32),l])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let u={to:this.provider.formatter.address(s[0]),data:pR([r,l])},c=mJ((yield this.provider.call(u)),0);if(null==c)return null;e.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=mX(c)),e.push({type:"metadata-url",content:c});let h=yield mr(c);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{let t=f.match(mQ);if(null==t)return null;e.push({type:"url-ipfs",content:f}),f=mX(f)}return e.push({type:"url",content:f}),{linkage:e,url:f}}}}}catch(e){}return null})}getContentHash(){return mB(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+ms.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+ms.encode("0x"+r[1])}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];let i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){let e={"=":"","+":"-","/":"_"},t=g9("0x"+i[1]).replace(/[=+\/]/g,t=>e[t]);return"sia://"+t}return mF.throwError("invalid or unsupported content hash data",pr.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return mB(this,void 0,void 0,function*(){let t=p8(e);(t=pN([mH(64),mH(t.length),t])).length%32!=0&&(t=pN([t,pC("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",pP(t));return null==r||"0x"===r?null:p9(r)})}}let m0=null,m1=1;class m2 extends mi.zt{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),pi(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{let t=po(new.target,"getNetwork")(e);t?(pi(this,"_network",t),this.emit("network",t,null)):mF.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return mB(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||mF.throwError("no network detected",pr.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:pi(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return mn(()=>this._ready().then(e=>e,e=>{if(e.code!==pr.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==m0&&(m0=new mO),m0}static getNetwork(e){return function(e){if(null==e)return null;if("number"==typeof e){for(let t in mR){let r=mR[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=mR[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=mR[e.name];if(!t)return"number"!=typeof e.chainId&&mI.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&mI.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var n;r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return mB(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let e=0;e<r.length;e++){let t=r[e],s=t.replace("{sender}",n).replace("{data}",i),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield mr({url:s,errorPassThrough:!0},a,(e,t)=>(e.status=t.statusCode,e));if(l.data)return l.data;let u=l.message||"unknown error";if(l.status>=400&&l.status<500)return mF.throwError(`response not found during CCIP fetch: ${u}`,pr.errors.SERVER_ERROR,{url:t,errorMessage:u});o.push(u)}return mF.throwError(`error encountered during CCIP fetch: ${o.map(e=>JSON.stringify(e)).join(", ")}`,pr.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return mB(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(mM()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=mM(),r=ps({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;let i=mM();return(e=pL.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return mB(this,void 0,void 0,function*(){let e=m1++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)mF.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",mF.makeError("network block skew detected",pr.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,n=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0;let n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);let i=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(i)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return mB(this,void 0,void 0,function*(){return mF.throwError("provider does not support network detection",pr.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return mB(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield mG(0),this._network;let r=mF.makeError("underlying network changed",pr.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=mM();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=mM(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return mB(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return mB(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,o)=>{let s=[],a=!1,l=function(){return!!a||(a=!0,s.forEach(e=>{e()}),!1)},u=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,u),s.push(()=>{this.removeListener(e,u)}),n){let r=n.startBlock,i=null,u=s=>mB(this,void 0,void 0,function*(){a||(yield mG(1e3),this.getTransactionCount(n.from).then(c=>mB(this,void 0,void 0,function*(){if(!a){if(c<=n.nonce)r=s;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3)<n.startBlock&&(i=n.startBlock);i<=s;){if(a)return;let r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){let s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;let r=yield this.waitForTransaction(s.hash,t);if(l())return;let i="replaced";s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),o(mF.makeError("transaction was replaced",pr.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}));return}}i++}}a||this.once("block",u)}}),e=>{a||this.once("block",u)}))});if(a)return;this.once("block",u),s.push(()=>{this.removeListener("block",u)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{l()||o(mF.makeError("timeout exceeded",pr.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),s.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return mB(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return pL.from(e)}catch(t){return mF.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ps({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return pL.from(n)}catch(e){return mF.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}})}getTransactionCount(e,t){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ps({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return pL.from(n).toNumber()}catch(e){return mF.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}})}getCode(e,t){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ps({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return pP(n)}catch(e){return mF.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}})}getStorageAt(e,t,r){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield ps({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>pS(e))}),i=yield this.perform("getStorageAt",n);try{return pP(i)}catch(e){return mF.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==pT(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&mF.throwError("Transaction hash mismatch from Provider.sendTransaction.",pr.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,n)=>mB(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&mF.throwError("transaction failed",pr.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)}),e}sendTransaction(e){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>pP(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return mB(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?pL.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?pP(e):null))}),this.formatter.transactionRequest((yield ps(r)))})}_getFilter(e){return mB(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield ps(t)))})}_call(e,t,r){return mB(this,void 0,void 0,function*(){r>=10&&mF.throwError("CCIP read exceeded maximum redirections",pr.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&pT(i)%32==4)try{let o=px(i,4),s=px(o,0,32);pL.from(s).eq(n)||mF.throwError("CCIP Read sender did not match",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let a=[],l=pL.from(px(o,32,64)).toNumber(),u=pL.from(px(o,l,l+32)).toNumber(),c=px(o,l+32);for(let t=0;t<u;t++){let r=mJ(c,32*t);null==r&&mF.throwError("CCIP Read contained corrupt URL string",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(r)}let h=mY(o,64);pL.from(px(o,100,128)).isZero()||mF.throwError("CCIP Read callback selector included junk",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let f=px(o,96,100),d=mY(o,128),p=yield this.ccipReadFetch(e,h,a);null==p&&mF.throwError("CCIP Read disabled or provided no URLs",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let g={to:n,data:pR([f,mZ([p,d])])};return this._call(g,t,r+1)}catch(e){if(e.code===pr.errors.SERVER_ERROR)throw e}try{return pP(i)}catch(r){return mF.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}})}call(e,t){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield ps({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield ps({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return pL.from(r)}catch(e){return mF.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return mB(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&mF.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&mF.throwError("ENS name not configured",pr.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return mB(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,n={includeTransactions:!!t};if(p_(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),p_(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){mF.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return mn(()=>mB(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return mB(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return mn(()=>mB(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return mB(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return mn(()=>mB(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}),{oncePoll:this})})}getLogs(e){return mB(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield ps({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),mO.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return mB(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return mB(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&mF.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return mB(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new m$(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return mB(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||mF.throwError("network does not support ENS",pr.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+mN(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return mB(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(p_(e))throw t}"string"!=typeof e&&mF.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return mB(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=mJ((yield this.call({to:r,data:"0x691f3431"+mN(t).substring(2)})),0),i=yield this.resolveName(n);return i!=e?null:n})}getAvatar(e){return mB(this,void 0,void 0,function*(){let t=null;if(p_(e)){let r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(n,"getAvatar");if(!i)return null;t=new m$(this,i,n);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==pr.errors.CALL_EXCEPTION)throw e}try{let e=mJ((yield this.call({to:i,data:"0x691f3431"+mN(n).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==pr.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return mF.throwError(e+" not implemented",pr.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new mj(mL(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=mL(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=mL(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=mL(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=mL(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=mL(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var m6=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let m3=new pr(pc),m5=["call","estimateGas"];function m4(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=p_(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let n=m4(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return m4(JSON.parse(e),t)}catch(e){}return null}function m8(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let e=m4(t,!0);if(e)return e.data;m3.throwError("missing revert data in call exception; Transaction reverted without a reason string",pr.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=m4(t.body,!1);null==r&&(r=m4(t,!1)),r&&m3.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pr.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===pr.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),(i=(i||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&m3.throwError("insufficient funds for intrinsic transaction cost",pr.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&m3.throwError("nonce has already been used",pr.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&m3.throwError("replacement fee too low",pr.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&m3.throwError("legacy pre-eip-155 transactions not supported",pr.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),m5.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&m3.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pr.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function m9(e){return new Promise(function(t){setTimeout(t,e)})}function m7(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function ye(e){return e?e.toLowerCase():e}let yt={};class yr extends pg{constructor(e,t,r){if(super(),e!==yt)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");pi(this,"provider",t),null==r&&(r=0),"string"==typeof r?(pi(this,"_address",this.provider.formatter.address(r)),pi(this,"_index",null)):"number"==typeof r?(pi(this,"_index",r),pi(this,"_address",null)):m3.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return m3.throwError("cannot alter JSON-RPC Signer connection",pr.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new yn(yt,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&m3.throwError("unknown account #"+this._index,pr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=pa(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=pa(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>m6(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&m3.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),ps({tx:ps(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&m3.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>m8("sendTransaction",e,n))})}signTransaction(e){return m3.throwError("signing transactions is unsupported",pr.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return m6(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield mn(()=>m6(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return m6(this,void 0,void 0,function*(){let t="string"==typeof e?p8(e):e,r=yield this.getAddress();return yield this.provider.send("personal_sign",[pP(t),r.toLowerCase()])})}_legacySignMessage(e){return m6(this,void 0,void 0,function*(){let t="string"==typeof e?p8(e):e,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),pP(t)])})}_signTypedData(e,t,r){return m6(this,void 0,void 0,function*(){let n=yield gd.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(gd.getPayload(n.domain,t,n.value))])})}unlock(e){return m6(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class yn extends yr{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let yi={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class yo extends m2{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=po(this.constructor,"defaultUrl")()),"string"==typeof e?pi(this,"connection",Object.freeze({url:e})):pi(this,"connection",Object.freeze(pa(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return m6(this,void 0,void 0,function*(){yield m9(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=po(this.constructor,"getNetwork");try{return t(pL.from(e).toNumber())}catch(t){return m3.throwError("could not detect network",pr.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return m3.throwError("could not detect network",pr.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new yr(yt,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:pu(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=mr(this.connection,JSON.stringify(r),m7).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ye(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ye(t.address),t.blockTag]];case"getCode":return["eth_getCode",[ye(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ye(t.address),pC(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{let e=po(this.constructor,"hexlifyTransaction");return["eth_call",[e(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{let e=po(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[e(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=ye(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return m6(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&pL.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=pa(t)).transaction=pa(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&m3.throwError(e+" not implemented",pr.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return m8(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return m9(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){n()},0),null}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=pa(yi);if(t)for(let e in t)t[e]&&(r[e]=!0);e&&"object"==typeof e||pn.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(t=>{r[t]||pn.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)});let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=pS(pL.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(n[t]=pP(e[t]))}),e.accessList&&(n.accessList=g2(e.accessList)),n}}let ys=new pr(pc),ya=1;function yl(e,t){let r="Web3LegacyFetcher";return function(e,n){let i={method:e,params:n,id:ya++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:pu(i),provider:this}),t(i,(t,o)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){let e=Error(o.error.message);return e.code=o.error.code,e.data=o.error.data,n(e)}e(o.result)})})}}class yu extends yo{constructor(e,t){null==e&&ys.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"==typeof e?(r="unknown:",n=e):(((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),i=e,e.request)?(""===r&&(r="eip-1193:"),n=function(t,r){null==r&&(r=[]);let n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:pu(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})}):e.sendAsync?n=yl(e,e.sendAsync.bind(e)):e.send?n=yl(e,e.send.bind(e)):ys.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),pi(this,"jsonRpcFetchFunc",n),pi(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}var yc=r(50044),yh=new Map,yf=new Map,yd=!0,yp=!1;function yg(e){return e.replace(/[\s,]+/g," ").trim()}function ym(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach(function(t,r){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[r+1]}),function(e){var t=yg(e);if(!yh.has(t)){var r,n,i,o,s,a=dw(e,{experimentalFragmentVariables:yp,allowLegacyFragmentVariables:yp});if(!a||"Document"!==a.kind)throw Error("Not a valid GraphQL document.");yh.set(t,(r=new Set,n=[],a.definitions.forEach(function(e){if("FragmentDefinition"===e.kind){var t,i=e.name.value,o=yg((t=e.loc).source.body.substring(t.start,t.end)),s=yf.get(i);s&&!s.has(o)?yd&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):s||yf.set(i,s=new Set),s.add(o),r.has(o)||(r.add(o),n.push(e))}else n.push(e)}),i=(0,yc.pi)((0,yc.pi)({},a),{definitions:n}),(o=new Set(i.definitions)).forEach(function(e){e.loc&&delete e.loc,Object.keys(e).forEach(function(t){var r=e[t];r&&"object"==typeof r&&o.add(r)})}),(s=i.loc)&&(delete s.startToken,delete s.endToken),i))}return yh.get(t)}(n)}var yy={gql:ym,resetCaches:function(){yh.clear(),yf.clear()},disableFragmentWarnings:function(){yd=!1},enableExperimentalFragmentVariables:function(){yp=!0},disableExperimentalFragmentVariables:function(){yp=!1}};(eh=ym||(ym={})).gql=yy.gql,eh.resetCaches=yy.resetCaches,eh.disableFragmentWarnings=yy.disableFragmentWarnings,eh.enableExperimentalFragmentVariables=yy.enableExperimentalFragmentVariables,eh.disableExperimentalFragmentVariables=yy.disableExperimentalFragmentVariables,ym.default=ym;var yv=ym;let yA=yv`
  mutation CreateDapp($input: DeployDappInput!, $message: Message!) {
    deployDapp(input: $input, message: $message) {
      id
      createdAt
      updatedAt
      deletedAt
      name
      logo
      website
      defaultFolderName
      description
      models {
        modelName
        internal
        streams {
          modelId
          createdAt
          schema
          isPublicDomain
          encryptable
          version
          latest
        }
      }
      address
      ceramic
    }
  }
`,yb=yv`
  mutation UpdateDapp(
    $input: DeployDappInput!
    $message: Message!
    $dappId: String!
  ) {
    deployDapp(input: $input, message: $message, id: $dappId) {
      id
      createdAt
      updatedAt
      deletedAt
      name
      logo
      website
      defaultFolderName
      description
      models {
        modelName
        internal
        streams {
          modelId
          createdAt
          schema
          isPublicDomain
          encryptable
          version
          latest
        }
      }
      address
      ceramic
    }
  }
`,yE=yv`
  query GetFileSystemModels {
    getFileSystemModels
  }
`,yw=yv`
  query GetDapps($address: String, $limit: Int, $offset: Int) {
    getDapps(address: $address, limit: $limit, offset: $offset) {
      id
      createdAt
      updatedAt
      deletedAt
      name
      logo
      website
      defaultFolderName
      description
      models {
        modelName
        internal
        streams {
          modelId
          createdAt
          schema
          isPublicDomain
          encryptable
          version
          latest
        }
      }
      address
      ceramic
    }
  }
`,yN=yv`
  query GetDapp($dappId: String!) {
    getDapp(id: $dappId) {
      id
      createdAt
      updatedAt
      deletedAt
      name
      logo
      website
      defaultFolderName
      description
      models {
        modelName
        internal
        streams {
          modelId
          createdAt
          schema
          isPublicDomain
          encryptable
          version
          latest
        }
      }
      address
      ceramic
    }
  }
`,yI=(e,t,r)=>e();function y_(e,t=yI){return{CreateDapp:(r,n)=>t(t=>e.request(yA,r,{...n,...t}),"CreateDapp","mutation"),UpdateDapp:(r,n)=>t(t=>e.request(yb,r,{...n,...t}),"UpdateDapp","mutation"),GetFileSystemModels:(r,n)=>t(t=>e.request(yE,r,{...n,...t}),"GetFileSystemModels","query"),GetDapps:(r,n)=>t(t=>e.request(yw,r,{...n,...t}),"GetDapps","query"),GetDapp:(r,n)=>t(t=>e.request(yN,r,{...n,...t}),"GetDapp","query")}}var yk=r(62601);let yP=yk.env.DAPP_TABLE_ENDPOINT||"https://gateway.dev.dataverse.art/v1/dapp-table",yT=new dQ(`${yP}/graphql`);async function yx(e){try{let t=await y_(yT).GetDapp({dappId:e});return t.getDapp}catch(e){throw e?.response?.errors?.[0]??e}}async function yR(e){try{let t=await y_(yT).GetDapps(e);return t.getDapps}catch(e){throw e?.response?.errors?.[0]??e}}class yS{constructor(){window.externalWallet||(window.externalWallet=new fN),this.externalWallet=window.externalWallet,window.dataverseCommunicator?this.communicator=window.dataverseCommunicator:(this.communicator=new e6({source:window,target:window.top,methodClass:this.externalWallet}),window.dataverseCommunicator=this.communicator),this.communicator.onRequestMessage(()=>{})}getProvider(){return this.provider}async connectWallet(e){let t,r;if(e?(t=e.wallet,r=e.provider||window.dataverse):r=window.dataverse,r.isDataverse){if(!await fI())throw"The plugin has not been loaded yet. Please check the plugin status or go to https://chrome.google.com/webstore/detail/dataverse/kcigpjcafekokoclamfendmaapcljead to install plugins";if(t===eG.EXTERNAL_WALLET)throw"Conflict between wallet and provider";this.communicator.onRequestMessage(()=>{});let e=new d3,n=await e.connectWallet(t||r.wallet);return this.isConnected&&(!this.externalProvider||this.dataverseProvider)||(e.on("chainChanged",e=>{this.chain.chainId=e}),e.on("chainNameChanged",e=>{this.chain.chainName=e}),e.on("accountsChanged",e=>{this.address=e[0]})),this.isConnected=!0,this.wallet=n.wallet,this.address=n.address,this.chain=n.chain,this.provider=e,this.dataverseProvider=e,{wallet:this.wallet,address:this.address,chain:this.chain}}this.externalProvider=r,window.dataverseExternalProvider=r,this.externalWallet.setProvider(r),this.communicator.onRequestMessage(void 0);let n=new d3,i=await n.connectWallet(eG.EXTERNAL_WALLET);return this.externalProvider.removeAllListeners("chainChanged"),this.externalProvider.removeAllListeners("accountsChanged"),this.externalProvider.on("chainChanged",e=>{let t=Number(e);this.chain.chainId=t,this.chain.chainName=80001===t?"mumbai":1===t?"ethereum":"Unknown"}),this.externalProvider.on("accountsChanged",e=>{this.address=fw(e[0])}),this.isConnected=!0,this.wallet=i.wallet,this.address=i.address,this.chain=i.chain,this.provider=this.externalProvider,{wallet:this.wallet,address:this.address,chain:this.chain}}async getCurrentWallet(){return window.dataverse.getCurrentWallet()}async runOS({method:e,params:t}){if(e!==eX.checkCapability&&e!==eX.loadStream&&e!==eX.loadStreamsBy&&e!==eX.getModelBaseInfo&&!this?.isConnected)throw Error("Please connect wallet first");let r=await this.communicator.sendRequest({method:e,params:t,postMessageTo:"Extension"});return e===eX.createCapability&&(this.appId=t.appId),r}getDAppTable(){return yR()}getDAppInfo(e){return yx(e)}getCurrentPkh(){if(!this.address)throw Error("Please connect wallet first");return`did:pkh:eip155:1:${this.address}`}async createProfile(e){let t=new yu(this.provider,"any"),r=t.getSigner(),n=await d$({handle:e,signer:r});if(0!=n)throw Error("Handle is taken, try a new handle.");return dZ({handle:e,signer:r})}async getProfiles(e){return d0(e)}async isCollected({datatokenId:e,address:t}){return d2({datatokenId:e,address:t})}async getDatatokenBaseInfo(e){return d6(e)}}},9366:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){var t={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=c(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,n=u(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=c(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=o(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[o(e)]},l.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},l.prototype.set=function(e,t){this.map[o(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),p.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},d.call(g.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];y.redirect=function(e,t){if(-1===v.indexOf(t))throw RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(r,n){return new Promise(function(i,o){var s=new g(r,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new y(n,r))},a.onerror=function(){o(TypeError("Network request failed"))},a.ontimeout=function(){o(TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),s.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})}A.polyfill=!0,n.fetch||(n.fetch=A,n.Headers=l,n.Request=g,n.Response=y),e.Headers=l,e.Request=g,e.Response=y,e.fetch=A,Object.defineProperty(e,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},28729:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw TypeError("The listener must be a function");var a=new i(n,o||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},50044:function(e,t,r){"use strict";r.d(t,{CR:function(){return s},Jh:function(){return o},ev:function(){return a},mG:function(){return i},pi:function(){return n}});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}function o(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function a(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError}}]);